function gk(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=e(s);fetch(s.href,l)}})();function wx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $h={exports:{}},ql={};var nv;function yk(){if(nv)return ql;nv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var u in s)u!=="key"&&(l[u]=s[u])}else l=s;return s=l.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:l}}return ql.Fragment=t,ql.jsx=e,ql.jsxs=e,ql}var iv;function bk(){return iv||(iv=1,$h.exports=yk()),$h.exports}var rt=bk(),Yh={exports:{}},Ct={};var rv;function vk(){if(rv)return Ct;rv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),b=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function C(M,P,q){this.props=M,this.context=P,this.refs=E,this.updater=q||x}C.prototype.isReactComponent={},C.prototype.setState=function(M,P){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,P,"setState")},C.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function A(){}A.prototype=C.prototype;function _(M,P,q){this.props=M,this.context=P,this.refs=E,this.updater=q||x}var V=_.prototype=new A;V.constructor=_,w(V,C.prototype),V.isPureReactComponent=!0;var H=Array.isArray;function $(){}var N={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function W(M,P,q){var J=q.ref;return{$$typeof:n,type:M,key:P,ref:J!==void 0?J:null,props:q}}function et(M,P){return W(M.type,P,M.props)}function pt(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function ct(M){var P={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(q){return P[q]})}var wt=/\/+/g;function mt(M,P){return typeof M=="object"&&M!==null&&M.key!=null?ct(""+M.key):P.toString(36)}function yt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then($,$):(M.status="pending",M.then(function(P){M.status==="pending"&&(M.status="fulfilled",M.value=P)},function(P){M.status==="pending"&&(M.status="rejected",M.reason=P)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function D(M,P,q,J,it){var gt=typeof M;(gt==="undefined"||gt==="boolean")&&(M=null);var ut=!1;if(M===null)ut=!0;else switch(gt){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(M.$$typeof){case n:case t:ut=!0;break;case g:return ut=M._init,D(ut(M._payload),P,q,J,it)}}if(ut)return it=it(M),ut=J===""?"."+mt(M,0):J,H(it)?(q="",ut!=null&&(q=ut.replace(wt,"$&/")+"/"),D(it,P,q,"",function(Ie){return Ie})):it!=null&&(pt(it)&&(it=et(it,q+(it.key==null||M&&M.key===it.key?"":(""+it.key).replace(wt,"$&/")+"/")+ut)),P.push(it)),1;ut=0;var kt=J===""?".":J+":";if(H(M))for(var _t=0;_t<M.length;_t++)J=M[_t],gt=kt+mt(J,_t),ut+=D(J,P,q,gt,it);else if(_t=v(M),typeof _t=="function")for(M=_t.call(M),_t=0;!(J=M.next()).done;)J=J.value,gt=kt+mt(J,_t++),ut+=D(J,P,q,gt,it);else if(gt==="object"){if(typeof M.then=="function")return D(yt(M),P,q,J,it);throw P=String(M),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ut}function Y(M,P,q){if(M==null)return M;var J=[],it=0;return D(M,J,"","",function(gt){return P.call(q,gt,it++)}),J}function G(M){if(M._status===-1){var P=M._result;P=P(),P.then(function(q){(M._status===0||M._status===-1)&&(M._status=1,M._result=q)},function(q){(M._status===0||M._status===-1)&&(M._status=2,M._result=q)}),M._status===-1&&(M._status=0,M._result=P)}if(M._status===1)return M._result.default;throw M._result}var xt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Tt={map:Y,forEach:function(M,P,q){Y(M,function(){P.apply(this,arguments)},q)},count:function(M){var P=0;return Y(M,function(){P++}),P},toArray:function(M){return Y(M,function(P){return P})||[]},only:function(M){if(!pt(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ct.Activity=m,Ct.Children=Tt,Ct.Component=C,Ct.Fragment=e,Ct.Profiler=s,Ct.PureComponent=_,Ct.StrictMode=i,Ct.Suspense=d,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Ct.cache=function(M){return function(){return M.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(M,P,q){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var J=w({},M.props),it=M.key;if(P!=null)for(gt in P.key!==void 0&&(it=""+P.key),P)!j.call(P,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&P.ref===void 0||(J[gt]=P[gt]);var gt=arguments.length-2;if(gt===1)J.children=q;else if(1<gt){for(var ut=Array(gt),kt=0;kt<gt;kt++)ut[kt]=arguments[kt+2];J.children=ut}return W(M.type,it,J)},Ct.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Ct.createElement=function(M,P,q){var J,it={},gt=null;if(P!=null)for(J in P.key!==void 0&&(gt=""+P.key),P)j.call(P,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(it[J]=P[J]);var ut=arguments.length-2;if(ut===1)it.children=q;else if(1<ut){for(var kt=Array(ut),_t=0;_t<ut;_t++)kt[_t]=arguments[_t+2];it.children=kt}if(M&&M.defaultProps)for(J in ut=M.defaultProps,ut)it[J]===void 0&&(it[J]=ut[J]);return W(M,gt,it)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(M){return{$$typeof:u,render:M}},Ct.isValidElement=pt,Ct.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:G}},Ct.memo=function(M,P){return{$$typeof:h,type:M,compare:P===void 0?null:P}},Ct.startTransition=function(M){var P=N.T,q={};N.T=q;try{var J=M(),it=N.S;it!==null&&it(q,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then($,xt)}catch(gt){xt(gt)}finally{P!==null&&q.types!==null&&(P.types=q.types),N.T=P}},Ct.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ct.use=function(M){return N.H.use(M)},Ct.useActionState=function(M,P,q){return N.H.useActionState(M,P,q)},Ct.useCallback=function(M,P){return N.H.useCallback(M,P)},Ct.useContext=function(M){return N.H.useContext(M)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(M,P){return N.H.useDeferredValue(M,P)},Ct.useEffect=function(M,P){return N.H.useEffect(M,P)},Ct.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Ct.useId=function(){return N.H.useId()},Ct.useImperativeHandle=function(M,P,q){return N.H.useImperativeHandle(M,P,q)},Ct.useInsertionEffect=function(M,P){return N.H.useInsertionEffect(M,P)},Ct.useLayoutEffect=function(M,P){return N.H.useLayoutEffect(M,P)},Ct.useMemo=function(M,P){return N.H.useMemo(M,P)},Ct.useOptimistic=function(M,P){return N.H.useOptimistic(M,P)},Ct.useReducer=function(M,P,q){return N.H.useReducer(M,P,q)},Ct.useRef=function(M){return N.H.useRef(M)},Ct.useState=function(M){return N.H.useState(M)},Ct.useSyncExternalStore=function(M,P,q){return N.H.useSyncExternalStore(M,P,q)},Ct.useTransition=function(){return N.H.useTransition()},Ct.version="19.2.3",Ct}var sv;function Sa(){return sv||(sv=1,Yh.exports=vk()),Yh.exports}var tt=Sa();const Z=wx(tt),xk=gk({__proto__:null,default:Z},[tt]);var Ph={exports:{}},$l={},Gh={exports:{}},Kh={};var ov;function Sk(){return ov||(ov=1,(function(n){function t(D,Y){var G=D.length;D.push(Y);t:for(;0<G;){var xt=G-1>>>1,Tt=D[xt];if(0<s(Tt,Y))D[xt]=Y,D[G]=Tt,G=xt;else break t}}function e(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var Y=D[0],G=D.pop();if(G!==Y){D[0]=G;t:for(var xt=0,Tt=D.length,M=Tt>>>1;xt<M;){var P=2*(xt+1)-1,q=D[P],J=P+1,it=D[J];if(0>s(q,G))J<Tt&&0>s(it,q)?(D[xt]=it,D[J]=G,xt=J):(D[xt]=q,D[P]=G,xt=P);else if(J<Tt&&0>s(it,G))D[xt]=it,D[J]=G,xt=J;else break t}}return Y}function s(D,Y){var G=D.sortIndex-Y.sortIndex;return G!==0?G:D.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var d=[],h=[],g=1,m=null,b=3,v=!1,x=!1,w=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function V(D){for(var Y=e(h);Y!==null;){if(Y.callback===null)i(h);else if(Y.startTime<=D)i(h),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=e(h)}}function H(D){if(w=!1,V(D),!x)if(e(d)!==null)x=!0,$||($=!0,ct());else{var Y=e(h);Y!==null&&yt(H,Y.startTime-D)}}var $=!1,N=-1,j=5,W=-1;function et(){return E?!0:!(n.unstable_now()-W<j)}function pt(){if(E=!1,$){var D=n.unstable_now();W=D;var Y=!0;try{t:{x=!1,w&&(w=!1,A(N),N=-1),v=!0;var G=b;try{e:{for(V(D),m=e(d);m!==null&&!(m.expirationTime>D&&et());){var xt=m.callback;if(typeof xt=="function"){m.callback=null,b=m.priorityLevel;var Tt=xt(m.expirationTime<=D);if(D=n.unstable_now(),typeof Tt=="function"){m.callback=Tt,V(D),Y=!0;break e}m===e(d)&&i(d),V(D)}else i(d);m=e(d)}if(m!==null)Y=!0;else{var M=e(h);M!==null&&yt(H,M.startTime-D),Y=!1}}break t}finally{m=null,b=G,v=!1}Y=void 0}}finally{Y?ct():$=!1}}}var ct;if(typeof _=="function")ct=function(){_(pt)};else if(typeof MessageChannel<"u"){var wt=new MessageChannel,mt=wt.port2;wt.port1.onmessage=pt,ct=function(){mt.postMessage(null)}}else ct=function(){C(pt,0)};function yt(D,Y){N=C(function(){D(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(D){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var G=b;b=Y;try{return D()}finally{b=G}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(D,Y){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=b;b=D;try{return Y()}finally{b=G}},n.unstable_scheduleCallback=function(D,Y,G){var xt=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?xt+G:xt):G=xt,D){case 1:var Tt=-1;break;case 2:Tt=250;break;case 5:Tt=1073741823;break;case 4:Tt=1e4;break;default:Tt=5e3}return Tt=G+Tt,D={id:g++,callback:Y,priorityLevel:D,startTime:G,expirationTime:Tt,sortIndex:-1},G>xt?(D.sortIndex=G,t(h,D),e(d)===null&&D===e(h)&&(w?(A(N),N=-1):w=!0,yt(H,G-xt))):(D.sortIndex=Tt,t(d,D),x||v||(x=!0,$||($=!0,ct()))),D},n.unstable_shouldYield=et,n.unstable_wrapCallback=function(D){var Y=b;return function(){var G=b;b=Y;try{return D.apply(this,arguments)}finally{b=G}}}})(Kh)),Kh}var lv;function wk(){return lv||(lv=1,Gh.exports=Sk()),Gh.exports}var Xh={exports:{}},He={};var av;function Ek(){if(av)return He;av=1;var n=Sa();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(d,h,g){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:d,containerInfo:h,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,He.createPortal=function(d,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return l(d,h,null,g)},He.flushSync=function(d){var h=c.T,g=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=h,i.p=g,i.d.f()}},He.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},He.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},He.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var g=h.as,m=u(g,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:v}):g==="script"&&i.d.X(d,{crossOrigin:m,integrity:b,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},He.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=u(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},He.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,m=u(g,h.crossOrigin);i.d.L(d,g,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},He.preloadModule=function(d,h){if(typeof d=="string")if(h){var g=u(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},He.requestFormReset=function(d){i.d.r(d)},He.unstable_batchedUpdates=function(d,h){return d(h)},He.useFormState=function(d,h,g){return c.H.useFormState(d,h,g)},He.useFormStatus=function(){return c.H.useHostTransitionStatus()},He.version="19.2.3",He}var cv;function Ex(){if(cv)return Xh.exports;cv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Xh.exports=Ek(),Xh.exports}var uv;function Tk(){if(uv)return $l;uv=1;var n=wk(),t=Sa(),e=Ex();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var o=r,a=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(a=o.return),r=o.return;while(r)}return o.tag===3?a:null}function c(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=l(r),o===null)throw Error(i(188));return o!==r?null:r}for(var a=r,f=o;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(f=p.return,f!==null){a=f;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return d(p),r;if(y===f)return d(p),o;y=y.sibling}throw Error(i(188))}if(a.return!==f.return)a=p,f=y;else{for(var S=!1,T=p.child;T;){if(T===a){S=!0,a=p,f=y;break}if(T===f){S=!0,f=p,a=y;break}T=T.sibling}if(!S){for(T=y.child;T;){if(T===a){S=!0,a=y,f=p;break}if(T===f){S=!0,f=y,a=p;break}T=T.sibling}if(!S)throw Error(i(189))}}if(a.alternate!==f)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:o}function g(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=g(r),o!==null)return o;r=r.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),_=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),et=Symbol.for("react.memo_cache_sentinel"),pt=Symbol.iterator;function ct(r){return r===null||typeof r!="object"?null:(r=pt&&r[pt]||r["@@iterator"],typeof r=="function"?r:null)}var wt=Symbol.for("react.client.reference");function mt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===wt?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case H:return"Suspense";case $:return"SuspenseList";case W:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case x:return"Portal";case _:return r.displayName||"Context";case A:return(r._context.displayName||"Context")+".Consumer";case V:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return o=r.displayName||null,o!==null?o:mt(r.type)||"Memo";case j:o=r._payload,r=r._init;try{return mt(r(o))}catch{}}return null}var yt=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},xt=[],Tt=-1;function M(r){return{current:r}}function P(r){0>Tt||(r.current=xt[Tt],xt[Tt]=null,Tt--)}function q(r,o){Tt++,xt[Tt]=r.current,r.current=o}var J=M(null),it=M(null),gt=M(null),ut=M(null);function kt(r,o){switch(q(gt,o),q(it,r),q(J,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?Cb(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=Cb(o),r=kb(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}P(J),q(J,r)}function _t(){P(J),P(it),P(gt)}function Ie(r){r.memoizedState!==null&&q(ut,r);var o=J.current,a=kb(o,r.type);o!==a&&(q(it,r),q(J,a))}function un(r){it.current===r&&(P(J),P(it)),ut.current===r&&(P(ut),Ul._currentValue=G)}var Ve,Ma;function In(r){if(Ve===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);Ve=o&&o[1]||"",Ma=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+r+Ma}var Ko=!1;function Ls(r,o){if(!r||Ko)return"";Ko=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(U){var B=U}Reflect.construct(r,[],X)}else{try{X.call()}catch(U){B=U}r.call(X.prototype)}}else{try{throw Error()}catch(U){B=U}(X=r())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(U){if(U&&B&&typeof U.stack=="string")return[U.stack,B.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),S=y[0],T=y[1];if(S&&T){var k=S.split(`
`),L=T.split(`
`);for(p=f=0;f<k.length&&!k[f].includes("DetermineComponentFrameRoot");)f++;for(;p<L.length&&!L[p].includes("DetermineComponentFrameRoot");)p++;if(f===k.length||p===L.length)for(f=k.length-1,p=L.length-1;1<=f&&0<=p&&k[f]!==L[p];)p--;for(;1<=f&&0<=p;f--,p--)if(k[f]!==L[p]){if(f!==1||p!==1)do if(f--,p--,0>p||k[f]!==L[p]){var I=`
`+k[f].replace(" at new "," at ");return r.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",r.displayName)),I}while(1<=f&&0<=p);break}}}finally{Ko=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?In(a):""}function Pr(r,o){switch(r.tag){case 26:case 27:case 5:return In(r.type);case 16:return In("Lazy");case 13:return r.child!==o&&o!==null?In("Suspense Fallback"):In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return Ls(r.type,!1);case 11:return Ls(r.type.render,!1);case 1:return Ls(r.type,!0);case 31:return In("Activity");default:return""}}function Xo(r){try{var o="",a=null;do o+=Pr(r,a),a=r,r=r.return;while(r);return o}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var fn=Object.prototype.hasOwnProperty,Fo=n.unstable_scheduleCallback,Jo=n.unstable_cancelCallback,qe=n.unstable_shouldYield,Ji=n.unstable_requestPaint,$e=n.unstable_now,Df=n.unstable_getCurrentPriorityLevel,Gr=n.unstable_ImmediatePriority,Aa=n.unstable_UserBlockingPriority,Kr=n.unstable_NormalPriority,Qo=n.unstable_LowPriority,gi=n.unstable_IdlePriority,Oa=n.log,Qi=n.unstable_setDisableYieldValue,Xr=null,Ye=null;function Vn(r){if(typeof Oa=="function"&&Qi(r),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Xr,r)}catch{}}var Be=Math.clz32?Math.clz32:Zn,Rf=Math.log,Zo=Math.LN2;function Zn(r){return r>>>=0,r===0?32:31-(Rf(r)/Zo|0)|0}var Bs=256,_s=262144,Fr=4194304;function Wn(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Et(r,o,a){var f=r.pendingLanes;if(f===0)return 0;var p=0,y=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var T=f&134217727;return T!==0?(f=T&~y,f!==0?p=Wn(f):(S&=T,S!==0?p=Wn(S):a||(a=T&~r,a!==0&&(p=Wn(a))))):(T=f&~y,T!==0?p=Wn(T):S!==0?p=Wn(S):a||(a=f&~r,a!==0&&(p=Wn(a)))),p===0?0:o!==0&&o!==p&&(o&y)===0&&(y=p&-p,a=o&-o,y>=a||y===32&&(a&4194048)!==0)?o:p}function Zt(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function ve(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _e(){var r=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),r}function Zi(r){for(var o=[],a=0;31>a;a++)o.push(r);return o}function ee(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Je(r,o,a,f,p,y){var S=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var T=r.entanglements,k=r.expirationTimes,L=r.hiddenUpdates;for(a=S&~a;0<a;){var I=31-Be(a),X=1<<I;T[I]=0,k[I]=-1;var B=L[I];if(B!==null)for(L[I]=null,I=0;I<B.length;I++){var U=B[I];U!==null&&(U.lane&=-536870913)}a&=~X}f!==0&&Jr(r,f,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(S&~o))}function Jr(r,o,a){r.pendingLanes|=o,r.suspendedLanes&=~o;var f=31-Be(o);r.entangledLanes|=o,r.entanglements[f]=r.entanglements[f]|1073741824|a&261930}function Qe(r,o){var a=r.entangledLanes|=o;for(r=r.entanglements;a;){var f=31-Be(a),p=1<<f;p&o|r[f]&o&&(r[f]|=o),a&=~p}}function Ze(r,o){var a=o&-o;return a=(a&42)!==0?1:Hs(a),(a&(r.suspendedLanes|o))!==0?0:a}function Hs(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function qn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function zf(){var r=Y.p;return r!==0?r:(r=window.event,r===void 0?32:Fb(r.type))}function fg(r,o){var a=Y.p;try{return Y.p=r,o()}finally{Y.p=a}}var Wi=Math.random().toString(36).slice(2),ke="__reactFiber$"+Wi,We="__reactProps$"+Wi,Us="__reactContainer$"+Wi,Lf="__reactEvents$"+Wi,sT="__reactListeners$"+Wi,oT="__reactHandles$"+Wi,dg="__reactResources$"+Wi,Wo="__reactMarker$"+Wi;function Bf(r){delete r[ke],delete r[We],delete r[Lf],delete r[sT],delete r[oT]}function js(r){var o=r[ke];if(o)return o;for(var a=r.parentNode;a;){if(o=a[Us]||a[ke]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(r=zb(r);r!==null;){if(a=r[ke])return a;r=zb(r)}return o}r=a,a=r.parentNode}return null}function Is(r){if(r=r[ke]||r[Us]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function tl(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function Vs(r){var o=r[dg];return o||(o=r[dg]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function xe(r){r[Wo]=!0}var hg=new Set,pg={};function Qr(r,o){qs(r,o),qs(r+"Capture",o)}function qs(r,o){for(pg[r]=o,r=0;r<o.length;r++)hg.add(o[r])}var lT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mg={},gg={};function aT(r){return fn.call(gg,r)?!0:fn.call(mg,r)?!1:lT.test(r)?gg[r]=!0:(mg[r]=!0,!1)}function Na(r,o,a){if(aT(o))if(a===null)r.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+a)}}function Da(r,o,a){if(a===null)r.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+a)}}function yi(r,o,a,f){if(f===null)r.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(o,a,""+f)}}function En(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function yg(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function cT(r,o,a){var f=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var p=f.get,y=f.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return p.call(this)},set:function(S){a=""+S,y.call(this,S)}}),Object.defineProperty(r,o,{enumerable:f.enumerable}),{getValue:function(){return a},setValue:function(S){a=""+S},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function _f(r){if(!r._valueTracker){var o=yg(r)?"checked":"value";r._valueTracker=cT(r,o,""+r[o])}}function bg(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var a=o.getValue(),f="";return r&&(f=yg(r)?r.checked?"true":"false":r.value),r=f,r!==a?(o.setValue(r),!0):!1}function Ra(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var uT=/[\n"\\]/g;function Tn(r){return r.replace(uT,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Hf(r,o,a,f,p,y,S,T){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),o!=null?S==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+En(o)):r.value!==""+En(o)&&(r.value=""+En(o)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),o!=null?Uf(r,S,En(o)):a!=null?Uf(r,S,En(a)):f!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.name=""+En(T):r.removeAttribute("name")}function vg(r,o,a,f,p,y,S,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),o!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||o!=null)){_f(r);return}a=a!=null?""+En(a):"",o=o!=null?""+En(o):a,T||o===r.value||(r.value=o),r.defaultValue=o}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=T?r.checked:!!f,r.defaultChecked=!!f,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S),_f(r)}function Uf(r,o,a){o==="number"&&Ra(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function $s(r,o,a,f){if(r=r.options,o){o={};for(var p=0;p<a.length;p++)o["$"+a[p]]=!0;for(a=0;a<r.length;a++)p=o.hasOwnProperty("$"+r[a].value),r[a].selected!==p&&(r[a].selected=p),p&&f&&(r[a].defaultSelected=!0)}else{for(a=""+En(a),o=null,p=0;p<r.length;p++){if(r[p].value===a){r[p].selected=!0,f&&(r[p].defaultSelected=!0);return}o!==null||r[p].disabled||(o=r[p])}o!==null&&(o.selected=!0)}}function xg(r,o,a){if(o!=null&&(o=""+En(o),o!==r.value&&(r.value=o),a==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=a!=null?""+En(a):""}function Sg(r,o,a,f){if(o==null){if(f!=null){if(a!=null)throw Error(i(92));if(yt(f)){if(1<f.length)throw Error(i(93));f=f[0]}a=f}a==null&&(a=""),o=a}a=En(o),r.defaultValue=a,f=r.textContent,f===a&&f!==""&&f!==null&&(r.value=f),_f(r)}function Ys(r,o){if(o){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=o;return}}r.textContent=o}var fT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wg(r,o,a){var f=o.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?f?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":f?r.setProperty(o,a):typeof a!="number"||a===0||fT.has(o)?o==="float"?r.cssFloat=a:r[o]=(""+a).trim():r[o]=a+"px"}function Eg(r,o,a){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,a!=null){for(var f in a)!a.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var p in o)f=o[p],o.hasOwnProperty(p)&&a[p]!==f&&wg(r,p,f)}else for(var y in o)o.hasOwnProperty(y)&&wg(r,y,o[y])}function jf(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(r){return hT.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function bi(){}var If=null;function Vf(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ps=null,Gs=null;function Tg(r){var o=Is(r);if(o&&(r=o.stateNode)){var a=r[We]||null;t:switch(r=o.stateNode,o.type){case"input":if(Hf(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),o=a.name,a.type==="radio"&&o!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tn(""+o)+'"][type="radio"]'),o=0;o<a.length;o++){var f=a[o];if(f!==r&&f.form===r.form){var p=f[We]||null;if(!p)throw Error(i(90));Hf(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<a.length;o++)f=a[o],f.form===r.form&&bg(f)}break t;case"textarea":xg(r,a.value,a.defaultValue);break t;case"select":o=a.value,o!=null&&$s(r,!!a.multiple,o,!1)}}}var qf=!1;function Cg(r,o,a){if(qf)return r(o,a);qf=!0;try{var f=r(o);return f}finally{if(qf=!1,(Ps!==null||Gs!==null)&&(xc(),Ps&&(o=Ps,r=Gs,Gs=Ps=null,Tg(o),r)))for(o=0;o<r.length;o++)Tg(r[o])}}function el(r,o){var a=r.stateNode;if(a===null)return null;var f=a[We]||null;if(f===null)return null;a=f[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break t;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,o,typeof a));return a}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$f=!1;if(vi)try{var nl={};Object.defineProperty(nl,"passive",{get:function(){$f=!0}}),window.addEventListener("test",nl,nl),window.removeEventListener("test",nl,nl)}catch{$f=!1}var tr=null,Yf=null,La=null;function kg(){if(La)return La;var r,o=Yf,a=o.length,f,p="value"in tr?tr.value:tr.textContent,y=p.length;for(r=0;r<a&&o[r]===p[r];r++);var S=a-r;for(f=1;f<=S&&o[a-f]===p[y-f];f++);return La=p.slice(r,1<f?1-f:void 0)}function Ba(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function _a(){return!0}function Mg(){return!1}function tn(r){function o(a,f,p,y,S){this._reactName=a,this._targetInst=p,this.type=f,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(a=r[T],this[T]=a?a(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?_a:Mg,this.isPropagationStopped=Mg,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),o}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=tn(Zr),il=m({},Zr,{view:0,detail:0}),pT=tn(il),Pf,Gf,rl,Ua=m({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xf,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==rl&&(rl&&r.type==="mousemove"?(Pf=r.screenX-rl.screenX,Gf=r.screenY-rl.screenY):Gf=Pf=0,rl=r),Pf)},movementY:function(r){return"movementY"in r?r.movementY:Gf}}),Ag=tn(Ua),mT=m({},Ua,{dataTransfer:0}),gT=tn(mT),yT=m({},il,{relatedTarget:0}),Kf=tn(yT),bT=m({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),vT=tn(bT),xT=m({},Zr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ST=tn(xT),wT=m({},Zr,{data:0}),Og=tn(wT),ET={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kT(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=CT[r])?!!o[r]:!1}function Xf(){return kT}var MT=m({},il,{key:function(r){if(r.key){var o=ET[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Ba(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?TT[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xf,charCode:function(r){return r.type==="keypress"?Ba(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ba(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),AT=tn(MT),OT=m({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ng=tn(OT),NT=m({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xf}),DT=tn(NT),RT=m({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),zT=tn(RT),LT=m({},Ua,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),BT=tn(LT),_T=m({},Zr,{newState:0,oldState:0}),HT=tn(_T),UT=[9,13,27,32],Ff=vi&&"CompositionEvent"in window,sl=null;vi&&"documentMode"in document&&(sl=document.documentMode);var jT=vi&&"TextEvent"in window&&!sl,Dg=vi&&(!Ff||sl&&8<sl&&11>=sl),Rg=" ",zg=!1;function Lg(r,o){switch(r){case"keyup":return UT.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ks=!1;function IT(r,o){switch(r){case"compositionend":return Bg(o);case"keypress":return o.which!==32?null:(zg=!0,Rg);case"textInput":return r=o.data,r===Rg&&zg?null:r;default:return null}}function VT(r,o){if(Ks)return r==="compositionend"||!Ff&&Lg(r,o)?(r=kg(),La=Yf=tr=null,Ks=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Dg&&o.locale!=="ko"?null:o.data;default:return null}}var qT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _g(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!qT[r.type]:o==="textarea"}function Hg(r,o,a,f){Ps?Gs?Gs.push(f):Gs=[f]:Ps=f,o=Mc(o,"onChange"),0<o.length&&(a=new Ha("onChange","change",null,a,f),r.push({event:a,listeners:o}))}var ol=null,ll=null;function $T(r){vb(r,0)}function ja(r){var o=tl(r);if(bg(o))return r}function Ug(r,o){if(r==="change")return o}var jg=!1;if(vi){var Jf;if(vi){var Qf="oninput"in document;if(!Qf){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Qf=typeof Ig.oninput=="function"}Jf=Qf}else Jf=!1;jg=Jf&&(!document.documentMode||9<document.documentMode)}function Vg(){ol&&(ol.detachEvent("onpropertychange",qg),ll=ol=null)}function qg(r){if(r.propertyName==="value"&&ja(ll)){var o=[];Hg(o,ll,r,Vf(r)),Cg($T,o)}}function YT(r,o,a){r==="focusin"?(Vg(),ol=o,ll=a,ol.attachEvent("onpropertychange",qg)):r==="focusout"&&Vg()}function PT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ja(ll)}function GT(r,o){if(r==="click")return ja(o)}function KT(r,o){if(r==="input"||r==="change")return ja(o)}function XT(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var dn=typeof Object.is=="function"?Object.is:XT;function al(r,o){if(dn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var a=Object.keys(r),f=Object.keys(o);if(a.length!==f.length)return!1;for(f=0;f<a.length;f++){var p=a[f];if(!fn.call(o,p)||!dn(r[p],o[p]))return!1}return!0}function $g(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Yg(r,o){var a=$g(r);r=0;for(var f;a;){if(a.nodeType===3){if(f=r+a.textContent.length,r<=o&&f>=o)return{node:a,offset:o-r};r=f}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=$g(a)}}function Pg(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Pg(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Gg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Ra(r.document);o instanceof r.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)r=o.contentWindow;else break;o=Ra(r.document)}return o}function Zf(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var FT=vi&&"documentMode"in document&&11>=document.documentMode,Xs=null,Wf=null,cl=null,td=!1;function Kg(r,o,a){var f=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;td||Xs==null||Xs!==Ra(f)||(f=Xs,"selectionStart"in f&&Zf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),cl&&al(cl,f)||(cl=f,f=Mc(Wf,"onSelect"),0<f.length&&(o=new Ha("onSelect","select",null,o,a),r.push({event:o,listeners:f}),o.target=Xs)))}function Wr(r,o){var a={};return a[r.toLowerCase()]=o.toLowerCase(),a["Webkit"+r]="webkit"+o,a["Moz"+r]="moz"+o,a}var Fs={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},ed={},Xg={};vi&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function ts(r){if(ed[r])return ed[r];if(!Fs[r])return r;var o=Fs[r],a;for(a in o)if(o.hasOwnProperty(a)&&a in Xg)return ed[r]=o[a];return r}var Fg=ts("animationend"),Jg=ts("animationiteration"),Qg=ts("animationstart"),JT=ts("transitionrun"),QT=ts("transitionstart"),ZT=ts("transitioncancel"),Zg=ts("transitionend"),Wg=new Map,nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nd.push("scrollEnd");function $n(r,o){Wg.set(r,o),Qr(o,[r])}var Ia=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Cn=[],Js=0,id=0;function Va(){for(var r=Js,o=id=Js=0;o<r;){var a=Cn[o];Cn[o++]=null;var f=Cn[o];Cn[o++]=null;var p=Cn[o];Cn[o++]=null;var y=Cn[o];if(Cn[o++]=null,f!==null&&p!==null){var S=f.pending;S===null?p.next=p:(p.next=S.next,S.next=p),f.pending=p}y!==0&&ty(a,p,y)}}function qa(r,o,a,f){Cn[Js++]=r,Cn[Js++]=o,Cn[Js++]=a,Cn[Js++]=f,id|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function rd(r,o,a,f){return qa(r,o,a,f),$a(r)}function es(r,o){return qa(r,null,null,o),$a(r)}function ty(r,o,a){r.lanes|=a;var f=r.alternate;f!==null&&(f.lanes|=a);for(var p=!1,y=r.return;y!==null;)y.childLanes|=a,f=y.alternate,f!==null&&(f.childLanes|=a),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&o!==null&&(p=31-Be(a),r=y.hiddenUpdates,f=r[p],f===null?r[p]=[o]:f.push(o),o.lane=a|536870912),y):null}function $a(r){if(50<Dl)throw Dl=0,hh=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Qs={};function WT(r,o,a,f){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(r,o,a,f){return new WT(r,o,a,f)}function sd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xi(r,o){var a=r.alternate;return a===null?(a=hn(r.tag,o,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=o,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,o=r.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function ey(r,o){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,o=a.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Ya(r,o,a,f,p,y){var S=0;if(f=r,typeof r=="function")sd(r)&&(S=1);else if(typeof r=="string")S=rk(r,a,J.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case W:return r=hn(31,a,o,p),r.elementType=W,r.lanes=y,r;case w:return ns(a.children,p,y,o);case E:S=8,p|=24;break;case C:return r=hn(12,a,o,p|2),r.elementType=C,r.lanes=y,r;case H:return r=hn(13,a,o,p),r.elementType=H,r.lanes=y,r;case $:return r=hn(19,a,o,p),r.elementType=$,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:S=10;break t;case A:S=9;break t;case V:S=11;break t;case N:S=14;break t;case j:S=16,f=null;break t}S=29,a=Error(i(130,r===null?"null":typeof r,"")),f=null}return o=hn(S,a,o,p),o.elementType=r,o.type=f,o.lanes=y,o}function ns(r,o,a,f){return r=hn(7,r,f,o),r.lanes=a,r}function od(r,o,a){return r=hn(6,r,null,o),r.lanes=a,r}function ny(r){var o=hn(18,null,null,0);return o.stateNode=r,o}function ld(r,o,a){return o=hn(4,r.children!==null?r.children:[],r.key,o),o.lanes=a,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var iy=new WeakMap;function kn(r,o){if(typeof r=="object"&&r!==null){var a=iy.get(r);return a!==void 0?a:(o={value:r,source:o,stack:Xo(o)},iy.set(r,o),o)}return{value:r,source:o,stack:Xo(o)}}var Zs=[],Ws=0,Pa=null,ul=0,Mn=[],An=0,er=null,ti=1,ei="";function Si(r,o){Zs[Ws++]=ul,Zs[Ws++]=Pa,Pa=r,ul=o}function ry(r,o,a){Mn[An++]=ti,Mn[An++]=ei,Mn[An++]=er,er=r;var f=ti;r=ei;var p=32-Be(f)-1;f&=~(1<<p),a+=1;var y=32-Be(o)+p;if(30<y){var S=p-p%5;y=(f&(1<<S)-1).toString(32),f>>=S,p-=S,ti=1<<32-Be(o)+p|a<<p|f,ei=y+r}else ti=1<<y|a<<p|f,ei=r}function ad(r){r.return!==null&&(Si(r,1),ry(r,1,0))}function cd(r){for(;r===Pa;)Pa=Zs[--Ws],Zs[Ws]=null,ul=Zs[--Ws],Zs[Ws]=null;for(;r===er;)er=Mn[--An],Mn[An]=null,ei=Mn[--An],Mn[An]=null,ti=Mn[--An],Mn[An]=null}function sy(r,o){Mn[An++]=ti,Mn[An++]=ei,Mn[An++]=er,ti=o.id,ei=o.overflow,er=r}var Me=null,Xt=null,Bt=!1,nr=null,On=!1,ud=Error(i(519));function ir(r){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(kn(o,r)),ud}function oy(r){var o=r.stateNode,a=r.type,f=r.memoizedProps;switch(o[ke]=r,o[We]=f,a){case"dialog":Rt("cancel",o),Rt("close",o);break;case"iframe":case"object":case"embed":Rt("load",o);break;case"video":case"audio":for(a=0;a<zl.length;a++)Rt(zl[a],o);break;case"source":Rt("error",o);break;case"img":case"image":case"link":Rt("error",o),Rt("load",o);break;case"details":Rt("toggle",o);break;case"input":Rt("invalid",o),vg(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Rt("invalid",o);break;case"textarea":Rt("invalid",o),Sg(o,f.value,f.defaultValue,f.children)}a=f.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||o.textContent===""+a||f.suppressHydrationWarning===!0||Eb(o.textContent,a)?(f.popover!=null&&(Rt("beforetoggle",o),Rt("toggle",o)),f.onScroll!=null&&Rt("scroll",o),f.onScrollEnd!=null&&Rt("scrollend",o),f.onClick!=null&&(o.onclick=bi),o=!0):o=!1,o||ir(r,!0)}function ly(r){for(Me=r.return;Me;)switch(Me.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Me=Me.return}}function to(r){if(r!==Me)return!1;if(!Bt)return ly(r),Bt=!0,!1;var o=r.tag,a;if((a=o!==3&&o!==27)&&((a=o===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||Ah(r.type,r.memoizedProps)),a=!a),a&&Xt&&ir(r),ly(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Xt=Rb(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Xt=Rb(r)}else o===27?(o=Xt,yr(r.type)?(r=zh,zh=null,Xt=r):Xt=o):Xt=Me?Dn(r.stateNode.nextSibling):null;return!0}function is(){Xt=Me=null,Bt=!1}function fd(){var r=nr;return r!==null&&(sn===null?sn=r:sn.push.apply(sn,r),nr=null),r}function fl(r){nr===null?nr=[r]:nr.push(r)}var dd=M(null),rs=null,wi=null;function rr(r,o,a){q(dd,o._currentValue),o._currentValue=a}function Ei(r){r._currentValue=dd.current,P(dd)}function hd(r,o,a){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===a)break;r=r.return}}function pd(r,o,a,f){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var S=p.child;y=y.firstContext;t:for(;y!==null;){var T=y;y=p;for(var k=0;k<o.length;k++)if(T.context===o[k]){y.lanes|=a,T=y.alternate,T!==null&&(T.lanes|=a),hd(y.return,a,r),f||(S=null);break t}y=T.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(i(341));S.lanes|=a,y=S.alternate,y!==null&&(y.lanes|=a),hd(S,a,r),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===r){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function eo(r,o,a,f){r=null;for(var p=o,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var T=p.type;dn(p.pendingProps.value,S.value)||(r!==null?r.push(T):r=[T])}}else if(p===ut.current){if(S=p.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Ul):r=[Ul])}p=p.return}r!==null&&pd(o,r,a,f),o.flags|=262144}function Ga(r){for(r=r.firstContext;r!==null;){if(!dn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ss(r){rs=r,wi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ae(r){return ay(rs,r)}function Ka(r,o){return rs===null&&ss(r),ay(r,o)}function ay(r,o){var a=o._currentValue;if(o={context:o,memoizedValue:a,next:null},wi===null){if(r===null)throw Error(i(308));wi=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else wi=wi.next=o;return a}var tC=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(a,f){r.push(f)}};this.abort=function(){o.aborted=!0,r.forEach(function(a){return a()})}},eC=n.unstable_scheduleCallback,nC=n.unstable_NormalPriority,ue={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new tC,data:new Map,refCount:0}}function dl(r){r.refCount--,r.refCount===0&&eC(nC,function(){r.controller.abort()})}var hl=null,gd=0,no=0,io=null;function iC(r,o){if(hl===null){var a=hl=[];gd=0,no=vh(),io={status:"pending",value:void 0,then:function(f){a.push(f)}}}return gd++,o.then(cy,cy),o}function cy(){if(--gd===0&&hl!==null){io!==null&&(io.status="fulfilled");var r=hl;hl=null,no=0,io=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function rC(r,o){var a=[],f={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return r.then(function(){f.status="fulfilled",f.value=o;for(var p=0;p<a.length;p++)(0,a[p])(o)},function(p){for(f.status="rejected",f.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),f}var uy=D.S;D.S=function(r,o){K0=$e(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&iC(r,o),uy!==null&&uy(r,o)};var ls=M(null);function yd(){var r=ls.current;return r!==null?r:Gt.pooledCache}function Xa(r,o){o===null?q(ls,ls.current):q(ls,o.pool)}function fy(){var r=yd();return r===null?null:{parent:ue._currentValue,pool:r}}var ro=Error(i(460)),bd=Error(i(474)),Fa=Error(i(542)),Ja={then:function(){}};function dy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function hy(r,o,a){switch(a=r[a],a===void 0?r.push(o):a!==o&&(o.then(bi,bi),o=a),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,my(r),r;default:if(typeof o.status=="string")o.then(bi,bi);else{if(r=Gt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(f){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=f}},function(f){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,my(r),r}throw cs=o,ro}}function as(r){try{var o=r._init;return o(r._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(cs=a,ro):a}}var cs=null;function py(){if(cs===null)throw Error(i(459));var r=cs;return cs=null,r}function my(r){if(r===ro||r===Fa)throw Error(i(483))}var so=null,pl=0;function Qa(r){var o=pl;return pl+=1,so===null&&(so=[]),hy(so,r,o)}function ml(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Za(r,o){throw o.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function gy(r){function o(R,O){if(r){var z=R.deletions;z===null?(R.deletions=[O],R.flags|=16):z.push(O)}}function a(R,O){if(!r)return null;for(;O!==null;)o(R,O),O=O.sibling;return null}function f(R){for(var O=new Map;R!==null;)R.key!==null?O.set(R.key,R):O.set(R.index,R),R=R.sibling;return O}function p(R,O){return R=xi(R,O),R.index=0,R.sibling=null,R}function y(R,O,z){return R.index=z,r?(z=R.alternate,z!==null?(z=z.index,z<O?(R.flags|=67108866,O):z):(R.flags|=67108866,O)):(R.flags|=1048576,O)}function S(R){return r&&R.alternate===null&&(R.flags|=67108866),R}function T(R,O,z,K){return O===null||O.tag!==6?(O=od(z,R.mode,K),O.return=R,O):(O=p(O,z),O.return=R,O)}function k(R,O,z,K){var dt=z.type;return dt===w?I(R,O,z.props.children,K,z.key):O!==null&&(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===j&&as(dt)===O.type)?(O=p(O,z.props),ml(O,z),O.return=R,O):(O=Ya(z.type,z.key,z.props,null,R.mode,K),ml(O,z),O.return=R,O)}function L(R,O,z,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=ld(z,R.mode,K),O.return=R,O):(O=p(O,z.children||[]),O.return=R,O)}function I(R,O,z,K,dt){return O===null||O.tag!==7?(O=ns(z,R.mode,K,dt),O.return=R,O):(O=p(O,z),O.return=R,O)}function X(R,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=od(""+O,R.mode,z),O.return=R,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case v:return z=Ya(O.type,O.key,O.props,null,R.mode,z),ml(z,O),z.return=R,z;case x:return O=ld(O,R.mode,z),O.return=R,O;case j:return O=as(O),X(R,O,z)}if(yt(O)||ct(O))return O=ns(O,R.mode,z,null),O.return=R,O;if(typeof O.then=="function")return X(R,Qa(O),z);if(O.$$typeof===_)return X(R,Ka(R,O),z);Za(R,O)}return null}function B(R,O,z,K){var dt=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return dt!==null?null:T(R,O,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return z.key===dt?k(R,O,z,K):null;case x:return z.key===dt?L(R,O,z,K):null;case j:return z=as(z),B(R,O,z,K)}if(yt(z)||ct(z))return dt!==null?null:I(R,O,z,K,null);if(typeof z.then=="function")return B(R,O,Qa(z),K);if(z.$$typeof===_)return B(R,O,Ka(R,z),K);Za(R,z)}return null}function U(R,O,z,K,dt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return R=R.get(z)||null,T(O,R,""+K,dt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return R=R.get(K.key===null?z:K.key)||null,k(O,R,K,dt);case x:return R=R.get(K.key===null?z:K.key)||null,L(O,R,K,dt);case j:return K=as(K),U(R,O,z,K,dt)}if(yt(K)||ct(K))return R=R.get(z)||null,I(O,R,K,dt,null);if(typeof K.then=="function")return U(R,O,z,Qa(K),dt);if(K.$$typeof===_)return U(R,O,z,Ka(O,K),dt);Za(O,K)}return null}function st(R,O,z,K){for(var dt=null,Ht=null,at=O,At=O=0,Lt=null;at!==null&&At<z.length;At++){at.index>At?(Lt=at,at=null):Lt=at.sibling;var Ut=B(R,at,z[At],K);if(Ut===null){at===null&&(at=Lt);break}r&&at&&Ut.alternate===null&&o(R,at),O=y(Ut,O,At),Ht===null?dt=Ut:Ht.sibling=Ut,Ht=Ut,at=Lt}if(At===z.length)return a(R,at),Bt&&Si(R,At),dt;if(at===null){for(;At<z.length;At++)at=X(R,z[At],K),at!==null&&(O=y(at,O,At),Ht===null?dt=at:Ht.sibling=at,Ht=at);return Bt&&Si(R,At),dt}for(at=f(at);At<z.length;At++)Lt=U(at,R,At,z[At],K),Lt!==null&&(r&&Lt.alternate!==null&&at.delete(Lt.key===null?At:Lt.key),O=y(Lt,O,At),Ht===null?dt=Lt:Ht.sibling=Lt,Ht=Lt);return r&&at.forEach(function(wr){return o(R,wr)}),Bt&&Si(R,At),dt}function bt(R,O,z,K){if(z==null)throw Error(i(151));for(var dt=null,Ht=null,at=O,At=O=0,Lt=null,Ut=z.next();at!==null&&!Ut.done;At++,Ut=z.next()){at.index>At?(Lt=at,at=null):Lt=at.sibling;var wr=B(R,at,Ut.value,K);if(wr===null){at===null&&(at=Lt);break}r&&at&&wr.alternate===null&&o(R,at),O=y(wr,O,At),Ht===null?dt=wr:Ht.sibling=wr,Ht=wr,at=Lt}if(Ut.done)return a(R,at),Bt&&Si(R,At),dt;if(at===null){for(;!Ut.done;At++,Ut=z.next())Ut=X(R,Ut.value,K),Ut!==null&&(O=y(Ut,O,At),Ht===null?dt=Ut:Ht.sibling=Ut,Ht=Ut);return Bt&&Si(R,At),dt}for(at=f(at);!Ut.done;At++,Ut=z.next())Ut=U(at,R,At,Ut.value,K),Ut!==null&&(r&&Ut.alternate!==null&&at.delete(Ut.key===null?At:Ut.key),O=y(Ut,O,At),Ht===null?dt=Ut:Ht.sibling=Ut,Ht=Ut);return r&&at.forEach(function(mk){return o(R,mk)}),Bt&&Si(R,At),dt}function Pt(R,O,z,K){if(typeof z=="object"&&z!==null&&z.type===w&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case v:t:{for(var dt=z.key;O!==null;){if(O.key===dt){if(dt=z.type,dt===w){if(O.tag===7){a(R,O.sibling),K=p(O,z.props.children),K.return=R,R=K;break t}}else if(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===j&&as(dt)===O.type){a(R,O.sibling),K=p(O,z.props),ml(K,z),K.return=R,R=K;break t}a(R,O);break}else o(R,O);O=O.sibling}z.type===w?(K=ns(z.props.children,R.mode,K,z.key),K.return=R,R=K):(K=Ya(z.type,z.key,z.props,null,R.mode,K),ml(K,z),K.return=R,R=K)}return S(R);case x:t:{for(dt=z.key;O!==null;){if(O.key===dt)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(R,O.sibling),K=p(O,z.children||[]),K.return=R,R=K;break t}else{a(R,O);break}else o(R,O);O=O.sibling}K=ld(z,R.mode,K),K.return=R,R=K}return S(R);case j:return z=as(z),Pt(R,O,z,K)}if(yt(z))return st(R,O,z,K);if(ct(z)){if(dt=ct(z),typeof dt!="function")throw Error(i(150));return z=dt.call(z),bt(R,O,z,K)}if(typeof z.then=="function")return Pt(R,O,Qa(z),K);if(z.$$typeof===_)return Pt(R,O,Ka(R,z),K);Za(R,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(R,O.sibling),K=p(O,z),K.return=R,R=K):(a(R,O),K=od(z,R.mode,K),K.return=R,R=K),S(R)):a(R,O)}return function(R,O,z,K){try{pl=0;var dt=Pt(R,O,z,K);return so=null,dt}catch(at){if(at===ro||at===Fa)throw at;var Ht=hn(29,at,null,R.mode);return Ht.lanes=K,Ht.return=R,Ht}}}var us=gy(!0),yy=gy(!1),sr=!1;function vd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xd(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function or(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function lr(r,o,a){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(jt&2)!==0){var p=f.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),f.pending=o,o=$a(r),ty(r,null,a),o}return qa(r,f,o,a),$a(r)}function gl(r,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194048)!==0)){var f=o.lanes;f&=r.pendingLanes,a|=f,o.lanes=a,Qe(r,a)}}function Sd(r,o){var a=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,a===f)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?p=y=S:y=y.next=S,a=a.next}while(a!==null);y===null?p=y=o:y=y.next=o}else p=y=o;a={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=o:r.next=o,a.lastBaseUpdate=o}var wd=!1;function yl(){if(wd){var r=io;if(r!==null)throw r}}function bl(r,o,a,f){wd=!1;var p=r.updateQueue;sr=!1;var y=p.firstBaseUpdate,S=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var k=T,L=k.next;k.next=null,S===null?y=L:S.next=L,S=k;var I=r.alternate;I!==null&&(I=I.updateQueue,T=I.lastBaseUpdate,T!==S&&(T===null?I.firstBaseUpdate=L:T.next=L,I.lastBaseUpdate=k))}if(y!==null){var X=p.baseState;S=0,I=L=k=null,T=y;do{var B=T.lane&-536870913,U=B!==T.lane;if(U?(zt&B)===B:(f&B)===B){B!==0&&B===no&&(wd=!0),I!==null&&(I=I.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var st=r,bt=T;B=o;var Pt=a;switch(bt.tag){case 1:if(st=bt.payload,typeof st=="function"){X=st.call(Pt,X,B);break t}X=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=bt.payload,B=typeof st=="function"?st.call(Pt,X,B):st,B==null)break t;X=m({},X,B);break t;case 2:sr=!0}}B=T.callback,B!==null&&(r.flags|=64,U&&(r.flags|=8192),U=p.callbacks,U===null?p.callbacks=[B]:U.push(B))}else U={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},I===null?(L=I=U,k=X):I=I.next=U,S|=B;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;U=T,T=U.next,U.next=null,p.lastBaseUpdate=U,p.shared.pending=null}}while(!0);I===null&&(k=X),p.baseState=k,p.firstBaseUpdate=L,p.lastBaseUpdate=I,y===null&&(p.shared.lanes=0),dr|=S,r.lanes=S,r.memoizedState=X}}function by(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function vy(r,o){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)by(a[r],o)}var oo=M(null),Wa=M(0);function xy(r,o){r=Ri,q(Wa,r),q(oo,o),Ri=r|o.baseLanes}function Ed(){q(Wa,Ri),q(oo,oo.current)}function Td(){Ri=Wa.current,P(oo),P(Wa)}var pn=M(null),Nn=null;function ar(r){var o=r.alternate;q(ae,ae.current&1),q(pn,r),Nn===null&&(o===null||oo.current!==null||o.memoizedState!==null)&&(Nn=r)}function Cd(r){q(ae,ae.current),q(pn,r),Nn===null&&(Nn=r)}function Sy(r){r.tag===22?(q(ae,ae.current),q(pn,r),Nn===null&&(Nn=r)):cr()}function cr(){q(ae,ae.current),q(pn,pn.current)}function mn(r){P(pn),Nn===r&&(Nn=null),P(ae)}var ae=M(0);function tc(r){for(var o=r;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Dh(a)||Rh(a)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ti=0,Mt=null,$t=null,fe=null,ec=!1,lo=!1,fs=!1,nc=0,vl=0,ao=null,sC=0;function re(){throw Error(i(321))}function kd(r,o){if(o===null)return!1;for(var a=0;a<o.length&&a<r.length;a++)if(!dn(r[a],o[a]))return!1;return!0}function Md(r,o,a,f,p,y){return Ti=y,Mt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,D.H=r===null||r.memoizedState===null?r0:qd,fs=!1,y=a(f,p),fs=!1,lo&&(y=Ey(o,a,f,p)),wy(r),y}function wy(r){D.H=wl;var o=$t!==null&&$t.next!==null;if(Ti=0,fe=$t=Mt=null,ec=!1,vl=0,ao=null,o)throw Error(i(300));r===null||de||(r=r.dependencies,r!==null&&Ga(r)&&(de=!0))}function Ey(r,o,a,f){Mt=r;var p=0;do{if(lo&&(ao=null),vl=0,lo=!1,25<=p)throw Error(i(301));if(p+=1,fe=$t=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}D.H=s0,y=o(a,f)}while(lo);return y}function oC(){var r=D.H,o=r.useState()[0];return o=typeof o.then=="function"?xl(o):o,r=r.useState()[0],($t!==null?$t.memoizedState:null)!==r&&(Mt.flags|=1024),o}function Ad(){var r=nc!==0;return nc=0,r}function Od(r,o,a){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~a}function Nd(r){if(ec){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}ec=!1}Ti=0,fe=$t=Mt=null,lo=!1,vl=nc=0,ao=null}function Pe(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?Mt.memoizedState=fe=r:fe=fe.next=r,fe}function ce(){if($t===null){var r=Mt.alternate;r=r!==null?r.memoizedState:null}else r=$t.next;var o=fe===null?Mt.memoizedState:fe.next;if(o!==null)fe=o,$t=r;else{if(r===null)throw Mt.alternate===null?Error(i(467)):Error(i(310));$t=r,r={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},fe===null?Mt.memoizedState=fe=r:fe=fe.next=r}return fe}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(r){var o=vl;return vl+=1,ao===null&&(ao=[]),r=hy(ao,r,o),o=Mt,(fe===null?o.memoizedState:fe.next)===null&&(o=o.alternate,D.H=o===null||o.memoizedState===null?r0:qd),r}function rc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return xl(r);if(r.$$typeof===_)return Ae(r)}throw Error(i(438,String(r)))}function Dd(r){var o=null,a=Mt.updateQueue;if(a!==null&&(o=a.memoCache),o==null){var f=Mt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),a===null&&(a=ic(),Mt.updateQueue=a),a.memoCache=o,a=o.data[o.index],a===void 0)for(a=o.data[o.index]=Array(r),f=0;f<r;f++)a[f]=et;return o.index++,a}function Ci(r,o){return typeof o=="function"?o(r):o}function sc(r){var o=ce();return Rd(o,$t,r)}function Rd(r,o,a){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=a;var p=r.baseQueue,y=f.pending;if(y!==null){if(p!==null){var S=p.next;p.next=y.next,y.next=S}o.baseQueue=p=y,f.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{o=p.next;var T=S=null,k=null,L=o,I=!1;do{var X=L.lane&-536870913;if(X!==L.lane?(zt&X)===X:(Ti&X)===X){var B=L.revertLane;if(B===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),X===no&&(I=!0);else if((Ti&B)===B){L=L.next,B===no&&(I=!0);continue}else X={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},k===null?(T=k=X,S=y):k=k.next=X,Mt.lanes|=B,dr|=B;X=L.action,fs&&a(y,X),y=L.hasEagerState?L.eagerState:a(y,X)}else B={lane:X,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},k===null?(T=k=B,S=y):k=k.next=B,Mt.lanes|=X,dr|=X;L=L.next}while(L!==null&&L!==o);if(k===null?S=y:k.next=T,!dn(y,r.memoizedState)&&(de=!0,I&&(a=io,a!==null)))throw a;r.memoizedState=y,r.baseState=S,r.baseQueue=k,f.lastRenderedState=y}return p===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function zd(r){var o=ce(),a=o.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var f=a.dispatch,p=a.pending,y=o.memoizedState;if(p!==null){a.pending=null;var S=p=p.next;do y=r(y,S.action),S=S.next;while(S!==p);dn(y,o.memoizedState)||(de=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),a.lastRenderedState=y}return[y,f]}function Ty(r,o,a){var f=Mt,p=ce(),y=Bt;if(y){if(a===void 0)throw Error(i(407));a=a()}else a=o();var S=!dn(($t||p).memoizedState,a);if(S&&(p.memoizedState=a,de=!0),p=p.queue,_d(My.bind(null,f,p,r),[r]),p.getSnapshot!==o||S||fe!==null&&fe.memoizedState.tag&1){if(f.flags|=2048,co(9,{destroy:void 0},ky.bind(null,f,p,a,o),null),Gt===null)throw Error(i(349));y||(Ti&127)!==0||Cy(f,o,a)}return a}function Cy(r,o,a){r.flags|=16384,r={getSnapshot:o,value:a},o=Mt.updateQueue,o===null?(o=ic(),Mt.updateQueue=o,o.stores=[r]):(a=o.stores,a===null?o.stores=[r]:a.push(r))}function ky(r,o,a,f){o.value=a,o.getSnapshot=f,Ay(o)&&Oy(r)}function My(r,o,a){return a(function(){Ay(o)&&Oy(r)})}function Ay(r){var o=r.getSnapshot;r=r.value;try{var a=o();return!dn(r,a)}catch{return!0}}function Oy(r){var o=es(r,2);o!==null&&on(o,r,2)}function Ld(r){var o=Pe();if(typeof r=="function"){var a=r;if(r=a(),fs){Vn(!0);try{a()}finally{Vn(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:r},o}function Ny(r,o,a,f){return r.baseState=a,Rd(r,$t,typeof f=="function"?f:Ci)}function lC(r,o,a,f,p){if(ac(r))throw Error(i(485));if(r=o.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};D.T!==null?a(!0):y.isTransition=!1,f(y),a=o.pending,a===null?(y.next=o.pending=y,Dy(o,y)):(y.next=a.next,o.pending=a.next=y)}}function Dy(r,o){var a=o.action,f=o.payload,p=r.state;if(o.isTransition){var y=D.T,S={};D.T=S;try{var T=a(p,f),k=D.S;k!==null&&k(S,T),Ry(r,o,T)}catch(L){Bd(r,o,L)}finally{y!==null&&S.types!==null&&(y.types=S.types),D.T=y}}else try{y=a(p,f),Ry(r,o,y)}catch(L){Bd(r,o,L)}}function Ry(r,o,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(f){zy(r,o,f)},function(f){return Bd(r,o,f)}):zy(r,o,a)}function zy(r,o,a){o.status="fulfilled",o.value=a,Ly(o),r.state=a,o=r.pending,o!==null&&(a=o.next,a===o?r.pending=null:(a=a.next,o.next=a,Dy(r,a)))}function Bd(r,o,a){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=a,Ly(o),o=o.next;while(o!==f)}r.action=null}function Ly(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function By(r,o){return o}function _y(r,o){if(Bt){var a=Gt.formState;if(a!==null){t:{var f=Mt;if(Bt){if(Xt){e:{for(var p=Xt,y=On;p.nodeType!==8;){if(!y){p=null;break e}if(p=Dn(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Xt=Dn(p.nextSibling),f=p.data==="F!";break t}}ir(f)}f=!1}f&&(o=a[0])}}return a=Pe(),a.memoizedState=a.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:By,lastRenderedState:o},a.queue=f,a=e0.bind(null,Mt,f),f.dispatch=a,f=Ld(!1),y=Vd.bind(null,Mt,!1,f.queue),f=Pe(),p={state:o,dispatch:null,action:r,pending:null},f.queue=p,a=lC.bind(null,Mt,p,y,a),p.dispatch=a,f.memoizedState=r,[o,a,!1]}function Hy(r){var o=ce();return Uy(o,$t,r)}function Uy(r,o,a){if(o=Rd(r,o,By)[0],r=sc(Ci)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=xl(o)}catch(S){throw S===ro?Fa:S}else f=o;o=ce();var p=o.queue,y=p.dispatch;return a!==o.memoizedState&&(Mt.flags|=2048,co(9,{destroy:void 0},aC.bind(null,p,a),null)),[f,y,r]}function aC(r,o){r.action=o}function jy(r){var o=ce(),a=$t;if(a!==null)return Uy(o,a,r);ce(),o=o.memoizedState,a=ce();var f=a.queue.dispatch;return a.memoizedState=r,[o,f,!1]}function co(r,o,a,f){return r={tag:r,create:a,deps:f,inst:o,next:null},o=Mt.updateQueue,o===null&&(o=ic(),Mt.updateQueue=o),a=o.lastEffect,a===null?o.lastEffect=r.next=r:(f=a.next,a.next=r,r.next=f,o.lastEffect=r),r}function Iy(){return ce().memoizedState}function oc(r,o,a,f){var p=Pe();Mt.flags|=r,p.memoizedState=co(1|o,{destroy:void 0},a,f===void 0?null:f)}function lc(r,o,a,f){var p=ce();f=f===void 0?null:f;var y=p.memoizedState.inst;$t!==null&&f!==null&&kd(f,$t.memoizedState.deps)?p.memoizedState=co(o,y,a,f):(Mt.flags|=r,p.memoizedState=co(1|o,y,a,f))}function Vy(r,o){oc(8390656,8,r,o)}function _d(r,o){lc(2048,8,r,o)}function cC(r){Mt.flags|=4;var o=Mt.updateQueue;if(o===null)o=ic(),Mt.updateQueue=o,o.events=[r];else{var a=o.events;a===null?o.events=[r]:a.push(r)}}function qy(r){var o=ce().memoizedState;return cC({ref:o,nextImpl:r}),function(){if((jt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function $y(r,o){return lc(4,2,r,o)}function Yy(r,o){return lc(4,4,r,o)}function Py(r,o){if(typeof o=="function"){r=r();var a=o(r);return function(){typeof a=="function"?a():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Gy(r,o,a){a=a!=null?a.concat([r]):null,lc(4,4,Py.bind(null,o,r),a)}function Hd(){}function Ky(r,o){var a=ce();o=o===void 0?null:o;var f=a.memoizedState;return o!==null&&kd(o,f[1])?f[0]:(a.memoizedState=[r,o],r)}function Xy(r,o){var a=ce();o=o===void 0?null:o;var f=a.memoizedState;if(o!==null&&kd(o,f[1]))return f[0];if(f=r(),fs){Vn(!0);try{r()}finally{Vn(!1)}}return a.memoizedState=[f,o],f}function Ud(r,o,a){return a===void 0||(Ti&1073741824)!==0&&(zt&261930)===0?r.memoizedState=o:(r.memoizedState=a,r=F0(),Mt.lanes|=r,dr|=r,a)}function Fy(r,o,a,f){return dn(a,o)?a:oo.current!==null?(r=Ud(r,a,f),dn(r,o)||(de=!0),r):(Ti&42)===0||(Ti&1073741824)!==0&&(zt&261930)===0?(de=!0,r.memoizedState=a):(r=F0(),Mt.lanes|=r,dr|=r,o)}function Jy(r,o,a,f,p){var y=Y.p;Y.p=y!==0&&8>y?y:8;var S=D.T,T={};D.T=T,Vd(r,!1,o,a);try{var k=p(),L=D.S;if(L!==null&&L(T,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var I=rC(k,f);Sl(r,o,I,bn(r))}else Sl(r,o,f,bn(r))}catch(X){Sl(r,o,{then:function(){},status:"rejected",reason:X},bn())}finally{Y.p=y,S!==null&&T.types!==null&&(S.types=T.types),D.T=S}}function uC(){}function jd(r,o,a,f){if(r.tag!==5)throw Error(i(476));var p=Qy(r).queue;Jy(r,p,o,G,a===null?uC:function(){return Zy(r),a(f)})}function Qy(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:G},next:null};var a={};return o.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:a},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function Zy(r){var o=Qy(r);o.next===null&&(o=r.alternate.memoizedState),Sl(r,o.next.queue,{},bn())}function Id(){return Ae(Ul)}function Wy(){return ce().memoizedState}function t0(){return ce().memoizedState}function fC(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var a=bn();r=or(a);var f=lr(o,r,a);f!==null&&(on(f,o,a),gl(f,o,a)),o={cache:md()},r.payload=o;return}o=o.return}}function dC(r,o,a){var f=bn();a={lane:f,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ac(r)?n0(o,a):(a=rd(r,o,a,f),a!==null&&(on(a,r,f),i0(a,o,f)))}function e0(r,o,a){var f=bn();Sl(r,o,a,f)}function Sl(r,o,a,f){var p={lane:f,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(r))n0(o,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,T=y(S,a);if(p.hasEagerState=!0,p.eagerState=T,dn(T,S))return qa(r,o,p,0),Gt===null&&Va(),!1}catch{}if(a=rd(r,o,p,f),a!==null)return on(a,r,f),i0(a,o,f),!0}return!1}function Vd(r,o,a,f){if(f={lane:2,revertLane:vh(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},ac(r)){if(o)throw Error(i(479))}else o=rd(r,a,f,2),o!==null&&on(o,r,2)}function ac(r){var o=r.alternate;return r===Mt||o!==null&&o===Mt}function n0(r,o){lo=ec=!0;var a=r.pending;a===null?o.next=o:(o.next=a.next,a.next=o),r.pending=o}function i0(r,o,a){if((a&4194048)!==0){var f=o.lanes;f&=r.pendingLanes,a|=f,o.lanes=a,Qe(r,a)}}var wl={readContext:Ae,use:rc,useCallback:re,useContext:re,useEffect:re,useImperativeHandle:re,useLayoutEffect:re,useInsertionEffect:re,useMemo:re,useReducer:re,useRef:re,useState:re,useDebugValue:re,useDeferredValue:re,useTransition:re,useSyncExternalStore:re,useId:re,useHostTransitionStatus:re,useFormState:re,useActionState:re,useOptimistic:re,useMemoCache:re,useCacheRefresh:re};wl.useEffectEvent=re;var r0={readContext:Ae,use:rc,useCallback:function(r,o){return Pe().memoizedState=[r,o===void 0?null:o],r},useContext:Ae,useEffect:Vy,useImperativeHandle:function(r,o,a){a=a!=null?a.concat([r]):null,oc(4194308,4,Py.bind(null,o,r),a)},useLayoutEffect:function(r,o){return oc(4194308,4,r,o)},useInsertionEffect:function(r,o){oc(4,2,r,o)},useMemo:function(r,o){var a=Pe();o=o===void 0?null:o;var f=r();if(fs){Vn(!0);try{r()}finally{Vn(!1)}}return a.memoizedState=[f,o],f},useReducer:function(r,o,a){var f=Pe();if(a!==void 0){var p=a(o);if(fs){Vn(!0);try{a(o)}finally{Vn(!1)}}}else p=o;return f.memoizedState=f.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},f.queue=r,r=r.dispatch=dC.bind(null,Mt,r),[f.memoizedState,r]},useRef:function(r){var o=Pe();return r={current:r},o.memoizedState=r},useState:function(r){r=Ld(r);var o=r.queue,a=e0.bind(null,Mt,o);return o.dispatch=a,[r.memoizedState,a]},useDebugValue:Hd,useDeferredValue:function(r,o){var a=Pe();return Ud(a,r,o)},useTransition:function(){var r=Ld(!1);return r=Jy.bind(null,Mt,r.queue,!0,!1),Pe().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,a){var f=Mt,p=Pe();if(Bt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=o(),Gt===null)throw Error(i(349));(zt&127)!==0||Cy(f,o,a)}p.memoizedState=a;var y={value:a,getSnapshot:o};return p.queue=y,Vy(My.bind(null,f,y,r),[r]),f.flags|=2048,co(9,{destroy:void 0},ky.bind(null,f,y,a,o),null),a},useId:function(){var r=Pe(),o=Gt.identifierPrefix;if(Bt){var a=ei,f=ti;a=(f&~(1<<32-Be(f)-1)).toString(32)+a,o="_"+o+"R_"+a,a=nc++,0<a&&(o+="H"+a.toString(32)),o+="_"}else a=sC++,o="_"+o+"r_"+a.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:Id,useFormState:_y,useActionState:_y,useOptimistic:function(r){var o=Pe();o.memoizedState=o.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=a,o=Vd.bind(null,Mt,!0,a),a.dispatch=o,[r,o]},useMemoCache:Dd,useCacheRefresh:function(){return Pe().memoizedState=fC.bind(null,Mt)},useEffectEvent:function(r){var o=Pe(),a={impl:r};return o.memoizedState=a,function(){if((jt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},qd={readContext:Ae,use:rc,useCallback:Ky,useContext:Ae,useEffect:_d,useImperativeHandle:Gy,useInsertionEffect:$y,useLayoutEffect:Yy,useMemo:Xy,useReducer:sc,useRef:Iy,useState:function(){return sc(Ci)},useDebugValue:Hd,useDeferredValue:function(r,o){var a=ce();return Fy(a,$t.memoizedState,r,o)},useTransition:function(){var r=sc(Ci)[0],o=ce().memoizedState;return[typeof r=="boolean"?r:xl(r),o]},useSyncExternalStore:Ty,useId:Wy,useHostTransitionStatus:Id,useFormState:Hy,useActionState:Hy,useOptimistic:function(r,o){var a=ce();return Ny(a,$t,r,o)},useMemoCache:Dd,useCacheRefresh:t0};qd.useEffectEvent=qy;var s0={readContext:Ae,use:rc,useCallback:Ky,useContext:Ae,useEffect:_d,useImperativeHandle:Gy,useInsertionEffect:$y,useLayoutEffect:Yy,useMemo:Xy,useReducer:zd,useRef:Iy,useState:function(){return zd(Ci)},useDebugValue:Hd,useDeferredValue:function(r,o){var a=ce();return $t===null?Ud(a,r,o):Fy(a,$t.memoizedState,r,o)},useTransition:function(){var r=zd(Ci)[0],o=ce().memoizedState;return[typeof r=="boolean"?r:xl(r),o]},useSyncExternalStore:Ty,useId:Wy,useHostTransitionStatus:Id,useFormState:jy,useActionState:jy,useOptimistic:function(r,o){var a=ce();return $t!==null?Ny(a,$t,r,o):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:Dd,useCacheRefresh:t0};s0.useEffectEvent=qy;function $d(r,o,a,f){o=r.memoizedState,a=a(f,o),a=a==null?o:m({},o,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Yd={enqueueSetState:function(r,o,a){r=r._reactInternals;var f=bn(),p=or(f);p.payload=o,a!=null&&(p.callback=a),o=lr(r,p,f),o!==null&&(on(o,r,f),gl(o,r,f))},enqueueReplaceState:function(r,o,a){r=r._reactInternals;var f=bn(),p=or(f);p.tag=1,p.payload=o,a!=null&&(p.callback=a),o=lr(r,p,f),o!==null&&(on(o,r,f),gl(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var a=bn(),f=or(a);f.tag=2,o!=null&&(f.callback=o),o=lr(r,f,a),o!==null&&(on(o,r,a),gl(o,r,a))}};function o0(r,o,a,f,p,y,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,y,S):o.prototype&&o.prototype.isPureReactComponent?!al(a,f)||!al(p,y):!0}function l0(r,o,a,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,f),o.state!==r&&Yd.enqueueReplaceState(o,o.state,null)}function ds(r,o){var a=o;if("ref"in o){a={};for(var f in o)f!=="ref"&&(a[f]=o[f])}if(r=r.defaultProps){a===o&&(a=m({},a));for(var p in r)a[p]===void 0&&(a[p]=r[p])}return a}function a0(r){Ia(r)}function c0(r){console.error(r)}function u0(r){Ia(r)}function cc(r,o){try{var a=r.onUncaughtError;a(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function f0(r,o,a){try{var f=r.onCaughtError;f(a.value,{componentStack:a.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Pd(r,o,a){return a=or(a),a.tag=3,a.payload={element:null},a.callback=function(){cc(r,o)},a}function d0(r){return r=or(r),r.tag=3,r}function h0(r,o,a,f){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var y=f.value;r.payload=function(){return p(y)},r.callback=function(){f0(o,a,f)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){f0(o,a,f),typeof p!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var T=f.stack;this.componentDidCatch(f.value,{componentStack:T!==null?T:""})})}function hC(r,o,a,f,p){if(a.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=a.alternate,o!==null&&eo(o,a,p,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return Nn===null?Sc():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=p,f===Ja?a.flags|=16384:(o=a.updateQueue,o===null?a.updateQueue=new Set([f]):o.add(f),gh(r,f,p)),!1;case 22:return a.flags|=65536,f===Ja?a.flags|=16384:(o=a.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},a.updateQueue=o):(a=o.retryQueue,a===null?o.retryQueue=new Set([f]):a.add(f)),gh(r,f,p)),!1}throw Error(i(435,a.tag))}return gh(r,f,p),Sc(),!1}if(Bt)return o=pn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=p,f!==ud&&(r=Error(i(422),{cause:f}),fl(kn(r,a)))):(f!==ud&&(o=Error(i(423),{cause:f}),fl(kn(o,a))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,f=kn(f,a),p=Pd(r.stateNode,f,p),Sd(r,p),se!==4&&(se=2)),!1;var y=Error(i(520),{cause:f});if(y=kn(y,a),Nl===null?Nl=[y]:Nl.push(y),se!==4&&(se=2),o===null)return!0;f=kn(f,a),a=o;do{switch(a.tag){case 3:return a.flags|=65536,r=p&-p,a.lanes|=r,r=Pd(a.stateNode,f,r),Sd(a,r),!1;case 1:if(o=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(hr===null||!hr.has(y))))return a.flags|=65536,p&=-p,a.lanes|=p,p=d0(p),h0(p,r,a,f),Sd(a,p),!1}a=a.return}while(a!==null);return!1}var Gd=Error(i(461)),de=!1;function Oe(r,o,a,f){o.child=r===null?yy(o,null,a,f):us(o,r.child,a,f)}function p0(r,o,a,f,p){a=a.render;var y=o.ref;if("ref"in f){var S={};for(var T in f)T!=="ref"&&(S[T]=f[T])}else S=f;return ss(o),f=Md(r,o,a,S,y,p),T=Ad(),r!==null&&!de?(Od(r,o,p),ki(r,o,p)):(Bt&&T&&ad(o),o.flags|=1,Oe(r,o,f,p),o.child)}function m0(r,o,a,f,p){if(r===null){var y=a.type;return typeof y=="function"&&!sd(y)&&y.defaultProps===void 0&&a.compare===null?(o.tag=15,o.type=y,g0(r,o,y,f,p)):(r=Ya(a.type,null,f,o,o.mode,p),r.ref=o.ref,r.return=o,o.child=r)}if(y=r.child,!th(r,p)){var S=y.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(S,f)&&r.ref===o.ref)return ki(r,o,p)}return o.flags|=1,r=xi(y,f),r.ref=o.ref,r.return=o,o.child=r}function g0(r,o,a,f,p){if(r!==null){var y=r.memoizedProps;if(al(y,f)&&r.ref===o.ref)if(de=!1,o.pendingProps=f=y,th(r,p))(r.flags&131072)!==0&&(de=!0);else return o.lanes=r.lanes,ki(r,o,p)}return Kd(r,o,a,f,p)}function y0(r,o,a,f){var p=f.children,y=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((o.flags&128)!==0){if(y=y!==null?y.baseLanes|a:a,r!==null){for(f=o.child=r.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;f=p&~y}else f=0,o.child=null;return b0(r,o,y,a,f)}if((a&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Xa(o,y!==null?y.cachePool:null),y!==null?xy(o,y):Ed(),Sy(o);else return f=o.lanes=536870912,b0(r,o,y!==null?y.baseLanes|a:a,a,f)}else y!==null?(Xa(o,y.cachePool),xy(o,y),cr(),o.memoizedState=null):(r!==null&&Xa(o,null),Ed(),cr());return Oe(r,o,p,a),o.child}function El(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function b0(r,o,a,f,p){var y=yd();return y=y===null?null:{parent:ue._currentValue,pool:y},o.memoizedState={baseLanes:a,cachePool:y},r!==null&&Xa(o,null),Ed(),Sy(o),r!==null&&eo(r,o,f,!0),o.childLanes=p,null}function uc(r,o){return o=dc({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function v0(r,o,a){return us(o,r.child,null,a),r=uc(o,o.pendingProps),r.flags|=2,mn(o),o.memoizedState=null,r}function pC(r,o,a){var f=o.pendingProps,p=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(Bt){if(f.mode==="hidden")return r=uc(o,f),o.lanes=536870912,El(null,r);if(Cd(o),(r=Xt)?(r=Db(r,On),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:er!==null?{id:ti,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},a=ny(r),a.return=o,o.child=a,Me=o,Xt=null)):r=null,r===null)throw ir(o);return o.lanes=536870912,null}return uc(o,f)}var y=r.memoizedState;if(y!==null){var S=y.dehydrated;if(Cd(o),p)if(o.flags&256)o.flags&=-257,o=v0(r,o,a);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(i(558));else if(de||eo(r,o,a,!1),p=(a&r.childLanes)!==0,de||p){if(f=Gt,f!==null&&(S=Ze(f,a),S!==0&&S!==y.retryLane))throw y.retryLane=S,es(r,S),on(f,r,S),Gd;Sc(),o=v0(r,o,a)}else r=y.treeContext,Xt=Dn(S.nextSibling),Me=o,Bt=!0,nr=null,On=!1,r!==null&&sy(o,r),o=uc(o,f),o.flags|=4096;return o}return r=xi(r.child,{mode:f.mode,children:f.children}),r.ref=o.ref,o.child=r,r.return=o,r}function fc(r,o){var a=o.ref;if(a===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(o.flags|=4194816)}}function Kd(r,o,a,f,p){return ss(o),a=Md(r,o,a,f,void 0,p),f=Ad(),r!==null&&!de?(Od(r,o,p),ki(r,o,p)):(Bt&&f&&ad(o),o.flags|=1,Oe(r,o,a,p),o.child)}function x0(r,o,a,f,p,y){return ss(o),o.updateQueue=null,a=Ey(o,f,a,p),wy(r),f=Ad(),r!==null&&!de?(Od(r,o,y),ki(r,o,y)):(Bt&&f&&ad(o),o.flags|=1,Oe(r,o,a,y),o.child)}function S0(r,o,a,f,p){if(ss(o),o.stateNode===null){var y=Qs,S=a.contextType;typeof S=="object"&&S!==null&&(y=Ae(S)),y=new a(f,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Yd,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=f,y.state=o.memoizedState,y.refs={},vd(o),S=a.contextType,y.context=typeof S=="object"&&S!==null?Ae(S):Qs,y.state=o.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&($d(o,a,S,f),y.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Yd.enqueueReplaceState(y,y.state,null),bl(o,f,y,p),yl(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(r===null){y=o.stateNode;var T=o.memoizedProps,k=ds(a,T);y.props=k;var L=y.context,I=a.contextType;S=Qs,typeof I=="object"&&I!==null&&(S=Ae(I));var X=a.getDerivedStateFromProps;I=typeof X=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=o.pendingProps!==T,I||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||L!==S)&&l0(o,y,f,S),sr=!1;var B=o.memoizedState;y.state=B,bl(o,f,y,p),yl(),L=o.memoizedState,T||B!==L||sr?(typeof X=="function"&&($d(o,a,X,f),L=o.memoizedState),(k=sr||o0(o,a,k,f,B,L,S))?(I||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=L),y.props=f,y.state=L,y.context=S,f=k):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{y=o.stateNode,xd(r,o),S=o.memoizedProps,I=ds(a,S),y.props=I,X=o.pendingProps,B=y.context,L=a.contextType,k=Qs,typeof L=="object"&&L!==null&&(k=Ae(L)),T=a.getDerivedStateFromProps,(L=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==X||B!==k)&&l0(o,y,f,k),sr=!1,B=o.memoizedState,y.state=B,bl(o,f,y,p),yl();var U=o.memoizedState;S!==X||B!==U||sr||r!==null&&r.dependencies!==null&&Ga(r.dependencies)?(typeof T=="function"&&($d(o,a,T,f),U=o.memoizedState),(I=sr||o0(o,a,I,f,B,U,k)||r!==null&&r.dependencies!==null&&Ga(r.dependencies))?(L||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,U,k),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,U,k)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&B===r.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&B===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=U),y.props=f,y.state=U,y.context=k,f=I):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&B===r.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&B===r.memoizedState||(o.flags|=1024),f=!1)}return y=f,fc(r,o),f=(o.flags&128)!==0,y||f?(y=o.stateNode,a=f&&typeof a.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,r!==null&&f?(o.child=us(o,r.child,null,p),o.child=us(o,null,a,p)):Oe(r,o,a,p),o.memoizedState=y.state,r=o.child):r=ki(r,o,p),r}function w0(r,o,a,f){return is(),o.flags|=256,Oe(r,o,a,f),o.child}var Xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fd(r){return{baseLanes:r,cachePool:fy()}}function Jd(r,o,a){return r=r!==null?r.childLanes&~a:0,o&&(r|=yn),r}function E0(r,o,a){var f=o.pendingProps,p=!1,y=(o.flags&128)!==0,S;if((S=y)||(S=r!==null&&r.memoizedState===null?!1:(ae.current&2)!==0),S&&(p=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,r===null){if(Bt){if(p?ar(o):cr(),(r=Xt)?(r=Db(r,On),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:er!==null?{id:ti,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},a=ny(r),a.return=o,o.child=a,Me=o,Xt=null)):r=null,r===null)throw ir(o);return Rh(r)?o.lanes=32:o.lanes=536870912,null}var T=f.children;return f=f.fallback,p?(cr(),p=o.mode,T=dc({mode:"hidden",children:T},p),f=ns(f,p,a,null),T.return=o,f.return=o,T.sibling=f,o.child=T,f=o.child,f.memoizedState=Fd(a),f.childLanes=Jd(r,S,a),o.memoizedState=Xd,El(null,f)):(ar(o),Qd(o,T))}var k=r.memoizedState;if(k!==null&&(T=k.dehydrated,T!==null)){if(y)o.flags&256?(ar(o),o.flags&=-257,o=Zd(r,o,a)):o.memoizedState!==null?(cr(),o.child=r.child,o.flags|=128,o=null):(cr(),T=f.fallback,p=o.mode,f=dc({mode:"visible",children:f.children},p),T=ns(T,p,a,null),T.flags|=2,f.return=o,T.return=o,f.sibling=T,o.child=f,us(o,r.child,null,a),f=o.child,f.memoizedState=Fd(a),f.childLanes=Jd(r,S,a),o.memoizedState=Xd,o=El(null,f));else if(ar(o),Rh(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var L=S.dgst;S=L,f=Error(i(419)),f.stack="",f.digest=S,fl({value:f,source:null,stack:null}),o=Zd(r,o,a)}else if(de||eo(r,o,a,!1),S=(a&r.childLanes)!==0,de||S){if(S=Gt,S!==null&&(f=Ze(S,a),f!==0&&f!==k.retryLane))throw k.retryLane=f,es(r,f),on(S,r,f),Gd;Dh(T)||Sc(),o=Zd(r,o,a)}else Dh(T)?(o.flags|=192,o.child=r.child,o=null):(r=k.treeContext,Xt=Dn(T.nextSibling),Me=o,Bt=!0,nr=null,On=!1,r!==null&&sy(o,r),o=Qd(o,f.children),o.flags|=4096);return o}return p?(cr(),T=f.fallback,p=o.mode,k=r.child,L=k.sibling,f=xi(k,{mode:"hidden",children:f.children}),f.subtreeFlags=k.subtreeFlags&65011712,L!==null?T=xi(L,T):(T=ns(T,p,a,null),T.flags|=2),T.return=o,f.return=o,f.sibling=T,o.child=f,El(null,f),f=o.child,T=r.child.memoizedState,T===null?T=Fd(a):(p=T.cachePool,p!==null?(k=ue._currentValue,p=p.parent!==k?{parent:k,pool:k}:p):p=fy(),T={baseLanes:T.baseLanes|a,cachePool:p}),f.memoizedState=T,f.childLanes=Jd(r,S,a),o.memoizedState=Xd,El(r.child,f)):(ar(o),a=r.child,r=a.sibling,a=xi(a,{mode:"visible",children:f.children}),a.return=o,a.sibling=null,r!==null&&(S=o.deletions,S===null?(o.deletions=[r],o.flags|=16):S.push(r)),o.child=a,o.memoizedState=null,a)}function Qd(r,o){return o=dc({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function dc(r,o){return r=hn(22,r,null,o),r.lanes=0,r}function Zd(r,o,a){return us(o,r.child,null,a),r=Qd(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function T0(r,o,a){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),hd(r.return,o,a)}function Wd(r,o,a,f,p,y){var S=r.memoizedState;S===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:a,tailMode:p,treeForkCount:y}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=f,S.tail=a,S.tailMode=p,S.treeForkCount=y)}function C0(r,o,a){var f=o.pendingProps,p=f.revealOrder,y=f.tail;f=f.children;var S=ae.current,T=(S&2)!==0;if(T?(S=S&1|2,o.flags|=128):S&=1,q(ae,S),Oe(r,o,f,a),f=Bt?ul:0,!T&&r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&T0(r,a,o);else if(r.tag===19)T0(r,a,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(a=o.child,p=null;a!==null;)r=a.alternate,r!==null&&tc(r)===null&&(p=a),a=a.sibling;a=p,a===null?(p=o.child,o.child=null):(p=a.sibling,a.sibling=null),Wd(o,!1,p,a,y,f);break;case"backwards":case"unstable_legacy-backwards":for(a=null,p=o.child,o.child=null;p!==null;){if(r=p.alternate,r!==null&&tc(r)===null){o.child=p;break}r=p.sibling,p.sibling=a,a=p,p=r}Wd(o,!0,a,null,y,f);break;case"together":Wd(o,!1,null,null,void 0,f);break;default:o.memoizedState=null}return o.child}function ki(r,o,a){if(r!==null&&(o.dependencies=r.dependencies),dr|=o.lanes,(a&o.childLanes)===0)if(r!==null){if(eo(r,o,a,!1),(a&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,a=xi(r,r.pendingProps),o.child=a,a.return=o;r.sibling!==null;)r=r.sibling,a=a.sibling=xi(r,r.pendingProps),a.return=o;a.sibling=null}return o.child}function th(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Ga(r)))}function mC(r,o,a){switch(o.tag){case 3:kt(o,o.stateNode.containerInfo),rr(o,ue,r.memoizedState.cache),is();break;case 27:case 5:Ie(o);break;case 4:kt(o,o.stateNode.containerInfo);break;case 10:rr(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Cd(o),null;break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(ar(o),o.flags|=128,null):(a&o.child.childLanes)!==0?E0(r,o,a):(ar(o),r=ki(r,o,a),r!==null?r.sibling:null);ar(o);break;case 19:var p=(r.flags&128)!==0;if(f=(a&o.childLanes)!==0,f||(eo(r,o,a,!1),f=(a&o.childLanes)!==0),p){if(f)return C0(r,o,a);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),q(ae,ae.current),f)break;return null;case 22:return o.lanes=0,y0(r,o,a,o.pendingProps);case 24:rr(o,ue,r.memoizedState.cache)}return ki(r,o,a)}function k0(r,o,a){if(r!==null)if(r.memoizedProps!==o.pendingProps)de=!0;else{if(!th(r,a)&&(o.flags&128)===0)return de=!1,mC(r,o,a);de=(r.flags&131072)!==0}else de=!1,Bt&&(o.flags&1048576)!==0&&ry(o,ul,o.index);switch(o.lanes=0,o.tag){case 16:t:{var f=o.pendingProps;if(r=as(o.elementType),o.type=r,typeof r=="function")sd(r)?(f=ds(r,f),o.tag=1,o=S0(null,o,r,f,a)):(o.tag=0,o=Kd(null,o,r,f,a));else{if(r!=null){var p=r.$$typeof;if(p===V){o.tag=11,o=p0(null,o,r,f,a);break t}else if(p===N){o.tag=14,o=m0(null,o,r,f,a);break t}}throw o=mt(r)||r,Error(i(306,o,""))}}return o;case 0:return Kd(r,o,o.type,o.pendingProps,a);case 1:return f=o.type,p=ds(f,o.pendingProps),S0(r,o,f,p,a);case 3:t:{if(kt(o,o.stateNode.containerInfo),r===null)throw Error(i(387));f=o.pendingProps;var y=o.memoizedState;p=y.element,xd(r,o),bl(o,f,null,a);var S=o.memoizedState;if(f=S.cache,rr(o,ue,f),f!==y.cache&&pd(o,[ue],a,!0),yl(),f=S.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=w0(r,o,f,a);break t}else if(f!==p){p=kn(Error(i(424)),o),fl(p),o=w0(r,o,f,a);break t}else for(r=o.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Xt=Dn(r.firstChild),Me=o,Bt=!0,nr=null,On=!0,a=yy(o,null,f,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(is(),f===p){o=ki(r,o,a);break t}Oe(r,o,f,a)}o=o.child}return o;case 26:return fc(r,o),r===null?(a=Hb(o.type,null,o.pendingProps,null))?o.memoizedState=a:Bt||(a=o.type,r=o.pendingProps,f=Ac(gt.current).createElement(a),f[ke]=o,f[We]=r,Ne(f,a,r),xe(f),o.stateNode=f):o.memoizedState=Hb(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Ie(o),r===null&&Bt&&(f=o.stateNode=Lb(o.type,o.pendingProps,gt.current),Me=o,On=!0,p=Xt,yr(o.type)?(zh=p,Xt=Dn(f.firstChild)):Xt=p),Oe(r,o,o.pendingProps.children,a),fc(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Bt&&((p=f=Xt)&&(f=PC(f,o.type,o.pendingProps,On),f!==null?(o.stateNode=f,Me=o,Xt=Dn(f.firstChild),On=!1,p=!0):p=!1),p||ir(o)),Ie(o),p=o.type,y=o.pendingProps,S=r!==null?r.memoizedProps:null,f=y.children,Ah(p,y)?f=null:S!==null&&Ah(p,S)&&(o.flags|=32),o.memoizedState!==null&&(p=Md(r,o,oC,null,null,a),Ul._currentValue=p),fc(r,o),Oe(r,o,f,a),o.child;case 6:return r===null&&Bt&&((r=a=Xt)&&(a=GC(a,o.pendingProps,On),a!==null?(o.stateNode=a,Me=o,Xt=null,r=!0):r=!1),r||ir(o)),null;case 13:return E0(r,o,a);case 4:return kt(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=us(o,null,f,a):Oe(r,o,f,a),o.child;case 11:return p0(r,o,o.type,o.pendingProps,a);case 7:return Oe(r,o,o.pendingProps,a),o.child;case 8:return Oe(r,o,o.pendingProps.children,a),o.child;case 12:return Oe(r,o,o.pendingProps.children,a),o.child;case 10:return f=o.pendingProps,rr(o,o.type,f.value),Oe(r,o,f.children,a),o.child;case 9:return p=o.type._context,f=o.pendingProps.children,ss(o),p=Ae(p),f=f(p),o.flags|=1,Oe(r,o,f,a),o.child;case 14:return m0(r,o,o.type,o.pendingProps,a);case 15:return g0(r,o,o.type,o.pendingProps,a);case 19:return C0(r,o,a);case 31:return pC(r,o,a);case 22:return y0(r,o,a,o.pendingProps);case 24:return ss(o),f=Ae(ue),r===null?(p=yd(),p===null&&(p=Gt,y=md(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=a),p=y),o.memoizedState={parent:f,cache:p},vd(o),rr(o,ue,p)):((r.lanes&a)!==0&&(xd(r,o),bl(o,null,null,a),yl()),p=r.memoizedState,y=o.memoizedState,p.parent!==f?(p={parent:f,cache:f},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),rr(o,ue,f)):(f=y.cache,rr(o,ue,f),f!==p.cache&&pd(o,[ue],a,!0))),Oe(r,o,o.pendingProps.children,a),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Mi(r){r.flags|=4}function eh(r,o,a,f,p){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(W0())r.flags|=8192;else throw cs=Ja,bd}else r.flags&=-16777217}function M0(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!qb(o))if(W0())r.flags|=8192;else throw cs=Ja,bd}function hc(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?_e():536870912,r.lanes|=o,po|=o)}function Tl(r,o){if(!Bt)switch(r.tailMode){case"hidden":o=r.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Ft(r){var o=r.alternate!==null&&r.alternate.child===r.child,a=0,f=0;if(o)for(var p=r.child;p!==null;)a|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)a|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=f,r.childLanes=a,o}function gC(r,o,a){var f=o.pendingProps;switch(cd(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(o),null;case 1:return Ft(o),null;case 3:return a=o.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Ei(ue),_t(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(to(o)?Mi(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,fd())),Ft(o),null;case 26:var p=o.type,y=o.memoizedState;return r===null?(Mi(o),y!==null?(Ft(o),M0(o,y)):(Ft(o),eh(o,p,null,f,a))):y?y!==r.memoizedState?(Mi(o),Ft(o),M0(o,y)):(Ft(o),o.flags&=-16777217):(r=r.memoizedProps,r!==f&&Mi(o),Ft(o),eh(o,p,r,f,a)),null;case 27:if(un(o),a=gt.current,p=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==f&&Mi(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Ft(o),null}r=J.current,to(o)?oy(o):(r=Lb(p,f,a),o.stateNode=r,Mi(o))}return Ft(o),null;case 5:if(un(o),p=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==f&&Mi(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Ft(o),null}if(y=J.current,to(o))oy(o);else{var S=Ac(gt.current);switch(y){case 1:y=S.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=S.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=S.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof f.is=="string"?S.createElement("select",{is:f.is}):S.createElement("select"),f.multiple?y.multiple=!0:f.size&&(y.size=f.size);break;default:y=typeof f.is=="string"?S.createElement(p,{is:f.is}):S.createElement(p)}}y[ke]=o,y[We]=f;t:for(S=o.child;S!==null;){if(S.tag===5||S.tag===6)y.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===o)break t;for(;S.sibling===null;){if(S.return===null||S.return===o)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}o.stateNode=y;t:switch(Ne(y,p,f),p){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break t;case"img":f=!0;break t;default:f=!1}f&&Mi(o)}}return Ft(o),eh(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,a),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==f&&Mi(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(r=gt.current,to(o)){if(r=o.stateNode,a=o.memoizedProps,f=null,p=Me,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}r[ke]=o,r=!!(r.nodeValue===a||f!==null&&f.suppressHydrationWarning===!0||Eb(r.nodeValue,a)),r||ir(o,!0)}else r=Ac(r).createTextNode(f),r[ke]=o,o.stateNode=r}return Ft(o),null;case 31:if(a=o.memoizedState,r===null||r.memoizedState!==null){if(f=to(o),a!==null){if(r===null){if(!f)throw Error(i(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[ke]=o}else is(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ft(o),r=!1}else a=fd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=a),r=!0;if(!r)return o.flags&256?(mn(o),o):(mn(o),null);if((o.flags&128)!==0)throw Error(i(558))}return Ft(o),null;case 13:if(f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=to(o),f!==null&&f.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[ke]=o}else is(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ft(o),p=!1}else p=fd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return o.flags&256?(mn(o),o):(mn(o),null)}return mn(o),(o.flags&128)!==0?(o.lanes=a,o):(a=f!==null,r=r!==null&&r.memoizedState!==null,a&&(f=o.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool),y=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==p&&(f.flags|=2048)),a!==r&&a&&(o.child.flags|=8192),hc(o,o.updateQueue),Ft(o),null);case 4:return _t(),r===null&&Eh(o.stateNode.containerInfo),Ft(o),null;case 10:return Ei(o.type),Ft(o),null;case 19:if(P(ae),f=o.memoizedState,f===null)return Ft(o),null;if(p=(o.flags&128)!==0,y=f.rendering,y===null)if(p)Tl(f,!1);else{if(se!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(y=tc(r),y!==null){for(o.flags|=128,Tl(f,!1),r=y.updateQueue,o.updateQueue=r,hc(o,r),o.subtreeFlags=0,r=a,a=o.child;a!==null;)ey(a,r),a=a.sibling;return q(ae,ae.current&1|2),Bt&&Si(o,f.treeForkCount),o.child}r=r.sibling}f.tail!==null&&$e()>bc&&(o.flags|=128,p=!0,Tl(f,!1),o.lanes=4194304)}else{if(!p)if(r=tc(y),r!==null){if(o.flags|=128,p=!0,r=r.updateQueue,o.updateQueue=r,hc(o,r),Tl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Bt)return Ft(o),null}else 2*$e()-f.renderingStartTime>bc&&a!==536870912&&(o.flags|=128,p=!0,Tl(f,!1),o.lanes=4194304);f.isBackwards?(y.sibling=o.child,o.child=y):(r=f.last,r!==null?r.sibling=y:o.child=y,f.last=y)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=$e(),r.sibling=null,a=ae.current,q(ae,p?a&1|2:a&1),Bt&&Si(o,f.treeForkCount),r):(Ft(o),null);case 22:case 23:return mn(o),Td(),f=o.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(a&536870912)!==0&&(o.flags&128)===0&&(Ft(o),o.subtreeFlags&6&&(o.flags|=8192)):Ft(o),a=o.updateQueue,a!==null&&hc(o,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==a&&(o.flags|=2048),r!==null&&P(ls),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),o.memoizedState.cache!==a&&(o.flags|=2048),Ei(ue),Ft(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function yC(r,o){switch(cd(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Ei(ue),_t(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return un(o),null;case 31:if(o.memoizedState!==null){if(mn(o),o.alternate===null)throw Error(i(340));is()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if(mn(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));is()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return P(ae),null;case 4:return _t(),null;case 10:return Ei(o.type),null;case 22:case 23:return mn(o),Td(),r!==null&&P(ls),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Ei(ue),null;case 25:return null;default:return null}}function A0(r,o){switch(cd(o),o.tag){case 3:Ei(ue),_t();break;case 26:case 27:case 5:un(o);break;case 4:_t();break;case 31:o.memoizedState!==null&&mn(o);break;case 13:mn(o);break;case 19:P(ae);break;case 10:Ei(o.type);break;case 22:case 23:mn(o),Td(),r!==null&&P(ls);break;case 24:Ei(ue)}}function Cl(r,o){try{var a=o.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var p=f.next;a=p;do{if((a.tag&r)===r){f=void 0;var y=a.create,S=a.inst;f=y(),S.destroy=f}a=a.next}while(a!==p)}}catch(T){Vt(o,o.return,T)}}function ur(r,o,a){try{var f=o.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var y=p.next;f=y;do{if((f.tag&r)===r){var S=f.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,p=o;var k=a,L=T;try{L()}catch(I){Vt(p,k,I)}}}f=f.next}while(f!==y)}}catch(I){Vt(o,o.return,I)}}function O0(r){var o=r.updateQueue;if(o!==null){var a=r.stateNode;try{vy(o,a)}catch(f){Vt(r,r.return,f)}}}function N0(r,o,a){a.props=ds(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(f){Vt(r,o,f)}}function kl(r,o){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof a=="function"?r.refCleanup=a(f):a.current=f}}catch(p){Vt(r,o,p)}}function ni(r,o){var a=r.ref,f=r.refCleanup;if(a!==null)if(typeof f=="function")try{f()}catch(p){Vt(r,o,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Vt(r,o,p)}else a.current=null}function D0(r){var o=r.type,a=r.memoizedProps,f=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":a.autoFocus&&f.focus();break t;case"img":a.src?f.src=a.src:a.srcSet&&(f.srcset=a.srcSet)}}catch(p){Vt(r,r.return,p)}}function nh(r,o,a){try{var f=r.stateNode;jC(f,r.type,a,o),f[We]=o}catch(p){Vt(r,r.return,p)}}function R0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&yr(r.type)||r.tag===4}function ih(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||R0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&yr(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function rh(r,o,a){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,o):(o=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.appendChild(r),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=bi));else if(f!==4&&(f===27&&yr(r.type)&&(a=r.stateNode,o=null),r=r.child,r!==null))for(rh(r,o,a),r=r.sibling;r!==null;)rh(r,o,a),r=r.sibling}function pc(r,o,a){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?a.insertBefore(r,o):a.appendChild(r);else if(f!==4&&(f===27&&yr(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(pc(r,o,a),r=r.sibling;r!==null;)pc(r,o,a),r=r.sibling}function z0(r){var o=r.stateNode,a=r.memoizedProps;try{for(var f=r.type,p=o.attributes;p.length;)o.removeAttributeNode(p[0]);Ne(o,f,a),o[ke]=r,o[We]=a}catch(y){Vt(r,r.return,y)}}var Ai=!1,he=!1,sh=!1,L0=typeof WeakSet=="function"?WeakSet:Set,Se=null;function bC(r,o){if(r=r.containerInfo,kh=Bc,r=Gg(r),Zf(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else t:{a=(a=r.ownerDocument)&&a.defaultView||window;var f=a.getSelection&&a.getSelection();if(f&&f.rangeCount!==0){a=f.anchorNode;var p=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break t}var S=0,T=-1,k=-1,L=0,I=0,X=r,B=null;e:for(;;){for(var U;X!==a||p!==0&&X.nodeType!==3||(T=S+p),X!==y||f!==0&&X.nodeType!==3||(k=S+f),X.nodeType===3&&(S+=X.nodeValue.length),(U=X.firstChild)!==null;)B=X,X=U;for(;;){if(X===r)break e;if(B===a&&++L===p&&(T=S),B===y&&++I===f&&(k=S),(U=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=U}a=T===-1||k===-1?null:{start:T,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mh={focusedElem:r,selectionRange:a},Bc=!1,Se=o;Se!==null;)if(o=Se,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,Se=r;else for(;Se!==null;){switch(o=Se,y=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(a=0;a<r.length;a++)p=r[a],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,a=o,p=y.memoizedProps,y=y.memoizedState,f=a.stateNode;try{var st=ds(a.type,p);r=f.getSnapshotBeforeUpdate(st,y),f.__reactInternalSnapshotBeforeUpdate=r}catch(bt){Vt(a,a.return,bt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,a=r.nodeType,a===9)Nh(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Nh(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,Se=r;break}Se=o.return}}function B0(r,o,a){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Ni(r,a),f&4&&Cl(5,a);break;case 1:if(Ni(r,a),f&4)if(r=a.stateNode,o===null)try{r.componentDidMount()}catch(S){Vt(a,a.return,S)}else{var p=ds(a.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(p,o,r.__reactInternalSnapshotBeforeUpdate)}catch(S){Vt(a,a.return,S)}}f&64&&O0(a),f&512&&kl(a,a.return);break;case 3:if(Ni(r,a),f&64&&(r=a.updateQueue,r!==null)){if(o=null,a.child!==null)switch(a.child.tag){case 27:case 5:o=a.child.stateNode;break;case 1:o=a.child.stateNode}try{vy(r,o)}catch(S){Vt(a,a.return,S)}}break;case 27:o===null&&f&4&&z0(a);case 26:case 5:Ni(r,a),o===null&&f&4&&D0(a),f&512&&kl(a,a.return);break;case 12:Ni(r,a);break;case 31:Ni(r,a),f&4&&U0(r,a);break;case 13:Ni(r,a),f&4&&j0(r,a),f&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=MC.bind(null,a),KC(r,a))));break;case 22:if(f=a.memoizedState!==null||Ai,!f){o=o!==null&&o.memoizedState!==null||he,p=Ai;var y=he;Ai=f,(he=o)&&!y?Di(r,a,(a.subtreeFlags&8772)!==0):Ni(r,a),Ai=p,he=y}break;case 30:break;default:Ni(r,a)}}function _0(r){var o=r.alternate;o!==null&&(r.alternate=null,_0(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Bf(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Wt=null,en=!1;function Oi(r,o,a){for(a=a.child;a!==null;)H0(r,o,a),a=a.sibling}function H0(r,o,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Xr,a)}catch{}switch(a.tag){case 26:he||ni(a,o),Oi(r,o,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:he||ni(a,o);var f=Wt,p=en;yr(a.type)&&(Wt=a.stateNode,en=!1),Oi(r,o,a),Bl(a.stateNode),Wt=f,en=p;break;case 5:he||ni(a,o);case 6:if(f=Wt,p=en,Wt=null,Oi(r,o,a),Wt=f,en=p,Wt!==null)if(en)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(a.stateNode)}catch(y){Vt(a,o,y)}else try{Wt.removeChild(a.stateNode)}catch(y){Vt(a,o,y)}break;case 18:Wt!==null&&(en?(r=Wt,Ob(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),wo(r)):Ob(Wt,a.stateNode));break;case 4:f=Wt,p=en,Wt=a.stateNode.containerInfo,en=!0,Oi(r,o,a),Wt=f,en=p;break;case 0:case 11:case 14:case 15:ur(2,a,o),he||ur(4,a,o),Oi(r,o,a);break;case 1:he||(ni(a,o),f=a.stateNode,typeof f.componentWillUnmount=="function"&&N0(a,o,f)),Oi(r,o,a);break;case 21:Oi(r,o,a);break;case 22:he=(f=he)||a.memoizedState!==null,Oi(r,o,a),he=f;break;default:Oi(r,o,a)}}function U0(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{wo(r)}catch(a){Vt(o,o.return,a)}}}function j0(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{wo(r)}catch(a){Vt(o,o.return,a)}}function vC(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new L0),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new L0),o;default:throw Error(i(435,r.tag))}}function mc(r,o){var a=vC(r);o.forEach(function(f){if(!a.has(f)){a.add(f);var p=AC.bind(null,r,f);f.then(p,p)}})}function nn(r,o){var a=o.deletions;if(a!==null)for(var f=0;f<a.length;f++){var p=a[f],y=r,S=o,T=S;t:for(;T!==null;){switch(T.tag){case 27:if(yr(T.type)){Wt=T.stateNode,en=!1;break t}break;case 5:Wt=T.stateNode,en=!1;break t;case 3:case 4:Wt=T.stateNode.containerInfo,en=!0;break t}T=T.return}if(Wt===null)throw Error(i(160));H0(y,S,p),Wt=null,en=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)I0(o,r),o=o.sibling}var Yn=null;function I0(r,o){var a=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:nn(o,r),rn(r),f&4&&(ur(3,r,r.return),Cl(3,r),ur(5,r,r.return));break;case 1:nn(o,r),rn(r),f&512&&(he||a===null||ni(a,a.return)),f&64&&Ai&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?f:a.concat(f))));break;case 26:var p=Yn;if(nn(o,r),rn(r),f&512&&(he||a===null||ni(a,a.return)),f&4){var y=a!==null?a.memoizedState:null;if(f=r.memoizedState,a===null)if(f===null)if(r.stateNode===null){t:{f=r.type,a=r.memoizedProps,p=p.ownerDocument||p;e:switch(f){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Wo]||y[ke]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(f),p.head.insertBefore(y,p.querySelector("head > title"))),Ne(y,f,a),y[ke]=r,xe(y),f=y;break t;case"link":var S=Ib("link","href",p).get(f+(a.href||""));if(S){for(var T=0;T<S.length;T++)if(y=S[T],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(T,1);break e}}y=p.createElement(f),Ne(y,f,a),p.head.appendChild(y);break;case"meta":if(S=Ib("meta","content",p).get(f+(a.content||""))){for(T=0;T<S.length;T++)if(y=S[T],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(T,1);break e}}y=p.createElement(f),Ne(y,f,a),p.head.appendChild(y);break;default:throw Error(i(468,f))}y[ke]=r,xe(y),f=y}r.stateNode=f}else Vb(p,r.type,r.stateNode);else r.stateNode=jb(p,f,r.memoizedProps);else y!==f?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,f===null?Vb(p,r.type,r.stateNode):jb(p,f,r.memoizedProps)):f===null&&r.stateNode!==null&&nh(r,r.memoizedProps,a.memoizedProps)}break;case 27:nn(o,r),rn(r),f&512&&(he||a===null||ni(a,a.return)),a!==null&&f&4&&nh(r,r.memoizedProps,a.memoizedProps);break;case 5:if(nn(o,r),rn(r),f&512&&(he||a===null||ni(a,a.return)),r.flags&32){p=r.stateNode;try{Ys(p,"")}catch(st){Vt(r,r.return,st)}}f&4&&r.stateNode!=null&&(p=r.memoizedProps,nh(r,p,a!==null?a.memoizedProps:p)),f&1024&&(sh=!0);break;case 6:if(nn(o,r),rn(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,a=r.stateNode;try{a.nodeValue=f}catch(st){Vt(r,r.return,st)}}break;case 3:if(Dc=null,p=Yn,Yn=Oc(o.containerInfo),nn(o,r),Yn=p,rn(r),f&4&&a!==null&&a.memoizedState.isDehydrated)try{wo(o.containerInfo)}catch(st){Vt(r,r.return,st)}sh&&(sh=!1,V0(r));break;case 4:f=Yn,Yn=Oc(r.stateNode.containerInfo),nn(o,r),rn(r),Yn=f;break;case 12:nn(o,r),rn(r);break;case 31:nn(o,r),rn(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,mc(r,f)));break;case 13:nn(o,r),rn(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=$e()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,mc(r,f)));break;case 22:p=r.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,L=Ai,I=he;if(Ai=L||p,he=I||k,nn(o,r),he=I,Ai=L,rn(r),f&8192)t:for(o=r.stateNode,o._visibility=p?o._visibility&-2:o._visibility|1,p&&(a===null||k||Ai||he||hs(r)),a=null,o=r;;){if(o.tag===5||o.tag===26){if(a===null){k=a=o;try{if(y=k.stateNode,p)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=k.stateNode;var X=k.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(st){Vt(k,k.return,st)}}}else if(o.tag===6){if(a===null){k=o;try{k.stateNode.nodeValue=p?"":k.memoizedProps}catch(st){Vt(k,k.return,st)}}}else if(o.tag===18){if(a===null){k=o;try{var U=k.stateNode;p?Nb(U,!0):Nb(k.stateNode,!1)}catch(st){Vt(k,k.return,st)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;a===o&&(a=null),o=o.return}a===o&&(a=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=r.updateQueue,f!==null&&(a=f.retryQueue,a!==null&&(f.retryQueue=null,mc(r,a))));break;case 19:nn(o,r),rn(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,mc(r,f)));break;case 30:break;case 21:break;default:nn(o,r),rn(r)}}function rn(r){var o=r.flags;if(o&2){try{for(var a,f=r.return;f!==null;){if(R0(f)){a=f;break}f=f.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var p=a.stateNode,y=ih(r);pc(r,y,p);break;case 5:var S=a.stateNode;a.flags&32&&(Ys(S,""),a.flags&=-33);var T=ih(r);pc(r,T,S);break;case 3:case 4:var k=a.stateNode.containerInfo,L=ih(r);rh(r,L,k);break;default:throw Error(i(161))}}catch(I){Vt(r,r.return,I)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function V0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;V0(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Ni(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)B0(r,o.alternate,o),o=o.sibling}function hs(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:ur(4,o,o.return),hs(o);break;case 1:ni(o,o.return);var a=o.stateNode;typeof a.componentWillUnmount=="function"&&N0(o,o.return,a),hs(o);break;case 27:Bl(o.stateNode);case 26:case 5:ni(o,o.return),hs(o);break;case 22:o.memoizedState===null&&hs(o);break;case 30:hs(o);break;default:hs(o)}r=r.sibling}}function Di(r,o,a){for(a=a&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,p=r,y=o,S=y.flags;switch(y.tag){case 0:case 11:case 15:Di(p,y,a),Cl(4,y);break;case 1:if(Di(p,y,a),f=y,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(L){Vt(f,f.return,L)}if(f=y,p=f.updateQueue,p!==null){var T=f.stateNode;try{var k=p.shared.hiddenCallbacks;if(k!==null)for(p.shared.hiddenCallbacks=null,p=0;p<k.length;p++)by(k[p],T)}catch(L){Vt(f,f.return,L)}}a&&S&64&&O0(y),kl(y,y.return);break;case 27:z0(y);case 26:case 5:Di(p,y,a),a&&f===null&&S&4&&D0(y),kl(y,y.return);break;case 12:Di(p,y,a);break;case 31:Di(p,y,a),a&&S&4&&U0(p,y);break;case 13:Di(p,y,a),a&&S&4&&j0(p,y);break;case 22:y.memoizedState===null&&Di(p,y,a),kl(y,y.return);break;case 30:break;default:Di(p,y,a)}o=o.sibling}}function oh(r,o){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&dl(a))}function lh(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&dl(r))}function Pn(r,o,a,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)q0(r,o,a,f),o=o.sibling}function q0(r,o,a,f){var p=o.flags;switch(o.tag){case 0:case 11:case 15:Pn(r,o,a,f),p&2048&&Cl(9,o);break;case 1:Pn(r,o,a,f);break;case 3:Pn(r,o,a,f),p&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&dl(r)));break;case 12:if(p&2048){Pn(r,o,a,f),r=o.stateNode;try{var y=o.memoizedProps,S=y.id,T=y.onPostCommit;typeof T=="function"&&T(S,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(k){Vt(o,o.return,k)}}else Pn(r,o,a,f);break;case 31:Pn(r,o,a,f);break;case 13:Pn(r,o,a,f);break;case 23:break;case 22:y=o.stateNode,S=o.alternate,o.memoizedState!==null?y._visibility&2?Pn(r,o,a,f):Ml(r,o):y._visibility&2?Pn(r,o,a,f):(y._visibility|=2,uo(r,o,a,f,(o.subtreeFlags&10256)!==0||!1)),p&2048&&oh(S,o);break;case 24:Pn(r,o,a,f),p&2048&&lh(o.alternate,o);break;default:Pn(r,o,a,f)}}function uo(r,o,a,f,p){for(p=p&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var y=r,S=o,T=a,k=f,L=S.flags;switch(S.tag){case 0:case 11:case 15:uo(y,S,T,k,p),Cl(8,S);break;case 23:break;case 22:var I=S.stateNode;S.memoizedState!==null?I._visibility&2?uo(y,S,T,k,p):Ml(y,S):(I._visibility|=2,uo(y,S,T,k,p)),p&&L&2048&&oh(S.alternate,S);break;case 24:uo(y,S,T,k,p),p&&L&2048&&lh(S.alternate,S);break;default:uo(y,S,T,k,p)}o=o.sibling}}function Ml(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var a=r,f=o,p=f.flags;switch(f.tag){case 22:Ml(a,f),p&2048&&oh(f.alternate,f);break;case 24:Ml(a,f),p&2048&&lh(f.alternate,f);break;default:Ml(a,f)}o=o.sibling}}var Al=8192;function fo(r,o,a){if(r.subtreeFlags&Al)for(r=r.child;r!==null;)$0(r,o,a),r=r.sibling}function $0(r,o,a){switch(r.tag){case 26:fo(r,o,a),r.flags&Al&&r.memoizedState!==null&&sk(a,Yn,r.memoizedState,r.memoizedProps);break;case 5:fo(r,o,a);break;case 3:case 4:var f=Yn;Yn=Oc(r.stateNode.containerInfo),fo(r,o,a),Yn=f;break;case 22:r.memoizedState===null&&(f=r.alternate,f!==null&&f.memoizedState!==null?(f=Al,Al=16777216,fo(r,o,a),Al=f):fo(r,o,a));break;default:fo(r,o,a)}}function Y0(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Ol(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var f=o[a];Se=f,G0(f,r)}Y0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)P0(r),r=r.sibling}function P0(r){switch(r.tag){case 0:case 11:case 15:Ol(r),r.flags&2048&&ur(9,r,r.return);break;case 3:Ol(r);break;case 12:Ol(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,gc(r)):Ol(r);break;default:Ol(r)}}function gc(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var f=o[a];Se=f,G0(f,r)}Y0(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:ur(8,o,o.return),gc(o);break;case 22:a=o.stateNode,a._visibility&2&&(a._visibility&=-3,gc(o));break;default:gc(o)}r=r.sibling}}function G0(r,o){for(;Se!==null;){var a=Se;switch(a.tag){case 0:case 11:case 15:ur(8,a,o);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var f=a.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:dl(a.memoizedState.cache)}if(f=a.child,f!==null)f.return=a,Se=f;else t:for(a=r;Se!==null;){f=Se;var p=f.sibling,y=f.return;if(_0(f),f===a){Se=null;break t}if(p!==null){p.return=y,Se=p;break t}Se=y}}}var xC={getCacheForType:function(r){var o=Ae(ue),a=o.data.get(r);return a===void 0&&(a=r(),o.data.set(r,a)),a},cacheSignal:function(){return Ae(ue).controller.signal}},SC=typeof WeakMap=="function"?WeakMap:Map,jt=0,Gt=null,Dt=null,zt=0,It=0,gn=null,fr=!1,ho=!1,ah=!1,Ri=0,se=0,dr=0,ps=0,ch=0,yn=0,po=0,Nl=null,sn=null,uh=!1,yc=0,K0=0,bc=1/0,vc=null,hr=null,ye=0,pr=null,mo=null,zi=0,fh=0,dh=null,X0=null,Dl=0,hh=null;function bn(){return(jt&2)!==0&&zt!==0?zt&-zt:D.T!==null?vh():zf()}function F0(){if(yn===0)if((zt&536870912)===0||Bt){var r=_s;_s<<=1,(_s&3932160)===0&&(_s=262144),yn=r}else yn=536870912;return r=pn.current,r!==null&&(r.flags|=32),yn}function on(r,o,a){(r===Gt&&(It===2||It===9)||r.cancelPendingCommit!==null)&&(go(r,0),mr(r,zt,yn,!1)),ee(r,a),((jt&2)===0||r!==Gt)&&(r===Gt&&((jt&2)===0&&(ps|=a),se===4&&mr(r,zt,yn,!1)),ii(r))}function J0(r,o,a){if((jt&6)!==0)throw Error(i(327));var f=!a&&(o&127)===0&&(o&r.expiredLanes)===0||Zt(r,o),p=f?TC(r,o):mh(r,o,!0),y=f;do{if(p===0){ho&&!f&&mr(r,o,0,!1);break}else{if(a=r.current.alternate,y&&!wC(a)){p=mh(r,o,!1),y=!1;continue}if(p===2){if(y=o,r.errorRecoveryDisabledLanes&y)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;t:{var T=r;p=Nl;var k=T.current.memoizedState.isDehydrated;if(k&&(go(T,S).flags|=256),S=mh(T,S,!1),S!==2){if(ah&&!k){T.errorRecoveryDisabledLanes|=y,ps|=y,p=4;break t}y=sn,sn=p,y!==null&&(sn===null?sn=y:sn.push.apply(sn,y))}p=S}if(y=!1,p!==2)continue}}if(p===1){go(r,0),mr(r,o,0,!0);break}t:{switch(f=r,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:mr(f,o,yn,!fr);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(p=yc+300-$e(),10<p)){if(mr(f,o,yn,!fr),Et(f,0,!0)!==0)break t;zi=o,f.timeoutHandle=Mb(Q0.bind(null,f,a,sn,vc,uh,o,yn,ps,po,fr,y,"Throttled",-0,0),p);break t}Q0(f,a,sn,vc,uh,o,yn,ps,po,fr,y,null,-0,0)}}break}while(!0);ii(r)}function Q0(r,o,a,f,p,y,S,T,k,L,I,X,B,U){if(r.timeoutHandle=-1,X=o.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bi},$0(o,y,X);var st=(y&62914560)===y?yc-$e():(y&4194048)===y?K0-$e():0;if(st=ok(X,st),st!==null){zi=y,r.cancelPendingCommit=st(sb.bind(null,r,o,y,a,f,p,S,T,k,I,X,null,B,U)),mr(r,y,S,!L);return}}sb(r,o,y,a,f,p,S,T,k)}function wC(r){for(var o=r;;){var a=o.tag;if((a===0||a===11||a===15)&&o.flags&16384&&(a=o.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var f=0;f<a.length;f++){var p=a[f],y=p.getSnapshot;p=p.value;try{if(!dn(y(),p))return!1}catch{return!1}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function mr(r,o,a,f){o&=~ch,o&=~ps,r.suspendedLanes|=o,r.pingedLanes&=~o,f&&(r.warmLanes|=o),f=r.expirationTimes;for(var p=o;0<p;){var y=31-Be(p),S=1<<y;f[y]=-1,p&=~S}a!==0&&Jr(r,a,o)}function xc(){return(jt&6)===0?(Rl(0),!1):!0}function ph(){if(Dt!==null){if(It===0)var r=Dt.return;else r=Dt,wi=rs=null,Nd(r),so=null,pl=0,r=Dt;for(;r!==null;)A0(r.alternate,r),r=r.return;Dt=null}}function go(r,o){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,qC(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),zi=0,ph(),Gt=r,Dt=a=xi(r.current,null),zt=o,It=0,gn=null,fr=!1,ho=Zt(r,o),ah=!1,po=yn=ch=ps=dr=se=0,sn=Nl=null,uh=!1,(o&8)!==0&&(o|=o&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=o;0<f;){var p=31-Be(f),y=1<<p;o|=r[p],f&=~y}return Ri=o,Va(),a}function Z0(r,o){Mt=null,D.H=wl,o===ro||o===Fa?(o=py(),It=3):o===bd?(o=py(),It=4):It=o===Gd?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,gn=o,Dt===null&&(se=1,cc(r,kn(o,r.current)))}function W0(){var r=pn.current;return r===null?!0:(zt&4194048)===zt?Nn===null:(zt&62914560)===zt||(zt&536870912)!==0?r===Nn:!1}function tb(){var r=D.H;return D.H=wl,r===null?wl:r}function eb(){var r=D.A;return D.A=xC,r}function Sc(){se=4,fr||(zt&4194048)!==zt&&pn.current!==null||(ho=!0),(dr&134217727)===0&&(ps&134217727)===0||Gt===null||mr(Gt,zt,yn,!1)}function mh(r,o,a){var f=jt;jt|=2;var p=tb(),y=eb();(Gt!==r||zt!==o)&&(vc=null,go(r,o)),o=!1;var S=se;t:do try{if(It!==0&&Dt!==null){var T=Dt,k=gn;switch(It){case 8:ph(),S=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(o=!0);var L=It;if(It=0,gn=null,yo(r,T,k,L),a&&ho){S=0;break t}break;default:L=It,It=0,gn=null,yo(r,T,k,L)}}EC(),S=se;break}catch(I){Z0(r,I)}while(!0);return o&&r.shellSuspendCounter++,wi=rs=null,jt=f,D.H=p,D.A=y,Dt===null&&(Gt=null,zt=0,Va()),S}function EC(){for(;Dt!==null;)nb(Dt)}function TC(r,o){var a=jt;jt|=2;var f=tb(),p=eb();Gt!==r||zt!==o?(vc=null,bc=$e()+500,go(r,o)):ho=Zt(r,o);t:do try{if(It!==0&&Dt!==null){o=Dt;var y=gn;e:switch(It){case 1:It=0,gn=null,yo(r,o,y,1);break;case 2:case 9:if(dy(y)){It=0,gn=null,ib(o);break}o=function(){It!==2&&It!==9||Gt!==r||(It=7),ii(r)},y.then(o,o);break t;case 3:It=7;break t;case 4:It=5;break t;case 7:dy(y)?(It=0,gn=null,ib(o)):(It=0,gn=null,yo(r,o,y,7));break;case 5:var S=null;switch(Dt.tag){case 26:S=Dt.memoizedState;case 5:case 27:var T=Dt;if(S?qb(S):T.stateNode.complete){It=0,gn=null;var k=T.sibling;if(k!==null)Dt=k;else{var L=T.return;L!==null?(Dt=L,wc(L)):Dt=null}break e}}It=0,gn=null,yo(r,o,y,5);break;case 6:It=0,gn=null,yo(r,o,y,6);break;case 8:ph(),se=6;break t;default:throw Error(i(462))}}CC();break}catch(I){Z0(r,I)}while(!0);return wi=rs=null,D.H=f,D.A=p,jt=a,Dt!==null?0:(Gt=null,zt=0,Va(),se)}function CC(){for(;Dt!==null&&!qe();)nb(Dt)}function nb(r){var o=k0(r.alternate,r,Ri);r.memoizedProps=r.pendingProps,o===null?wc(r):Dt=o}function ib(r){var o=r,a=o.alternate;switch(o.tag){case 15:case 0:o=x0(a,o,o.pendingProps,o.type,void 0,zt);break;case 11:o=x0(a,o,o.pendingProps,o.type.render,o.ref,zt);break;case 5:Nd(o);default:A0(a,o),o=Dt=ey(o,Ri),o=k0(a,o,Ri)}r.memoizedProps=r.pendingProps,o===null?wc(r):Dt=o}function yo(r,o,a,f){wi=rs=null,Nd(o),so=null,pl=0;var p=o.return;try{if(hC(r,p,o,a,zt)){se=1,cc(r,kn(a,r.current)),Dt=null;return}}catch(y){if(p!==null)throw Dt=p,y;se=1,cc(r,kn(a,r.current)),Dt=null;return}o.flags&32768?(Bt||f===1?r=!0:ho||(zt&536870912)!==0?r=!1:(fr=r=!0,(f===2||f===9||f===3||f===6)&&(f=pn.current,f!==null&&f.tag===13&&(f.flags|=16384))),rb(o,r)):wc(o)}function wc(r){var o=r;do{if((o.flags&32768)!==0){rb(o,fr);return}r=o.return;var a=gC(o.alternate,o,Ri);if(a!==null){Dt=a;return}if(o=o.sibling,o!==null){Dt=o;return}Dt=o=r}while(o!==null);se===0&&(se=5)}function rb(r,o){do{var a=yC(r.alternate,r);if(a!==null){a.flags&=32767,Dt=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!o&&(r=r.sibling,r!==null)){Dt=r;return}Dt=r=a}while(r!==null);se=6,Dt=null}function sb(r,o,a,f,p,y,S,T,k){r.cancelPendingCommit=null;do Ec();while(ye!==0);if((jt&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(y=o.lanes|o.childLanes,y|=id,Je(r,a,y,S,T,k),r===Gt&&(Dt=Gt=null,zt=0),mo=o,pr=r,zi=a,fh=y,dh=p,X0=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,OC(Kr,function(){return ub(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=D.T,D.T=null,p=Y.p,Y.p=2,S=jt,jt|=4;try{bC(r,o,a)}finally{jt=S,Y.p=p,D.T=f}}ye=1,ob(),lb(),ab()}}function ob(){if(ye===1){ye=0;var r=pr,o=mo,a=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var f=Y.p;Y.p=2;var p=jt;jt|=4;try{I0(o,r);var y=Mh,S=Gg(r.containerInfo),T=y.focusedElem,k=y.selectionRange;if(S!==T&&T&&T.ownerDocument&&Pg(T.ownerDocument.documentElement,T)){if(k!==null&&Zf(T)){var L=k.start,I=k.end;if(I===void 0&&(I=L),"selectionStart"in T)T.selectionStart=L,T.selectionEnd=Math.min(I,T.value.length);else{var X=T.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var U=B.getSelection(),st=T.textContent.length,bt=Math.min(k.start,st),Pt=k.end===void 0?bt:Math.min(k.end,st);!U.extend&&bt>Pt&&(S=Pt,Pt=bt,bt=S);var R=Yg(T,bt),O=Yg(T,Pt);if(R&&O&&(U.rangeCount!==1||U.anchorNode!==R.node||U.anchorOffset!==R.offset||U.focusNode!==O.node||U.focusOffset!==O.offset)){var z=X.createRange();z.setStart(R.node,R.offset),U.removeAllRanges(),bt>Pt?(U.addRange(z),U.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),U.addRange(z))}}}}for(X=[],U=T;U=U.parentNode;)U.nodeType===1&&X.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Bc=!!kh,Mh=kh=null}finally{jt=p,Y.p=f,D.T=a}}r.current=o,ye=2}}function lb(){if(ye===2){ye=0;var r=pr,o=mo,a=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var f=Y.p;Y.p=2;var p=jt;jt|=4;try{B0(r,o.alternate,o)}finally{jt=p,Y.p=f,D.T=a}}ye=3}}function ab(){if(ye===4||ye===3){ye=0,Ji();var r=pr,o=mo,a=zi,f=X0;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ye=5:(ye=0,mo=pr=null,cb(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(hr=null),qn(a),o=o.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Xr,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=D.T,p=Y.p,Y.p=2,D.T=null;try{for(var y=r.onRecoverableError,S=0;S<f.length;S++){var T=f[S];y(T.value,{componentStack:T.stack})}}finally{D.T=o,Y.p=p}}(zi&3)!==0&&Ec(),ii(r),p=r.pendingLanes,(a&261930)!==0&&(p&42)!==0?r===hh?Dl++:(Dl=0,hh=r):Dl=0,Rl(0)}}function cb(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,dl(o)))}function Ec(){return ob(),lb(),ab(),ub()}function ub(){if(ye!==5)return!1;var r=pr,o=fh;fh=0;var a=qn(zi),f=D.T,p=Y.p;try{Y.p=32>a?32:a,D.T=null,a=dh,dh=null;var y=pr,S=zi;if(ye=0,mo=pr=null,zi=0,(jt&6)!==0)throw Error(i(331));var T=jt;if(jt|=4,P0(y.current),q0(y,y.current,S,a),jt=T,Rl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Xr,y)}catch{}return!0}finally{Y.p=p,D.T=f,cb(r,o)}}function fb(r,o,a){o=kn(a,o),o=Pd(r.stateNode,o,2),r=lr(r,o,2),r!==null&&(ee(r,2),ii(r))}function Vt(r,o,a){if(r.tag===3)fb(r,r,a);else for(;o!==null;){if(o.tag===3){fb(o,r,a);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(hr===null||!hr.has(f))){r=kn(a,r),a=d0(2),f=lr(o,a,2),f!==null&&(h0(a,f,o,r),ee(f,2),ii(f));break}}o=o.return}}function gh(r,o,a){var f=r.pingCache;if(f===null){f=r.pingCache=new SC;var p=new Set;f.set(o,p)}else p=f.get(o),p===void 0&&(p=new Set,f.set(o,p));p.has(a)||(ah=!0,p.add(a),r=kC.bind(null,r,o,a),o.then(r,r))}function kC(r,o,a){var f=r.pingCache;f!==null&&f.delete(o),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,Gt===r&&(zt&a)===a&&(se===4||se===3&&(zt&62914560)===zt&&300>$e()-yc?(jt&2)===0&&go(r,0):ch|=a,po===zt&&(po=0)),ii(r)}function db(r,o){o===0&&(o=_e()),r=es(r,o),r!==null&&(ee(r,o),ii(r))}function MC(r){var o=r.memoizedState,a=0;o!==null&&(a=o.retryLane),db(r,a)}function AC(r,o){var a=0;switch(r.tag){case 31:case 13:var f=r.stateNode,p=r.memoizedState;p!==null&&(a=p.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),db(r,a)}function OC(r,o){return Fo(r,o)}var Tc=null,bo=null,yh=!1,Cc=!1,bh=!1,gr=0;function ii(r){r!==bo&&r.next===null&&(bo===null?Tc=bo=r:bo=bo.next=r),Cc=!0,yh||(yh=!0,DC())}function Rl(r,o){if(!bh&&Cc){bh=!0;do for(var a=!1,f=Tc;f!==null;){if(r!==0){var p=f.pendingLanes;if(p===0)var y=0;else{var S=f.suspendedLanes,T=f.pingedLanes;y=(1<<31-Be(42|r)+1)-1,y&=p&~(S&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,gb(f,y))}else y=zt,y=Et(f,f===Gt?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||Zt(f,y)||(a=!0,gb(f,y));f=f.next}while(a);bh=!1}}function NC(){hb()}function hb(){Cc=yh=!1;var r=0;gr!==0&&VC()&&(r=gr);for(var o=$e(),a=null,f=Tc;f!==null;){var p=f.next,y=pb(f,o);y===0?(f.next=null,a===null?Tc=p:a.next=p,p===null&&(bo=a)):(a=f,(r!==0||(y&3)!==0)&&(Cc=!0)),f=p}ye!==0&&ye!==5||Rl(r),gr!==0&&(gr=0)}function pb(r,o){for(var a=r.suspendedLanes,f=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var S=31-Be(y),T=1<<S,k=p[S];k===-1?((T&a)===0||(T&f)!==0)&&(p[S]=ve(T,o)):k<=o&&(r.expiredLanes|=T),y&=~T}if(o=Gt,a=zt,a=Et(r,r===o?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,a===0||r===o&&(It===2||It===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&Jo(f),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Zt(r,a)){if(o=a&-a,o===r.callbackPriority)return o;switch(f!==null&&Jo(f),qn(a)){case 2:case 8:a=Aa;break;case 32:a=Kr;break;case 268435456:a=gi;break;default:a=Kr}return f=mb.bind(null,r),a=Fo(a,f),r.callbackPriority=o,r.callbackNode=a,o}return f!==null&&f!==null&&Jo(f),r.callbackPriority=2,r.callbackNode=null,2}function mb(r,o){if(ye!==0&&ye!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(Ec()&&r.callbackNode!==a)return null;var f=zt;return f=Et(r,r===Gt?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(J0(r,f,o),pb(r,$e()),r.callbackNode!=null&&r.callbackNode===a?mb.bind(null,r):null)}function gb(r,o){if(Ec())return null;J0(r,o,!0)}function DC(){$C(function(){(jt&6)!==0?Fo(Gr,NC):hb()})}function vh(){if(gr===0){var r=no;r===0&&(r=Bs,Bs<<=1,(Bs&261888)===0&&(Bs=256)),gr=r}return gr}function yb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:za(""+r)}function bb(r,o){var a=o.ownerDocument.createElement("input");return a.name=o.name,a.value=o.value,r.id&&a.setAttribute("form",r.id),o.parentNode.insertBefore(a,o),r=new FormData(r),a.parentNode.removeChild(a),r}function RC(r,o,a,f,p){if(o==="submit"&&a&&a.stateNode===p){var y=yb((p[We]||null).action),S=f.submitter;S&&(o=(o=S[We]||null)?yb(o.formAction):S.getAttribute("formAction"),o!==null&&(y=o,S=null));var T=new Ha("action","action",null,f,p);r.push({event:T,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(gr!==0){var k=S?bb(p,S):new FormData(p);jd(a,{pending:!0,data:k,method:p.method,action:y},null,k)}}else typeof y=="function"&&(T.preventDefault(),k=S?bb(p,S):new FormData(p),jd(a,{pending:!0,data:k,method:p.method,action:y},y,k))},currentTarget:p}]})}}for(var xh=0;xh<nd.length;xh++){var Sh=nd[xh],zC=Sh.toLowerCase(),LC=Sh[0].toUpperCase()+Sh.slice(1);$n(zC,"on"+LC)}$n(Fg,"onAnimationEnd"),$n(Jg,"onAnimationIteration"),$n(Qg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(JT,"onTransitionRun"),$n(QT,"onTransitionStart"),$n(ZT,"onTransitionCancel"),$n(Zg,"onTransitionEnd"),qs("onMouseEnter",["mouseout","mouseover"]),qs("onMouseLeave",["mouseout","mouseover"]),qs("onPointerEnter",["pointerout","pointerover"]),qs("onPointerLeave",["pointerout","pointerover"]),Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function vb(r,o){o=(o&4)!==0;for(var a=0;a<r.length;a++){var f=r[a],p=f.event;f=f.listeners;t:{var y=void 0;if(o)for(var S=f.length-1;0<=S;S--){var T=f[S],k=T.instance,L=T.currentTarget;if(T=T.listener,k!==y&&p.isPropagationStopped())break t;y=T,p.currentTarget=L;try{y(p)}catch(I){Ia(I)}p.currentTarget=null,y=k}else for(S=0;S<f.length;S++){if(T=f[S],k=T.instance,L=T.currentTarget,T=T.listener,k!==y&&p.isPropagationStopped())break t;y=T,p.currentTarget=L;try{y(p)}catch(I){Ia(I)}p.currentTarget=null,y=k}}}}function Rt(r,o){var a=o[Lf];a===void 0&&(a=o[Lf]=new Set);var f=r+"__bubble";a.has(f)||(xb(o,r,2,!1),a.add(f))}function wh(r,o,a){var f=0;o&&(f|=4),xb(a,r,f,o)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Eh(r){if(!r[kc]){r[kc]=!0,hg.forEach(function(a){a!=="selectionchange"&&(BC.has(a)||wh(a,!1,r),wh(a,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[kc]||(o[kc]=!0,wh("selectionchange",!1,o))}}function xb(r,o,a,f){switch(Fb(o)){case 2:var p=ck;break;case 8:p=uk;break;default:p=Uh}a=p.bind(null,o,a,r),p=void 0,!$f||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),f?p!==void 0?r.addEventListener(o,a,{capture:!0,passive:p}):r.addEventListener(o,a,!0):p!==void 0?r.addEventListener(o,a,{passive:p}):r.addEventListener(o,a,!1)}function Th(r,o,a,f,p){var y=f;if((o&1)===0&&(o&2)===0&&f!==null)t:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var T=f.stateNode.containerInfo;if(T===p)break;if(S===4)for(S=f.return;S!==null;){var k=S.tag;if((k===3||k===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;T!==null;){if(S=js(T),S===null)return;if(k=S.tag,k===5||k===6||k===26||k===27){f=y=S;continue t}T=T.parentNode}}f=f.return}Cg(function(){var L=y,I=Vf(a),X=[];t:{var B=Wg.get(r);if(B!==void 0){var U=Ha,st=r;switch(r){case"keypress":if(Ba(a)===0)break t;case"keydown":case"keyup":U=AT;break;case"focusin":st="focus",U=Kf;break;case"focusout":st="blur",U=Kf;break;case"beforeblur":case"afterblur":U=Kf;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Ag;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=gT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=DT;break;case Fg:case Jg:case Qg:U=vT;break;case Zg:U=zT;break;case"scroll":case"scrollend":U=pT;break;case"wheel":U=BT;break;case"copy":case"cut":case"paste":U=ST;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Ng;break;case"toggle":case"beforetoggle":U=HT}var bt=(o&4)!==0,Pt=!bt&&(r==="scroll"||r==="scrollend"),R=bt?B!==null?B+"Capture":null:B;bt=[];for(var O=L,z;O!==null;){var K=O;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||R===null||(K=el(O,R),K!=null&&bt.push(Ll(O,K,z))),Pt)break;O=O.return}0<bt.length&&(B=new U(B,st,null,a,I),X.push({event:B,listeners:bt}))}}if((o&7)===0){t:{if(B=r==="mouseover"||r==="pointerover",U=r==="mouseout"||r==="pointerout",B&&a!==If&&(st=a.relatedTarget||a.fromElement)&&(js(st)||st[Us]))break t;if((U||B)&&(B=I.window===I?I:(B=I.ownerDocument)?B.defaultView||B.parentWindow:window,U?(st=a.relatedTarget||a.toElement,U=L,st=st?js(st):null,st!==null&&(Pt=l(st),bt=st.tag,st!==Pt||bt!==5&&bt!==27&&bt!==6)&&(st=null)):(U=null,st=L),U!==st)){if(bt=Ag,K="onMouseLeave",R="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(bt=Ng,K="onPointerLeave",R="onPointerEnter",O="pointer"),Pt=U==null?B:tl(U),z=st==null?B:tl(st),B=new bt(K,O+"leave",U,a,I),B.target=Pt,B.relatedTarget=z,K=null,js(I)===L&&(bt=new bt(R,O+"enter",st,a,I),bt.target=z,bt.relatedTarget=Pt,K=bt),Pt=K,U&&st)e:{for(bt=_C,R=U,O=st,z=0,K=R;K;K=bt(K))z++;K=0;for(var dt=O;dt;dt=bt(dt))K++;for(;0<z-K;)R=bt(R),z--;for(;0<K-z;)O=bt(O),K--;for(;z--;){if(R===O||O!==null&&R===O.alternate){bt=R;break e}R=bt(R),O=bt(O)}bt=null}else bt=null;U!==null&&Sb(X,B,U,bt,!1),st!==null&&Pt!==null&&Sb(X,Pt,st,bt,!0)}}t:{if(B=L?tl(L):window,U=B.nodeName&&B.nodeName.toLowerCase(),U==="select"||U==="input"&&B.type==="file")var Ht=Ug;else if(_g(B))if(jg)Ht=KT;else{Ht=PT;var at=YT}else U=B.nodeName,!U||U.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?L&&jf(L.elementType)&&(Ht=Ug):Ht=GT;if(Ht&&(Ht=Ht(r,L))){Hg(X,Ht,a,I);break t}at&&at(r,B,L),r==="focusout"&&L&&B.type==="number"&&L.memoizedProps.value!=null&&Uf(B,"number",B.value)}switch(at=L?tl(L):window,r){case"focusin":(_g(at)||at.contentEditable==="true")&&(Xs=at,Wf=L,cl=null);break;case"focusout":cl=Wf=Xs=null;break;case"mousedown":td=!0;break;case"contextmenu":case"mouseup":case"dragend":td=!1,Kg(X,a,I);break;case"selectionchange":if(FT)break;case"keydown":case"keyup":Kg(X,a,I)}var At;if(Ff)t:{switch(r){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Ks?Lg(r,a)&&(Lt="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(Dg&&a.locale!=="ko"&&(Ks||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Ks&&(At=kg()):(tr=I,Yf="value"in tr?tr.value:tr.textContent,Ks=!0)),at=Mc(L,Lt),0<at.length&&(Lt=new Og(Lt,r,null,a,I),X.push({event:Lt,listeners:at}),At?Lt.data=At:(At=Bg(a),At!==null&&(Lt.data=At)))),(At=jT?IT(r,a):VT(r,a))&&(Lt=Mc(L,"onBeforeInput"),0<Lt.length&&(at=new Og("onBeforeInput","beforeinput",null,a,I),X.push({event:at,listeners:Lt}),at.data=At)),RC(X,r,L,a,I)}vb(X,o)})}function Ll(r,o,a){return{instance:r,listener:o,currentTarget:a}}function Mc(r,o){for(var a=o+"Capture",f=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=el(r,a),p!=null&&f.unshift(Ll(r,p,y)),p=el(r,o),p!=null&&f.push(Ll(r,p,y))),r.tag===3)return f;r=r.return}return[]}function _C(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Sb(r,o,a,f,p){for(var y=o._reactName,S=[];a!==null&&a!==f;){var T=a,k=T.alternate,L=T.stateNode;if(T=T.tag,k!==null&&k===f)break;T!==5&&T!==26&&T!==27||L===null||(k=L,p?(L=el(a,y),L!=null&&S.unshift(Ll(a,L,k))):p||(L=el(a,y),L!=null&&S.push(Ll(a,L,k)))),a=a.return}S.length!==0&&r.push({event:o,listeners:S})}var HC=/\r\n?/g,UC=/\u0000|\uFFFD/g;function wb(r){return(typeof r=="string"?r:""+r).replace(HC,`
`).replace(UC,"")}function Eb(r,o){return o=wb(o),wb(r)===o}function Yt(r,o,a,f,p,y){switch(a){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Ys(r,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Ys(r,""+f);break;case"className":Da(r,"class",f);break;case"tabIndex":Da(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Da(r,a,f);break;case"style":Eg(r,f,y);break;case"data":if(o!=="object"){Da(r,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||a!=="href")){r.removeAttribute(a);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(a);break}f=za(""+f),r.setAttribute(a,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(o!=="input"&&Yt(r,o,"name",p.name,p,null),Yt(r,o,"formEncType",p.formEncType,p,null),Yt(r,o,"formMethod",p.formMethod,p,null),Yt(r,o,"formTarget",p.formTarget,p,null)):(Yt(r,o,"encType",p.encType,p,null),Yt(r,o,"method",p.method,p,null),Yt(r,o,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(a);break}f=za(""+f),r.setAttribute(a,f);break;case"onClick":f!=null&&(r.onclick=bi);break;case"onScroll":f!=null&&Rt("scroll",r);break;case"onScrollEnd":f!=null&&Rt("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(a=f.__html,a!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}a=za(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(a,""+f):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":f===!0?r.setAttribute(a,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(a,f):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(a,f):r.removeAttribute(a);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(a):r.setAttribute(a,f);break;case"popover":Rt("beforetoggle",r),Rt("toggle",r),Na(r,"popover",f);break;case"xlinkActuate":yi(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":yi(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":yi(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":yi(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":yi(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":yi(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":yi(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":yi(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":yi(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Na(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=dT.get(a)||a,Na(r,a,f))}}function Ch(r,o,a,f,p,y){switch(a){case"style":Eg(r,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(a=f.__html,a!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof f=="string"?Ys(r,f):(typeof f=="number"||typeof f=="bigint")&&Ys(r,""+f);break;case"onScroll":f!=null&&Rt("scroll",r);break;case"onScrollEnd":f!=null&&Rt("scrollend",r);break;case"onClick":f!=null&&(r.onclick=bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pg.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),o=a.slice(2,p?a.length-7:void 0),y=r[We]||null,y=y!=null?y[a]:null,typeof y=="function"&&r.removeEventListener(o,y,p),typeof f=="function")){typeof y!="function"&&y!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(o,f,p);break t}a in r?r[a]=f:f===!0?r.setAttribute(a,""):Na(r,a,f)}}}function Ne(r,o,a){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",r),Rt("load",r);var f=!1,p=!1,y;for(y in a)if(a.hasOwnProperty(y)){var S=a[y];if(S!=null)switch(y){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Yt(r,o,y,S,a,null)}}p&&Yt(r,o,"srcSet",a.srcSet,a,null),f&&Yt(r,o,"src",a.src,a,null);return;case"input":Rt("invalid",r);var T=y=S=p=null,k=null,L=null;for(f in a)if(a.hasOwnProperty(f)){var I=a[f];if(I!=null)switch(f){case"name":p=I;break;case"type":S=I;break;case"checked":k=I;break;case"defaultChecked":L=I;break;case"value":y=I;break;case"defaultValue":T=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,o));break;default:Yt(r,o,f,I,a,null)}}vg(r,y,T,k,L,S,p,!1);return;case"select":Rt("invalid",r),f=S=y=null;for(p in a)if(a.hasOwnProperty(p)&&(T=a[p],T!=null))switch(p){case"value":y=T;break;case"defaultValue":S=T;break;case"multiple":f=T;default:Yt(r,o,p,T,a,null)}o=y,a=S,r.multiple=!!f,o!=null?$s(r,!!f,o,!1):a!=null&&$s(r,!!f,a,!0);return;case"textarea":Rt("invalid",r),y=p=f=null;for(S in a)if(a.hasOwnProperty(S)&&(T=a[S],T!=null))switch(S){case"value":f=T;break;case"defaultValue":p=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:Yt(r,o,S,T,a,null)}Sg(r,f,p,y);return;case"option":for(k in a)a.hasOwnProperty(k)&&(f=a[k],f!=null)&&(k==="selected"?r.selected=f&&typeof f!="function"&&typeof f!="symbol":Yt(r,o,k,f,a,null));return;case"dialog":Rt("beforetoggle",r),Rt("toggle",r),Rt("cancel",r),Rt("close",r);break;case"iframe":case"object":Rt("load",r);break;case"video":case"audio":for(f=0;f<zl.length;f++)Rt(zl[f],r);break;case"image":Rt("error",r),Rt("load",r);break;case"details":Rt("toggle",r);break;case"embed":case"source":case"link":Rt("error",r),Rt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(f=a[L],f!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Yt(r,o,L,f,a,null)}return;default:if(jf(o)){for(I in a)a.hasOwnProperty(I)&&(f=a[I],f!==void 0&&Ch(r,o,I,f,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(f=a[T],f!=null&&Yt(r,o,T,f,a,null))}function jC(r,o,a,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,S=null,T=null,k=null,L=null,I=null;for(U in a){var X=a[U];if(a.hasOwnProperty(U)&&X!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":k=X;default:f.hasOwnProperty(U)||Yt(r,o,U,null,f,X)}}for(var B in f){var U=f[B];if(X=a[B],f.hasOwnProperty(B)&&(U!=null||X!=null))switch(B){case"type":y=U;break;case"name":p=U;break;case"checked":L=U;break;case"defaultChecked":I=U;break;case"value":S=U;break;case"defaultValue":T=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,o));break;default:U!==X&&Yt(r,o,B,U,f,X)}}Hf(r,S,T,k,L,I,y,p);return;case"select":U=S=T=B=null;for(y in a)if(k=a[y],a.hasOwnProperty(y)&&k!=null)switch(y){case"value":break;case"multiple":U=k;default:f.hasOwnProperty(y)||Yt(r,o,y,null,f,k)}for(p in f)if(y=f[p],k=a[p],f.hasOwnProperty(p)&&(y!=null||k!=null))switch(p){case"value":B=y;break;case"defaultValue":T=y;break;case"multiple":S=y;default:y!==k&&Yt(r,o,p,y,f,k)}o=T,a=S,f=U,B!=null?$s(r,!!a,B,!1):!!f!=!!a&&(o!=null?$s(r,!!a,o,!0):$s(r,!!a,a?[]:"",!1));return;case"textarea":U=B=null;for(T in a)if(p=a[T],a.hasOwnProperty(T)&&p!=null&&!f.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(r,o,T,null,f,p)}for(S in f)if(p=f[S],y=a[S],f.hasOwnProperty(S)&&(p!=null||y!=null))switch(S){case"value":B=p;break;case"defaultValue":U=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&Yt(r,o,S,p,f,y)}xg(r,B,U);return;case"option":for(var st in a)B=a[st],a.hasOwnProperty(st)&&B!=null&&!f.hasOwnProperty(st)&&(st==="selected"?r.selected=!1:Yt(r,o,st,null,f,B));for(k in f)B=f[k],U=a[k],f.hasOwnProperty(k)&&B!==U&&(B!=null||U!=null)&&(k==="selected"?r.selected=B&&typeof B!="function"&&typeof B!="symbol":Yt(r,o,k,B,f,U));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)B=a[bt],a.hasOwnProperty(bt)&&B!=null&&!f.hasOwnProperty(bt)&&Yt(r,o,bt,null,f,B);for(L in f)if(B=f[L],U=a[L],f.hasOwnProperty(L)&&B!==U&&(B!=null||U!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,o));break;default:Yt(r,o,L,B,f,U)}return;default:if(jf(o)){for(var Pt in a)B=a[Pt],a.hasOwnProperty(Pt)&&B!==void 0&&!f.hasOwnProperty(Pt)&&Ch(r,o,Pt,void 0,f,B);for(I in f)B=f[I],U=a[I],!f.hasOwnProperty(I)||B===U||B===void 0&&U===void 0||Ch(r,o,I,B,f,U);return}}for(var R in a)B=a[R],a.hasOwnProperty(R)&&B!=null&&!f.hasOwnProperty(R)&&Yt(r,o,R,null,f,B);for(X in f)B=f[X],U=a[X],!f.hasOwnProperty(X)||B===U||B==null&&U==null||Yt(r,o,X,B,f,U)}function Tb(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IC(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,a=performance.getEntriesByType("resource"),f=0;f<a.length;f++){var p=a[f],y=p.transferSize,S=p.initiatorType,T=p.duration;if(y&&T&&Tb(S)){for(S=0,T=p.responseEnd,f+=1;f<a.length;f++){var k=a[f],L=k.startTime;if(L>T)break;var I=k.transferSize,X=k.initiatorType;I&&Tb(X)&&(k=k.responseEnd,S+=I*(k<T?1:(T-L)/(k-L)))}if(--f,o+=8*(y+S)/(p.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var kh=null,Mh=null;function Ac(r){return r.nodeType===9?r:r.ownerDocument}function Cb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kb(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Ah(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Oh=null;function VC(){var r=window.event;return r&&r.type==="popstate"?r===Oh?!1:(Oh=r,!0):(Oh=null,!1)}var Mb=typeof setTimeout=="function"?setTimeout:void 0,qC=typeof clearTimeout=="function"?clearTimeout:void 0,Ab=typeof Promise=="function"?Promise:void 0,$C=typeof queueMicrotask=="function"?queueMicrotask:typeof Ab<"u"?function(r){return Ab.resolve(null).then(r).catch(YC)}:Mb;function YC(r){setTimeout(function(){throw r})}function yr(r){return r==="head"}function Ob(r,o){var a=o,f=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"||a==="/&"){if(f===0){r.removeChild(p),wo(o);return}f--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")f++;else if(a==="html")Bl(r.ownerDocument.documentElement);else if(a==="head"){a=r.ownerDocument.head,Bl(a);for(var y=a.firstChild;y;){var S=y.nextSibling,T=y.nodeName;y[Wo]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=S}}else a==="body"&&Bl(r.ownerDocument.body);a=p}while(a);wo(o)}function Nb(r,o){var a=r;r=0;do{var f=a.nextSibling;if(a.nodeType===1?o?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(o?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(r===0)break;r--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||r++;a=f}while(a)}function Nh(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var a=o;switch(o=o.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nh(a),Bf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function PC(r,o,a,f){for(;r.nodeType===1;){var p=a;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Wo])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Dn(r.nextSibling),r===null)break}return null}function GC(r,o,a){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Dn(r.nextSibling),r===null))return null;return r}function Db(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Dn(r.nextSibling),r===null))return null;return r}function Dh(r){return r.data==="$?"||r.data==="$~"}function Rh(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function KC(r,o){var a=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||a.readyState!=="loading")o();else{var f=function(){o(),a.removeEventListener("DOMContentLoaded",f)};a.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Dn(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var zh=null;function Rb(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"||a==="/&"){if(o===0)return Dn(r.nextSibling);o--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||o++}r=r.nextSibling}return null}function zb(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(o===0)return r;o--}else a!=="/$"&&a!=="/&"||o++}r=r.previousSibling}return null}function Lb(r,o,a){switch(o=Ac(a),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Bl(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Bf(r)}var Rn=new Map,Bb=new Set;function Oc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Li=Y.d;Y.d={f:XC,r:FC,D:JC,C:QC,L:ZC,m:WC,X:ek,S:tk,M:nk};function XC(){var r=Li.f(),o=xc();return r||o}function FC(r){var o=Is(r);o!==null&&o.tag===5&&o.type==="form"?Zy(o):Li.r(r)}var vo=typeof document>"u"?null:document;function _b(r,o,a){var f=vo;if(f&&typeof o=="string"&&o){var p=Tn(o);p='link[rel="'+r+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),Bb.has(p)||(Bb.add(p),r={rel:r,crossOrigin:a,href:o},f.querySelector(p)===null&&(o=f.createElement("link"),Ne(o,"link",r),xe(o),f.head.appendChild(o)))}}function JC(r){Li.D(r),_b("dns-prefetch",r,null)}function QC(r,o){Li.C(r,o),_b("preconnect",r,o)}function ZC(r,o,a){Li.L(r,o,a);var f=vo;if(f&&r&&o){var p='link[rel="preload"][as="'+Tn(o)+'"]';o==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+Tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+Tn(a.imageSizes)+'"]')):p+='[href="'+Tn(r)+'"]';var y=p;switch(o){case"style":y=xo(r);break;case"script":y=So(r)}Rn.has(y)||(r=m({rel:"preload",href:o==="image"&&a&&a.imageSrcSet?void 0:r,as:o},a),Rn.set(y,r),f.querySelector(p)!==null||o==="style"&&f.querySelector(_l(y))||o==="script"&&f.querySelector(Hl(y))||(o=f.createElement("link"),Ne(o,"link",r),xe(o),f.head.appendChild(o)))}}function WC(r,o){Li.m(r,o);var a=vo;if(a&&r){var f=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+Tn(f)+'"][href="'+Tn(r)+'"]',y=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=So(r)}if(!Rn.has(y)&&(r=m({rel:"modulepreload",href:r},o),Rn.set(y,r),a.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hl(y)))return}f=a.createElement("link"),Ne(f,"link",r),xe(f),a.head.appendChild(f)}}}function tk(r,o,a){Li.S(r,o,a);var f=vo;if(f&&r){var p=Vs(f).hoistableStyles,y=xo(r);o=o||"default";var S=p.get(y);if(!S){var T={loading:0,preload:null};if(S=f.querySelector(_l(y)))T.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":o},a),(a=Rn.get(y))&&Lh(r,a);var k=S=f.createElement("link");xe(k),Ne(k,"link",r),k._p=new Promise(function(L,I){k.onload=L,k.onerror=I}),k.addEventListener("load",function(){T.loading|=1}),k.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Nc(S,o,f)}S={type:"stylesheet",instance:S,count:1,state:T},p.set(y,S)}}}function ek(r,o){Li.X(r,o);var a=vo;if(a&&r){var f=Vs(a).hoistableScripts,p=So(r),y=f.get(p);y||(y=a.querySelector(Hl(p)),y||(r=m({src:r,async:!0},o),(o=Rn.get(p))&&Bh(r,o),y=a.createElement("script"),xe(y),Ne(y,"link",r),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(p,y))}}function nk(r,o){Li.M(r,o);var a=vo;if(a&&r){var f=Vs(a).hoistableScripts,p=So(r),y=f.get(p);y||(y=a.querySelector(Hl(p)),y||(r=m({src:r,async:!0,type:"module"},o),(o=Rn.get(p))&&Bh(r,o),y=a.createElement("script"),xe(y),Ne(y,"link",r),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(p,y))}}function Hb(r,o,a,f){var p=(p=gt.current)?Oc(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(o=xo(a.href),a=Vs(p).hoistableStyles,f=a.get(o),f||(f={type:"style",instance:null,count:0,state:null},a.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=xo(a.href);var y=Vs(p).hoistableStyles,S=y.get(r);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,S),(y=p.querySelector(_l(r)))&&!y._p&&(S.instance=y,S.state.loading=5),Rn.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Rn.set(r,a),y||ik(p,r,a,S.state))),o&&f===null)throw Error(i(528,""));return S}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=a.async,a=a.src,typeof a=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=So(a),a=Vs(p).hoistableScripts,f=a.get(o),f||(f={type:"script",instance:null,count:0,state:null},a.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function xo(r){return'href="'+Tn(r)+'"'}function _l(r){return'link[rel="stylesheet"]['+r+"]"}function Ub(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function ik(r,o,a,f){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=r.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Ne(o,"link",a),xe(o),r.head.appendChild(o))}function So(r){return'[src="'+Tn(r)+'"]'}function Hl(r){return"script[async]"+r}function jb(r,o,a){if(o.count++,o.instance===null)switch(o.type){case"style":var f=r.querySelector('style[data-href~="'+Tn(a.href)+'"]');if(f)return o.instance=f,xe(f),f;var p=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),xe(f),Ne(f,"style",p),Nc(f,a.precedence,r),o.instance=f;case"stylesheet":p=xo(a.href);var y=r.querySelector(_l(p));if(y)return o.state.loading|=4,o.instance=y,xe(y),y;f=Ub(a),(p=Rn.get(p))&&Lh(f,p),y=(r.ownerDocument||r).createElement("link"),xe(y);var S=y;return S._p=new Promise(function(T,k){S.onload=T,S.onerror=k}),Ne(y,"link",f),o.state.loading|=4,Nc(y,a.precedence,r),o.instance=y;case"script":return y=So(a.src),(p=r.querySelector(Hl(y)))?(o.instance=p,xe(p),p):(f=a,(p=Rn.get(y))&&(f=m({},a),Bh(f,p)),r=r.ownerDocument||r,p=r.createElement("script"),xe(p),Ne(p,"link",f),r.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Nc(f,a.precedence,r));return o.instance}function Nc(r,o,a){for(var f=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,y=p,S=0;S<f.length;S++){var T=f[S];if(T.dataset.precedence===o)y=T;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(o=a.nodeType===9?a.head:a,o.insertBefore(r,o.firstChild))}function Lh(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Bh(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Dc=null;function Ib(r,o,a){if(Dc===null){var f=new Map,p=Dc=new Map;p.set(a,f)}else p=Dc,f=p.get(a),f||(f=new Map,p.set(a,f));if(f.has(r))return f;for(f.set(r,null),a=a.getElementsByTagName(r),p=0;p<a.length;p++){var y=a[p];if(!(y[Wo]||y[ke]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(o)||"";S=r+S;var T=f.get(S);T?T.push(y):f.set(S,[y])}}return f}function Vb(r,o,a){r=r.ownerDocument||r,r.head.insertBefore(a,o==="title"?r.querySelector("head > title"):null)}function rk(r,o,a){if(a===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(r=o.disabled,typeof o.precedence=="string"&&r==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function qb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function sk(r,o,a,f){if(a.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=xo(f.href),y=o.querySelector(_l(p));if(y){o=y._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=Rc.bind(r),o.then(r,r)),a.state.loading|=4,a.instance=y,xe(y);return}y=o.ownerDocument||o,f=Ub(f),(p=Rn.get(p))&&Lh(f,p),y=y.createElement("link"),xe(y);var S=y;S._p=new Promise(function(T,k){S.onload=T,S.onerror=k}),Ne(y,"link",f),a.instance=y}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(a,o),(o=a.state.preload)&&(a.state.loading&3)===0&&(r.count++,a=Rc.bind(r),o.addEventListener("load",a),o.addEventListener("error",a))}}var _h=0;function ok(r,o){return r.stylesheets&&r.count===0&&Lc(r,r.stylesheets),0<r.count||0<r.imgCount?function(a){var f=setTimeout(function(){if(r.stylesheets&&Lc(r,r.stylesheets),r.unsuspend){var y=r.unsuspend;r.unsuspend=null,y()}},6e4+o);0<r.imgBytes&&_h===0&&(_h=62500*IC());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Lc(r,r.stylesheets),r.unsuspend)){var y=r.unsuspend;r.unsuspend=null,y()}},(r.imgBytes>_h?50:800)+o);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(f),clearTimeout(p)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lc(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var zc=null;function Lc(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,zc=new Map,o.forEach(lk,r),zc=null,Rc.call(r))}function lk(r,o){if(!(o.state.loading&4)){var a=zc.get(r);if(a)var f=a.get(null);else{a=new Map,zc.set(r,a);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var S=p[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),f=S)}f&&a.set(null,f)}p=o.instance,S=p.getAttribute("data-precedence"),y=a.get(S)||f,y===f&&a.set(null,p),a.set(S,p),this.count++,f=Rc.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),o.state.loading|=4}}var Ul={$$typeof:_,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function ak(r,o,a,f,p,y,S,T,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.hiddenUpdates=Zi(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function $b(r,o,a,f,p,y,S,T,k,L,I,X){return r=new ak(r,o,a,S,k,L,I,X,T),o=1,y===!0&&(o|=24),y=hn(3,null,null,o),r.current=y,y.stateNode=r,o=md(),o.refCount++,r.pooledCache=o,o.refCount++,y.memoizedState={element:f,isDehydrated:a,cache:o},vd(y),r}function Yb(r){return r?(r=Qs,r):Qs}function Pb(r,o,a,f,p,y){p=Yb(p),f.context===null?f.context=p:f.pendingContext=p,f=or(o),f.payload={element:a},y=y===void 0?null:y,y!==null&&(f.callback=y),a=lr(r,f,o),a!==null&&(on(a,r,o),gl(a,r,o))}function Gb(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<o?a:o}}function Hh(r,o){Gb(r,o),(r=r.alternate)&&Gb(r,o)}function Kb(r){if(r.tag===13||r.tag===31){var o=es(r,67108864);o!==null&&on(o,r,67108864),Hh(r,67108864)}}function Xb(r){if(r.tag===13||r.tag===31){var o=bn();o=Hs(o);var a=es(r,o);a!==null&&on(a,r,o),Hh(r,o)}}var Bc=!0;function ck(r,o,a,f){var p=D.T;D.T=null;var y=Y.p;try{Y.p=2,Uh(r,o,a,f)}finally{Y.p=y,D.T=p}}function uk(r,o,a,f){var p=D.T;D.T=null;var y=Y.p;try{Y.p=8,Uh(r,o,a,f)}finally{Y.p=y,D.T=p}}function Uh(r,o,a,f){if(Bc){var p=jh(f);if(p===null)Th(r,o,f,_c,a),Jb(r,f);else if(dk(p,r,o,a,f))f.stopPropagation();else if(Jb(r,f),o&4&&-1<fk.indexOf(r)){for(;p!==null;){var y=Is(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Wn(y.pendingLanes);if(S!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var k=1<<31-Be(S);T.entanglements[1]|=k,S&=~k}ii(y),(jt&6)===0&&(bc=$e()+500,Rl(0))}}break;case 31:case 13:T=es(y,2),T!==null&&on(T,y,2),xc(),Hh(y,2)}if(y=jh(f),y===null&&Th(r,o,f,_c,a),y===p)break;p=y}p!==null&&f.stopPropagation()}else Th(r,o,f,null,a)}}function jh(r){return r=Vf(r),Ih(r)}var _c=null;function Ih(r){if(_c=null,r=js(r),r!==null){var o=l(r);if(o===null)r=null;else{var a=o.tag;if(a===13){if(r=c(o),r!==null)return r;r=null}else if(a===31){if(r=u(o),r!==null)return r;r=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return _c=r,null}function Fb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Df()){case Gr:return 2;case Aa:return 8;case Kr:case Qo:return 32;case gi:return 268435456;default:return 32}default:return 32}}var Vh=!1,br=null,vr=null,xr=null,jl=new Map,Il=new Map,Sr=[],fk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jb(r,o){switch(r){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":jl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(o.pointerId)}}function Vl(r,o,a,f,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:o,domEventName:a,eventSystemFlags:f,nativeEvent:y,targetContainers:[p]},o!==null&&(o=Is(o),o!==null&&Kb(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),r)}function dk(r,o,a,f,p){switch(o){case"focusin":return br=Vl(br,r,o,a,f,p),!0;case"dragenter":return vr=Vl(vr,r,o,a,f,p),!0;case"mouseover":return xr=Vl(xr,r,o,a,f,p),!0;case"pointerover":var y=p.pointerId;return jl.set(y,Vl(jl.get(y)||null,r,o,a,f,p)),!0;case"gotpointercapture":return y=p.pointerId,Il.set(y,Vl(Il.get(y)||null,r,o,a,f,p)),!0}return!1}function Qb(r){var o=js(r.target);if(o!==null){var a=l(o);if(a!==null){if(o=a.tag,o===13){if(o=c(a),o!==null){r.blockedOn=o,fg(r.priority,function(){Xb(a)});return}}else if(o===31){if(o=u(a),o!==null){r.blockedOn=o,fg(r.priority,function(){Xb(a)});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Hc(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var a=jh(r.nativeEvent);if(a===null){a=r.nativeEvent;var f=new a.constructor(a.type,a);If=f,a.target.dispatchEvent(f),If=null}else return o=Is(a),o!==null&&Kb(o),r.blockedOn=a,!1;o.shift()}return!0}function Zb(r,o,a){Hc(r)&&a.delete(o)}function hk(){Vh=!1,br!==null&&Hc(br)&&(br=null),vr!==null&&Hc(vr)&&(vr=null),xr!==null&&Hc(xr)&&(xr=null),jl.forEach(Zb),Il.forEach(Zb)}function Uc(r,o){r.blockedOn===o&&(r.blockedOn=null,Vh||(Vh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hk)))}var jc=null;function Wb(r){jc!==r&&(jc=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jc===r&&(jc=null);for(var o=0;o<r.length;o+=3){var a=r[o],f=r[o+1],p=r[o+2];if(typeof f!="function"){if(Ih(f||a)===null)continue;break}var y=Is(a);y!==null&&(r.splice(o,3),o-=3,jd(y,{pending:!0,data:p,method:a.method,action:f},f,p))}}))}function wo(r){function o(k){return Uc(k,r)}br!==null&&Uc(br,r),vr!==null&&Uc(vr,r),xr!==null&&Uc(xr,r),jl.forEach(o),Il.forEach(o);for(var a=0;a<Sr.length;a++){var f=Sr[a];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Sr.length&&(a=Sr[0],a.blockedOn===null);)Qb(a),a.blockedOn===null&&Sr.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(f=0;f<a.length;f+=3){var p=a[f],y=a[f+1],S=p[We]||null;if(typeof y=="function")S||Wb(a);else if(S){var T=null;if(y&&y.hasAttribute("formAction")){if(p=y,S=y[We]||null)T=S.formAction;else if(Ih(p)!==null)continue}else T=S.action;typeof T=="function"?a[f+1]=T:(a.splice(f,3),f-=3),Wb(a)}}}function tv(){function r(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(S){return p=S})},focusReset:"manual",scroll:"manual"})}function o(){p!==null&&(p(),p=null),f||setTimeout(a,20)}function a(){if(!f&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(a,100),function(){f=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),p!==null&&(p(),p=null)}}}function qh(r){this._internalRoot=r}Ic.prototype.render=qh.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var a=o.current,f=bn();Pb(a,f,r,o,null,null)},Ic.prototype.unmount=qh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Pb(r.current,2,null,r,null,null),xc(),o[Us]=null}};function Ic(r){this._internalRoot=r}Ic.prototype.unstable_scheduleHydration=function(r){if(r){var o=zf();r={blockedOn:null,target:r,priority:o};for(var a=0;a<Sr.length&&o!==0&&o<Sr[a].priority;a++);Sr.splice(a,0,r),a===0&&Qb(r)}};var ev=t.version;if(ev!=="19.2.3")throw Error(i(527,ev,"19.2.3"));Y.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var pk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Xr=Vc.inject(pk),Ye=Vc}catch{}}return $l.createRoot=function(r,o){if(!s(r))throw Error(i(299));var a=!1,f="",p=a0,y=c0,S=u0;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError)),o=$b(r,1,!1,null,null,a,f,null,p,y,S,tv),r[Us]=o.current,Eh(r),new qh(o)},$l.hydrateRoot=function(r,o,a){if(!s(r))throw Error(i(299));var f=!1,p="",y=a0,S=c0,T=u0,k=null;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(k=a.formState)),o=$b(r,1,!0,o,a??null,f,p,k,y,S,T,tv),o.context=Yb(null),a=o.current,f=bn(),f=Hs(f),p=or(f),p.callback=null,lr(a,p,f),a=f,o.current.lanes=a,ee(o,a),ii(o),r[Us]=o.current,Eh(r),new Ic(o)},$l.version="19.2.3",$l}var fv;function Ck(){if(fv)return Ph.exports;fv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ph.exports=Tk(),Ph.exports}var kk=Ck(),dm=Ex();const Tx=wx(dm);var Fh={exports:{}},Jh={};var dv;function Mk(){if(dv)return Jh;dv=1;var n=Sa();function t(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var e=typeof Object.is=="function"?Object.is:t,i=n.useState,s=n.useEffect,l=n.useLayoutEffect,c=n.useDebugValue;function u(m,b){var v=b(),x=i({inst:{value:v,getSnapshot:b}}),w=x[0].inst,E=x[1];return l(function(){w.value=v,w.getSnapshot=b,d(w)&&E({inst:w})},[m,v,b]),s(function(){return d(w)&&E({inst:w}),m(function(){d(w)&&E({inst:w})})},[m]),c(v),v}function d(m){var b=m.getSnapshot;m=m.value;try{var v=b();return!e(m,v)}catch{return!0}}function h(m,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Jh.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:g,Jh}var hv;function Cx(){return hv||(hv=1,Fh.exports=Mk()),Fh.exports}var kx=Cx();function De(n){this.content=n}De.prototype={constructor:De,find:function(n){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===n)return t;return-1},get:function(n){var t=this.find(n);return t==-1?void 0:this.content[t+1]},update:function(n,t,e){var i=e&&e!=n?this.remove(e):this,s=i.find(n),l=i.content.slice();return s==-1?l.push(e||n,t):(l[s+1]=t,e&&(l[s]=e)),new De(l)},remove:function(n){var t=this.find(n);if(t==-1)return this;var e=this.content.slice();return e.splice(t,2),new De(e)},addToStart:function(n,t){return new De([n,t].concat(this.remove(n).content))},addToEnd:function(n,t){var e=this.remove(n).content.slice();return e.push(n,t),new De(e)},addBefore:function(n,t,e){var i=this.remove(t),s=i.content.slice(),l=i.find(n);return s.splice(l==-1?s.length:l,0,t,e),new De(s)},forEach:function(n){for(var t=0;t<this.content.length;t+=2)n(this.content[t],this.content[t+1])},prepend:function(n){return n=De.from(n),n.size?new De(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=De.from(n),n.size?new De(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var t=this;n=De.from(n);for(var e=0;e<n.content.length;e+=2)t=t.remove(n.content[e]);return t},toObject:function(){var n={};return this.forEach(function(t,e){n[t]=e}),n},get size(){return this.content.length>>1}};De.from=function(n){if(n instanceof De)return n;var t=[];if(n)for(var e in n)t.push(e,n[e]);return new De(t)};function Mx(n,t,e){for(let i=0;;i++){if(i==n.childCount||i==t.childCount)return n.childCount==t.childCount?null:e;let s=n.child(i),l=t.child(i);if(s==l){e+=s.nodeSize;continue}if(!s.sameMarkup(l))return e;if(s.isText&&s.text!=l.text){for(let c=0;s.text[c]==l.text[c];c++)e++;return e}if(s.content.size||l.content.size){let c=Mx(s.content,l.content,e+1);if(c!=null)return c}e+=s.nodeSize}}function Ax(n,t,e,i){for(let s=n.childCount,l=t.childCount;;){if(s==0||l==0)return s==l?null:{a:e,b:i};let c=n.child(--s),u=t.child(--l),d=c.nodeSize;if(c==u){e-=d,i-=d;continue}if(!c.sameMarkup(u))return{a:e,b:i};if(c.isText&&c.text!=u.text){let h=0,g=Math.min(c.text.length,u.text.length);for(;h<g&&c.text[c.text.length-h-1]==u.text[u.text.length-h-1];)h++,e--,i--;return{a:e,b:i}}if(c.content.size||u.content.size){let h=Ax(c.content,u.content,e-1,i-1);if(h)return h}e-=d,i-=d}}class F{constructor(t,e){if(this.content=t,this.size=e||0,e==null)for(let i=0;i<t.length;i++)this.size+=t[i].nodeSize}nodesBetween(t,e,i,s=0,l){for(let c=0,u=0;u<e;c++){let d=this.content[c],h=u+d.nodeSize;if(h>t&&i(d,s+u,l||null,c)!==!1&&d.content.size){let g=u+1;d.nodesBetween(Math.max(0,t-g),Math.min(d.content.size,e-g),i,s+g)}u=h}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,i,s){let l="",c=!0;return this.nodesBetween(t,e,(u,d)=>{let h=u.isText?u.text.slice(Math.max(t,d)-d,e-d):u.isLeaf?s?typeof s=="function"?s(u):s:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&h||u.isTextblock)&&i&&(c?c=!1:l+=i),l+=h},0),l}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,i=t.firstChild,s=this.content.slice(),l=0;for(e.isText&&e.sameMarkup(i)&&(s[s.length-1]=e.withText(e.text+i.text),l=1);l<t.content.length;l++)s.push(t.content[l]);return new F(s,this.size+t.size)}cut(t,e=this.size){if(t==0&&e==this.size)return this;let i=[],s=0;if(e>t)for(let l=0,c=0;c<e;l++){let u=this.content[l],d=c+u.nodeSize;d>t&&((c<t||d>e)&&(u.isText?u=u.cut(Math.max(0,t-c),Math.min(u.text.length,e-c)):u=u.cut(Math.max(0,t-c-1),Math.min(u.content.size,e-c-1))),i.push(u),s+=u.nodeSize),c=d}return new F(i,s)}cutByIndex(t,e){return t==e?F.empty:t==0&&e==this.content.length?this:new F(this.content.slice(t,e))}replaceChild(t,e){let i=this.content[t];if(i==e)return this;let s=this.content.slice(),l=this.size+e.nodeSize-i.nodeSize;return s[t]=e,new F(s,l)}addToStart(t){return new F([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new F(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,i=0;e<this.content.length;e++){let s=this.content[e];t(s,i,e),i+=s.nodeSize}}findDiffStart(t,e=0){return Mx(this,t,e)}findDiffEnd(t,e=this.size,i=t.size){return Ax(this,t,e,i)}findIndex(t){if(t==0)return qc(0,t);if(t==this.size)return qc(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let e=0,i=0;;e++){let s=this.child(e),l=i+s.nodeSize;if(l>=t)return l==t?qc(e+1,l):qc(e,i);i=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return F.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new F(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return F.empty;let e,i=0;for(let s=0;s<t.length;s++){let l=t[s];i+=l.nodeSize,s&&l.isText&&t[s-1].sameMarkup(l)?(e||(e=t.slice(0,s)),e[e.length-1]=l.withText(e[e.length-1].text+l.text)):e&&e.push(l)}return new F(e||t,i)}static from(t){if(!t)return F.empty;if(t instanceof F)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new F([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}F.empty=new F([],0);const Qh={index:0,offset:0};function qc(n,t){return Qh.index=n,Qh.offset=t,Qh}function mu(n,t){if(n===t)return!0;if(!(n&&typeof n=="object")||!(t&&typeof t=="object"))return!1;let e=Array.isArray(n);if(Array.isArray(t)!=e)return!1;if(e){if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if(!mu(n[i],t[i]))return!1}else{for(let i in n)if(!(i in t)||!mu(n[i],t[i]))return!1;for(let i in t)if(!(i in n))return!1}return!0}let Kt=class Op{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,i=!1;for(let s=0;s<t.length;s++){let l=t[s];if(this.eq(l))return t;if(this.type.excludes(l.type))e||(e=t.slice(0,s));else{if(l.type.excludes(this.type))return t;!i&&l.type.rank>this.type.rank&&(e||(e=t.slice(0,s)),e.push(this),i=!0),e&&e.push(l)}}return e||(e=t.slice()),i||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&mu(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");let i=t.marks[e.type];if(!i)throw new RangeError(`There is no mark type ${e.type} in this schema`);let s=i.create(e.attrs);return i.checkAttrs(s.attrs),s}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!t[i].eq(e[i]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Op.none;if(t instanceof Op)return[t];let e=t.slice();return e.sort((i,s)=>i.type.rank-s.type.rank),e}};Kt.none=[];class gu extends Error{}class nt{constructor(t,e,i){this.content=t,this.openStart=e,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let i=Nx(this.content,t+this.openStart,e);return i&&new nt(i,this.openStart,this.openEnd)}removeBetween(t,e){return new nt(Ox(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return nt.empty;let i=e.openStart||0,s=e.openEnd||0;if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new nt(F.fromJSON(t,e.content),i,s)}static maxOpen(t,e=!0){let i=0,s=0;for(let l=t.firstChild;l&&!l.isLeaf&&(e||!l.type.spec.isolating);l=l.firstChild)i++;for(let l=t.lastChild;l&&!l.isLeaf&&(e||!l.type.spec.isolating);l=l.lastChild)s++;return new nt(t,i,s)}}nt.empty=new nt(F.empty,0,0);function Ox(n,t,e){let{index:i,offset:s}=n.findIndex(t),l=n.maybeChild(i),{index:c,offset:u}=n.findIndex(e);if(s==t||l.isText){if(u!=e&&!n.child(c).isText)throw new RangeError("Removing non-flat range");return n.cut(0,t).append(n.cut(e))}if(i!=c)throw new RangeError("Removing non-flat range");return n.replaceChild(i,l.copy(Ox(l.content,t-s-1,e-s-1)))}function Nx(n,t,e,i){let{index:s,offset:l}=n.findIndex(t),c=n.maybeChild(s);if(l==t||c.isText)return i&&!i.canReplace(s,s,e)?null:n.cut(0,t).append(e).append(n.cut(t));let u=Nx(c.content,t-l-1,e,c);return u&&n.replaceChild(s,c.copy(u))}function Ak(n,t,e){if(e.openStart>n.depth)throw new gu("Inserted content deeper than insertion position");if(n.depth-e.openStart!=t.depth-e.openEnd)throw new gu("Inconsistent open depths");return Dx(n,t,e,0)}function Dx(n,t,e,i){let s=n.index(i),l=n.node(i);if(s==t.index(i)&&i<n.depth-e.openStart){let c=Dx(n,t,e,i+1);return l.copy(l.content.replaceChild(s,c))}else if(e.content.size)if(!e.openStart&&!e.openEnd&&n.depth==i&&t.depth==i){let c=n.parent,u=c.content;return ws(c,u.cut(0,n.parentOffset).append(e.content).append(u.cut(t.parentOffset)))}else{let{start:c,end:u}=Ok(e,n);return ws(l,zx(n,c,u,t,i))}else return ws(l,yu(n,t,i))}function Rx(n,t){if(!t.type.compatibleContent(n.type))throw new gu("Cannot join "+t.type.name+" onto "+n.type.name)}function Np(n,t,e){let i=n.node(e);return Rx(i,t.node(e)),i}function Ss(n,t){let e=t.length-1;e>=0&&n.isText&&n.sameMarkup(t[e])?t[e]=n.withText(t[e].text+n.text):t.push(n)}function Wl(n,t,e,i){let s=(t||n).node(e),l=0,c=t?t.index(e):s.childCount;n&&(l=n.index(e),n.depth>e?l++:n.textOffset&&(Ss(n.nodeAfter,i),l++));for(let u=l;u<c;u++)Ss(s.child(u),i);t&&t.depth==e&&t.textOffset&&Ss(t.nodeBefore,i)}function ws(n,t){return n.type.checkContent(t),n.copy(t)}function zx(n,t,e,i,s){let l=n.depth>s&&Np(n,t,s+1),c=i.depth>s&&Np(e,i,s+1),u=[];return Wl(null,n,s,u),l&&c&&t.index(s)==e.index(s)?(Rx(l,c),Ss(ws(l,zx(n,t,e,i,s+1)),u)):(l&&Ss(ws(l,yu(n,t,s+1)),u),Wl(t,e,s,u),c&&Ss(ws(c,yu(e,i,s+1)),u)),Wl(i,null,s,u),new F(u)}function yu(n,t,e){let i=[];if(Wl(null,n,e,i),n.depth>e){let s=Np(n,t,e+1);Ss(ws(s,yu(n,t,e+1)),i)}return Wl(t,null,e,i),new F(i)}function Ok(n,t){let e=t.depth-n.openStart,s=t.node(e).copy(n.content);for(let l=e-1;l>=0;l--)s=t.node(l).copy(F.from(s));return{start:s.resolveNoCache(n.openStart+e),end:s.resolveNoCache(s.content.size-n.openEnd-e)}}class ca{constructor(t,e,i){this.pos=t,this.path=e,this.parentOffset=i,this.depth=e.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let i=this.pos-this.path[this.path.length-1],s=t.child(e);return i?t.child(e).cut(i):s}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):t==0?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let i=this.path[e*3],s=e==0?0:this.path[e*3-1]+1;for(let l=0;l<t;l++)s+=i.child(l).nodeSize;return s}marks(){let t=this.parent,e=this.index();if(t.content.size==0)return Kt.none;if(this.textOffset)return t.child(e).marks;let i=t.maybeChild(e-1),s=t.maybeChild(e);if(!i){let u=i;i=s,s=u}let l=i.marks;for(var c=0;c<l.length;c++)l[c].type.spec.inclusive===!1&&(!s||!l[c].isInSet(s.marks))&&(l=l[c--].removeFromSet(l));return l}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let i=e.marks,s=t.parent.maybeChild(t.index());for(var l=0;l<i.length;l++)i[l].type.spec.inclusive===!1&&(!s||!i[l].isInSet(s.marks))&&(i=i[l--].removeFromSet(i));return i}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);i>=0;i--)if(t.pos<=this.end(i)&&(!e||e(this.node(i))))return new bu(this,t,i);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let i=[],s=0,l=e;for(let c=t;;){let{index:u,offset:d}=c.content.findIndex(l),h=l-d;if(i.push(c,u,s+d),!h||(c=c.child(u),c.isText))break;l=h-1,s+=d+1}return new ca(e,i,l)}static resolveCached(t,e){let i=pv.get(t);if(i)for(let l=0;l<i.elts.length;l++){let c=i.elts[l];if(c.pos==e)return c}else pv.set(t,i=new Nk);let s=i.elts[i.i]=ca.resolve(t,e);return i.i=(i.i+1)%Dk,s}}class Nk{constructor(){this.elts=[],this.i=0}}const Dk=12,pv=new WeakMap;class bu{constructor(t,e,i){this.$from=t,this.$to=e,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Rk=Object.create(null);let Lr=class Dp{constructor(t,e,i,s=Kt.none){this.type=t,this.attrs=e,this.marks=s,this.content=i||F.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,i,s=0){this.content.nodesBetween(t,e,i,s,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,i,s){return this.content.textBetween(t,e,i,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,i){return this.type==t&&mu(this.attrs,e||t.defaultAttrs||Rk)&&Kt.sameSet(this.marks,i||Kt.none)}copy(t=null){return t==this.content?this:new Dp(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Dp(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return t==0&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,i=!1){if(t==e)return nt.empty;let s=this.resolve(t),l=this.resolve(e),c=i?0:s.sharedDepth(e),u=s.start(c),h=s.node(c).content.cut(s.pos-u,l.pos-u);return new nt(h,s.depth-c,l.depth-c)}replace(t,e,i){return Ak(this.resolve(t),this.resolve(e),i)}nodeAt(t){for(let e=this;;){let{index:i,offset:s}=e.content.findIndex(t);if(e=e.maybeChild(i),!e)return null;if(s==t||e.isText)return e;t-=s+1}}childAfter(t){let{index:e,offset:i}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:i}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:e,offset:i}=this.content.findIndex(t);if(i<t)return{node:this.content.child(e),index:e,offset:i};let s=this.content.child(e-1);return{node:s,index:e-1,offset:i-s.nodeSize}}resolve(t){return ca.resolveCached(this,t)}resolveNoCache(t){return ca.resolve(this,t)}rangeHasMark(t,e,i){let s=!1;return e>t&&this.nodesBetween(t,e,l=>(i.isInSet(l.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Lx(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,i=F.empty,s=0,l=i.childCount){let c=this.contentMatchAt(t).matchFragment(i,s,l),u=c&&c.matchFragment(this.content,e);if(!u||!u.validEnd)return!1;for(let d=s;d<l;d++)if(!this.type.allowsMarks(i.child(d).marks))return!1;return!0}canReplaceWith(t,e,i,s){if(s&&!this.type.allowsMarks(s))return!1;let l=this.contentMatchAt(t).matchType(i),c=l&&l.matchFragment(this.content,e);return c?c.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Kt.none;for(let e=0;e<this.marks.length;e++){let i=this.marks[e];i.type.checkAttrs(i.attrs),t=i.addToSet(t)}if(!Kt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(e=>e.toJSON())),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let i;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=e.marks.map(t.markFromJSON)}if(e.type=="text"){if(typeof e.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(e.text,i)}let s=F.fromJSON(t,e.content),l=t.nodeType(e.type).create(e.attrs,s,i);return l.type.checkAttrs(l.attrs),l}};Lr.prototype.text=void 0;class vu extends Lr{constructor(t,e,i,s){if(super(t,e,null,s),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Lx(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new vu(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new vu(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return t==0&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Lx(n,t){for(let e=n.length-1;e>=0;e--)t=n[e].type.name+"("+t+")";return t}class ks{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let i=new zk(t,e);if(i.next==null)return ks.empty;let s=Bx(i);i.next&&i.err("Unexpected trailing text");let l=Ik(jk(s));return Vk(l,i),l}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,i=t.childCount){let s=this;for(let l=e;s&&l<i;l++)s=s.matchType(t.child(l).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!(e.isText||e.hasRequiredAttrs()))return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let i=0;i<t.next.length;i++)if(this.next[e].type==t.next[i].type)return!0;return!1}fillBefore(t,e=!1,i=0){let s=[this];function l(c,u){let d=c.matchFragment(t,i);if(d&&(!e||d.validEnd))return F.from(u.map(h=>h.createAndFill()));for(let h=0;h<c.next.length;h++){let{type:g,next:m}=c.next[h];if(!(g.isText||g.hasRequiredAttrs())&&s.indexOf(m)==-1){s.push(m);let b=l(m,u.concat(g));if(b)return b}}return null}return l(this,[])}findWrapping(t){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==t)return this.wrapCache[i+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let s=i.shift(),l=s.match;if(l.matchType(t)){let c=[];for(let u=s;u.type;u=u.via)c.push(u.type);return c.reverse()}for(let c=0;c<l.next.length;c++){let{type:u,next:d}=l.next[c];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in e)&&(!s.type||d.validEnd)&&(i.push({match:u.contentMatch,type:u,via:s}),e[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function e(i){t.push(i);for(let s=0;s<i.next.length;s++)t.indexOf(i.next[s].next)==-1&&e(i.next[s].next)}return e(this),t.map((i,s)=>{let l=s+(i.validEnd?"*":" ")+" ";for(let c=0;c<i.next.length;c++)l+=(c?", ":"")+i.next[c].type.name+"->"+t.indexOf(i.next[c].next);return l}).join(`
`)}}ks.empty=new ks(!0);class zk{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function Bx(n){let t=[];do t.push(Lk(n));while(n.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Lk(n){let t=[];do t.push(Bk(n));while(n.next&&n.next!=")"&&n.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function Bk(n){let t=Uk(n);for(;;)if(n.eat("+"))t={type:"plus",expr:t};else if(n.eat("*"))t={type:"star",expr:t};else if(n.eat("?"))t={type:"opt",expr:t};else if(n.eat("{"))t=_k(n,t);else break;return t}function mv(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let t=Number(n.next);return n.pos++,t}function _k(n,t){let e=mv(n),i=e;return n.eat(",")&&(n.next!="}"?i=mv(n):i=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:e,max:i,expr:t}}function Hk(n,t){let e=n.nodeTypes,i=e[t];if(i)return[i];let s=[];for(let l in e){let c=e[l];c.isInGroup(t)&&s.push(c)}return s.length==0&&n.err("No node type or group '"+t+"' found"),s}function Uk(n){if(n.eat("(")){let t=Bx(n);return n.eat(")")||n.err("Missing closing paren"),t}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let t=Hk(n,n.next).map(e=>(n.inline==null?n.inline=e.isInline:n.inline!=e.isInline&&n.err("Mixing inline and block content"),{type:"name",value:e}));return n.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function jk(n){let t=[[]];return s(l(n,0),e()),t;function e(){return t.push([])-1}function i(c,u,d){let h={term:d,to:u};return t[c].push(h),h}function s(c,u){c.forEach(d=>d.to=u)}function l(c,u){if(c.type=="choice")return c.exprs.reduce((d,h)=>d.concat(l(h,u)),[]);if(c.type=="seq")for(let d=0;;d++){let h=l(c.exprs[d],u);if(d==c.exprs.length-1)return h;s(h,u=e())}else if(c.type=="star"){let d=e();return i(u,d),s(l(c.expr,d),d),[i(d)]}else if(c.type=="plus"){let d=e();return s(l(c.expr,u),d),s(l(c.expr,d),d),[i(d)]}else{if(c.type=="opt")return[i(u)].concat(l(c.expr,u));if(c.type=="range"){let d=u;for(let h=0;h<c.min;h++){let g=e();s(l(c.expr,d),g),d=g}if(c.max==-1)s(l(c.expr,d),d);else for(let h=c.min;h<c.max;h++){let g=e();i(d,g),s(l(c.expr,d),g),d=g}return[i(d)]}else{if(c.type=="name")return[i(u,void 0,c.value)];throw new Error("Unknown expr type")}}}}function _x(n,t){return t-n}function gv(n,t){let e=[];return i(t),e.sort(_x);function i(s){let l=n[s];if(l.length==1&&!l[0].term)return i(l[0].to);e.push(s);for(let c=0;c<l.length;c++){let{term:u,to:d}=l[c];!u&&e.indexOf(d)==-1&&i(d)}}}function Ik(n){let t=Object.create(null);return e(gv(n,0));function e(i){let s=[];i.forEach(c=>{n[c].forEach(({term:u,to:d})=>{if(!u)return;let h;for(let g=0;g<s.length;g++)s[g][0]==u&&(h=s[g][1]);gv(n,d).forEach(g=>{h||s.push([u,h=[]]),h.indexOf(g)==-1&&h.push(g)})})});let l=t[i.join(",")]=new ks(i.indexOf(n.length-1)>-1);for(let c=0;c<s.length;c++){let u=s[c][1].sort(_x);l.next.push({type:s[c][0],next:t[u.join(",")]||e(u)})}return l}}function Vk(n,t){for(let e=0,i=[n];e<i.length;e++){let s=i[e],l=!s.validEnd,c=[];for(let u=0;u<s.next.length;u++){let{type:d,next:h}=s.next[u];c.push(d.name),l&&!(d.isText||d.hasRequiredAttrs())&&(l=!1),i.indexOf(h)==-1&&i.push(h)}l&&t.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Hx(n){let t=Object.create(null);for(let e in n){let i=n[e];if(!i.hasDefault)return null;t[e]=i.default}return t}function Ux(n,t){let e=Object.create(null);for(let i in n){let s=t&&t[i];if(s===void 0){let l=n[i];if(l.hasDefault)s=l.default;else throw new RangeError("No value supplied for attribute "+i)}e[i]=s}return e}function jx(n,t,e,i){for(let s in t)if(!(s in n))throw new RangeError(`Unsupported attribute ${s} for ${e} of type ${s}`);for(let s in n){let l=n[s];l.validate&&l.validate(t[s])}}function Ix(n,t){let e=Object.create(null);if(t)for(let i in t)e[i]=new $k(n,i,t[i]);return e}let yv=class Vx{constructor(t,e,i){this.name=t,this.schema=e,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=Ix(t,i.attrs),this.defaultAttrs=Hx(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ks.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Ux(this.attrs,t)}create(t=null,e,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Lr(this,this.computeAttrs(t),F.from(e),Kt.setFrom(i))}createChecked(t=null,e,i){return e=F.from(e),this.checkContent(e),new Lr(this,this.computeAttrs(t),e,Kt.setFrom(i))}createAndFill(t=null,e,i){if(t=this.computeAttrs(t),e=F.from(e),e.size){let c=this.contentMatch.fillBefore(e);if(!c)return null;e=c.append(e)}let s=this.contentMatch.matchFragment(e),l=s&&s.fillBefore(F.empty,!0);return l?new Lr(this,t,e.append(l),Kt.setFrom(i)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let i=0;i<t.childCount;i++)if(!this.allowsMarks(t.child(i).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){jx(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let e;for(let i=0;i<t.length;i++)this.allowsMarkType(t[i].type)?e&&e.push(t[i]):e||(e=t.slice(0,i));return e?e.length?e:Kt.none:t}static compile(t,e){let i=Object.create(null);t.forEach((l,c)=>i[l]=new Vx(l,e,c));let s=e.spec.topNode||"doc";if(!i[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let l in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function qk(n,t,e){let i=e.split("|");return s=>{let l=s===null?"null":typeof s;if(i.indexOf(l)<0)throw new RangeError(`Expected value of type ${i} for attribute ${t} on type ${n}, got ${l}`)}}class $k{constructor(t,e,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?qk(t,e,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class ff{constructor(t,e,i,s){this.name=t,this.rank=e,this.schema=i,this.spec=s,this.attrs=Ix(t,s.attrs),this.excluded=null;let l=Hx(this.attrs);this.instance=l?new Kt(this,l):null}create(t=null){return!t&&this.instance?this.instance:new Kt(this,Ux(this.attrs,t))}static compile(t,e){let i=Object.create(null),s=0;return t.forEach((l,c)=>i[l]=new ff(l,s++,e,c)),i}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}checkAttrs(t){jx(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class qx{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let e=this.spec={};for(let s in t)e[s]=t[s];e.nodes=De.from(t.nodes),e.marks=De.from(t.marks||{}),this.nodes=yv.compile(this.spec.nodes,this),this.marks=ff.compile(this.spec.marks,this);let i=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let l=this.nodes[s],c=l.spec.content||"",u=l.spec.marks;if(l.contentMatch=i[c]||(i[c]=ks.parse(c,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=u=="_"?null:u?bv(this,u.split(" ")):u==""||!l.inlineContent?[]:null}for(let s in this.marks){let l=this.marks[s],c=l.spec.excludes;l.excluded=c==null?[l]:c==""?[]:bv(this,c.split(" "))}this.nodeFromJSON=s=>Lr.fromJSON(this,s),this.markFromJSON=s=>Kt.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,i,s){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof yv){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(e,i,s)}text(t,e){let i=this.nodes.text;return new vu(i,i.defaultAttrs,t,Kt.setFrom(e))}mark(t,e){return typeof t=="string"&&(t=this.marks[t]),t.create(e)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}}function bv(n,t){let e=[];for(let i=0;i<t.length;i++){let s=t[i],l=n.marks[s],c=l;if(l)e.push(l);else for(let u in n.marks){let d=n.marks[u];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&e.push(c=d)}if(!c)throw new SyntaxError("Unknown mark type: '"+t[i]+"'")}return e}function Yk(n){return n.tag!=null}function Pk(n){return n.style!=null}class Br{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[];let i=this.matchedStyles=[];e.forEach(s=>{if(Yk(s))this.tags.push(s);else if(Pk(s)){let l=/[^=]*/.exec(s.style)[0];i.indexOf(l)<0&&i.push(l),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let l=t.nodes[s.node];return l.contentMatch.matchType(l)})}parse(t,e={}){let i=new xv(this,e,!1);return i.addAll(t,Kt.none,e.from,e.to),i.finish()}parseSlice(t,e={}){let i=new xv(this,e,!0);return i.addAll(t,Kt.none,e.from,e.to),nt.maxOpen(i.finish())}matchTag(t,e,i){for(let s=i?this.tags.indexOf(i)+1:0;s<this.tags.length;s++){let l=this.tags[s];if(Xk(t,l.tag)&&(l.namespace===void 0||t.namespaceURI==l.namespace)&&(!l.context||e.matchesContext(l.context))){if(l.getAttrs){let c=l.getAttrs(t);if(c===!1)continue;l.attrs=c||void 0}return l}}}matchStyle(t,e,i,s){for(let l=s?this.styles.indexOf(s)+1:0;l<this.styles.length;l++){let c=this.styles[l],u=c.style;if(!(u.indexOf(t)!=0||c.context&&!i.matchesContext(c.context)||u.length>t.length&&(u.charCodeAt(t.length)!=61||u.slice(t.length+1)!=e))){if(c.getAttrs){let d=c.getAttrs(e);if(d===!1)continue;c.attrs=d||void 0}return c}}}static schemaRules(t){let e=[];function i(s){let l=s.priority==null?50:s.priority,c=0;for(;c<e.length;c++){let u=e[c];if((u.priority==null?50:u.priority)<l)break}e.splice(c,0,s)}for(let s in t.marks){let l=t.marks[s].spec.parseDOM;l&&l.forEach(c=>{i(c=Sv(c)),c.mark||c.ignore||c.clearMark||(c.mark=s)})}for(let s in t.nodes){let l=t.nodes[s].spec.parseDOM;l&&l.forEach(c=>{i(c=Sv(c)),c.node||c.ignore||c.mark||(c.node=s)})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Br(t,Br.schemaRules(t)))}}const $x={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Gk={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Yx={ol:!0,ul:!0},ua=1,Rp=2,ta=4;function vv(n,t,e){return t!=null?(t?ua:0)|(t==="full"?Rp:0):n&&n.whitespace=="pre"?ua|Rp:e&~ta}class $c{constructor(t,e,i,s,l,c){this.type=t,this.attrs=e,this.marks=i,this.solid=s,this.options=c,this.content=[],this.activeMarks=Kt.none,this.match=l||(c&ta?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(F.from(t));if(e)this.match=this.type.contentMatch.matchFragment(e);else{let i=this.type.contentMatch,s;return(s=i.findWrapping(t.type))?(this.match=i,s):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&ua)){let i=this.content[this.content.length-1],s;if(i&&i.isText&&(s=/[ \t\r\n\u000c]+$/.exec(i.text))){let l=i;i.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-s[0].length))}}let e=F.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(F.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!$x.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class xv{constructor(t,e,i){this.parser=t,this.options=e,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let s=e.topNode,l,c=vv(null,e.preserveWhitespace,0)|(i?ta:0);s?l=new $c(s.type,s.attrs,Kt.none,!0,e.topMatch||s.type.contentMatch,c):i?l=new $c(null,null,Kt.none,!0,null,c):l=new $c(t.schema.topNodeType,null,Kt.none,!0,null,c),this.nodes=[l],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,e){t.nodeType==3?this.addTextNode(t,e):t.nodeType==1&&this.addElement(t,e)}addTextNode(t,e){let i=t.nodeValue,s=this.top,l=s.options&Rp?"full":this.localPreserveWS||(s.options&ua)>0,{schema:c}=this.parser;if(l==="full"||s.inlineContext(t)||/[^ \t\r\n\u000c]/.test(i)){if(l)if(l==="full")i=i.replace(/\r\n?/g,`
`);else if(c.linebreakReplacement&&/[\r\n]/.test(i)&&this.top.findWrapping(c.linebreakReplacement.create())){let u=i.split(/\r?\n|\r/);for(let d=0;d<u.length;d++)d&&this.insertNode(c.linebreakReplacement.create(),e,!0),u[d]&&this.insertNode(c.text(u[d]),e,!/\S/.test(u[d]));i=""}else i=i.replace(/\r?\n|\r/g," ");else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let u=s.content[s.content.length-1],d=t.previousSibling;(!u||d&&d.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(i=i.slice(1))}i&&this.insertNode(c.text(i),e,!/\S/.test(i)),this.findInText(t)}else this.findInside(t)}addElement(t,e,i){let s=this.localPreserveWS,l=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let c=t.nodeName.toLowerCase(),u;Yx.hasOwnProperty(c)&&this.parser.normalizeLists&&Kk(t);let d=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(u=this.parser.matchTag(t,this,i));t:if(d?d.ignore:Gk.hasOwnProperty(c))this.findInside(t),this.ignoreFallback(t,e);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(t=d.skip);let h,g=this.needsBlock;if($x.hasOwnProperty(c))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),h=!0,l.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,e);break t}let m=d&&d.skip?e:this.readStyles(t,e);m&&this.addAll(t,m),h&&this.sync(l),this.needsBlock=g}else{let h=this.readStyles(t,e);h&&this.addElementByRule(t,d,h,d.consuming===!1?u:void 0)}this.localPreserveWS=s}leafFallback(t,e){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),e)}ignoreFallback(t,e){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),e,!0)}readStyles(t,e){let i=t.style;if(i&&i.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let l=this.parser.matchedStyles[s],c=i.getPropertyValue(l);if(c)for(let u=void 0;;){let d=this.parser.matchStyle(l,c,this,u);if(!d)break;if(d.ignore)return null;if(d.clearMark?e=e.filter(h=>!d.clearMark(h)):e=e.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)u=d;else break}}return e}addElementByRule(t,e,i,s){let l,c;if(e.node)if(c=this.parser.schema.nodes[e.node],c.isLeaf)this.insertNode(c.create(e.attrs),i,t.nodeName=="BR")||this.leafFallback(t,i);else{let d=this.enter(c,e.attrs||null,i,e.preserveWhitespace);d&&(l=!0,i=d)}else{let d=this.parser.schema.marks[e.mark];i=i.concat(d.create(e.attrs))}let u=this.top;if(c&&c.isLeaf)this.findInside(t);else if(s)this.addElement(t,i,s);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(d=>this.insertNode(d,i,!1));else{let d=t;typeof e.contentElement=="string"?d=t.querySelector(e.contentElement):typeof e.contentElement=="function"?d=e.contentElement(t):e.contentElement&&(d=e.contentElement),this.findAround(t,d,!0),this.addAll(d,i),this.findAround(t,d,!1)}l&&this.sync(u)&&this.open--}addAll(t,e,i,s){let l=i||0;for(let c=i?t.childNodes[i]:t.firstChild,u=s==null?null:t.childNodes[s];c!=u;c=c.nextSibling,++l)this.findAtPoint(t,l),this.addDOM(c,e);this.findAtPoint(t,l)}findPlace(t,e,i){let s,l;for(let c=this.open,u=0;c>=0;c--){let d=this.nodes[c],h=d.findWrapping(t);if(h&&(!s||s.length>h.length+u)&&(s=h,l=d,!h.length))break;if(d.solid){if(i)break;u+=2}}if(!s)return null;this.sync(l);for(let c=0;c<s.length;c++)e=this.enterInner(s[c],null,e,!1);return e}insertNode(t,e,i){if(t.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(e=this.enterInner(l,null,e))}let s=this.findPlace(t,e,i);if(s){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(t.type));let c=Kt.none;for(let u of s.concat(t.marks))(l.type?l.type.allowsMarkType(u.type):wv(u.type,t.type))&&(c=u.addToSet(c));return l.content.push(t.mark(c)),!0}return!1}enter(t,e,i,s){let l=this.findPlace(t.create(e),i,!1);return l&&(l=this.enterInner(t,e,i,!0,s)),l}enterInner(t,e,i,s=!1,l){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(t);let u=vv(t,l,c.options);c.options&ta&&c.content.length==0&&(u|=ta);let d=Kt.none;return i=i.filter(h=>(c.type?c.type.allowsMarkType(h.type):wv(h.type,t))?(d=h.addToSet(d),!1):!0),this.nodes.push(new $c(t,e,d,s,null,u)),this.open++,i}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let e=this.open;e>=0;e--){if(this.nodes[e]==t)return this.open=e,!0;this.localPreserveWS&&(this.nodes[e].options|=ua)}return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let i=this.nodes[e].content;for(let s=i.length-1;s>=0;s--)t+=i[s].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==t&&this.find[i].offset==e&&(this.find[i].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].pos==null&&t.nodeType==1&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,i){if(t!=e&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&t.nodeType==1&&t.contains(this.find[s].node)&&e.compareDocumentPosition(this.find[s].node)&(i?2:4)&&(this.find[s].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),i=this.options.context,s=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),l=-(i?i.depth+1:0)+(s?0:1),c=(u,d)=>{for(;u>=0;u--){let h=e[u];if(h==""){if(u==e.length-1||u==0)continue;for(;d>=l;d--)if(c(u-1,d))return!0;return!1}else{let g=d>0||d==0&&s?this.nodes[d].type:i&&d>=l?i.node(d-l).type:null;if(!g||g.name!=h&&!g.isInGroup(h))return!1;d--}}return!0};return c(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let i=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let e in this.parser.schema.nodes){let i=this.parser.schema.nodes[e];if(i.isTextblock&&i.defaultAttrs)return i}}}function Kk(n){for(let t=n.firstChild,e=null;t;t=t.nextSibling){let i=t.nodeType==1?t.nodeName.toLowerCase():null;i&&Yx.hasOwnProperty(i)&&e?(e.appendChild(t),t=e):i=="li"?e=t:i&&(e=null)}}function Xk(n,t){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,t)}function Sv(n){let t={};for(let e in n)t[e]=n[e];return t}function wv(n,t){let e=t.schema.nodes;for(let i in e){let s=e[i];if(!s.allowsMarkType(n))continue;let l=[],c=u=>{l.push(u);for(let d=0;d<u.edgeCount;d++){let{type:h,next:g}=u.edge(d);if(h==t||l.indexOf(g)<0&&c(g))return!0}};if(c(s.contentMatch))return!0}}class Ds{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},i){i||(i=Zh(e).createDocumentFragment());let s=i,l=[];return t.forEach(c=>{if(l.length||c.marks.length){let u=0,d=0;for(;u<l.length&&d<c.marks.length;){let h=c.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(l[u][0])||h.type.spec.spanning===!1)break;u++,d++}for(;u<l.length;)s=l.pop()[1];for(;d<c.marks.length;){let h=c.marks[d++],g=this.serializeMark(h,c.isInline,e);g&&(l.push([h,s]),s.appendChild(g.dom),s=g.contentDOM||g.dom)}}s.appendChild(this.serializeNodeInner(c,e))}),i}serializeNodeInner(t,e){let{dom:i,contentDOM:s}=cu(Zh(e),this.nodes[t.type.name](t),null,t.attrs);if(s){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,s)}return i}serializeNode(t,e={}){let i=this.serializeNodeInner(t,e);for(let s=t.marks.length-1;s>=0;s--){let l=this.serializeMark(t.marks[s],t.isInline,e);l&&((l.contentDOM||l.dom).appendChild(i),i=l.dom)}return i}serializeMark(t,e,i={}){let s=this.marks[t.type.name];return s&&cu(Zh(i),s(t,e),null,t.attrs)}static renderSpec(t,e,i=null,s){return cu(t,e,i,s)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Ds(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=Ev(t.nodes);return e.text||(e.text=i=>i.text),e}static marksFromSchema(t){return Ev(t.marks)}}function Ev(n){let t={};for(let e in n){let i=n[e].spec.toDOM;i&&(t[e]=i)}return t}function Zh(n){return n.document||window.document}const Tv=new WeakMap;function Fk(n){let t=Tv.get(n);return t===void 0&&Tv.set(n,t=Jk(n)),t}function Jk(n){let t=null;function e(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")t||(t=[]),t.push(i);else for(let s=0;s<i.length;s++)e(i[s]);else for(let s in i)e(i[s])}return e(n),t}function cu(n,t,e,i){if(typeof t=="string")return{dom:n.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let s=t[0],l;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(l=Fk(i))&&l.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=s.indexOf(" ");c>0&&(e=s.slice(0,c),s=s.slice(c+1));let u,d=e?n.createElementNS(e,s):n.createElement(s),h=t[1],g=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){g=2;for(let m in h)if(h[m]!=null){let b=m.indexOf(" ");b>0?d.setAttributeNS(m.slice(0,b),m.slice(b+1),h[m]):m=="style"&&d.style?d.style.cssText=h[m]:d.setAttribute(m,h[m])}}for(let m=g;m<t.length;m++){let b=t[m];if(b===0){if(m<t.length-1||m>g)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:v,contentDOM:x}=cu(n,b,e,i);if(d.appendChild(v),x){if(u)throw new RangeError("Multiple content holes");u=x}}}return{dom:d,contentDOM:u}}const Px=65535,Gx=Math.pow(2,16);function Qk(n,t){return n+t*Gx}function Cv(n){return n&Px}function Zk(n){return(n-(n&Px))/Gx}const Kx=1,Xx=2,uu=4,Fx=8;class zp{constructor(t,e,i){this.pos=t,this.delInfo=e,this.recover=i}get deleted(){return(this.delInfo&Fx)>0}get deletedBefore(){return(this.delInfo&(Kx|uu))>0}get deletedAfter(){return(this.delInfo&(Xx|uu))>0}get deletedAcross(){return(this.delInfo&uu)>0}}class vn{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&vn.empty)return vn.empty}recover(t){let e=0,i=Cv(t);if(!this.inverted)for(let s=0;s<i;s++)e+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[i*3]+e+Zk(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,i){let s=0,l=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?s:0);if(d>t)break;let h=this.ranges[u+l],g=this.ranges[u+c],m=d+h;if(t<=m){let b=h?t==d?-1:t==m?1:e:e,v=d+s+(b<0?0:g);if(i)return v;let x=t==(e<0?d:m)?null:Qk(u/3,t-d),w=t==d?Xx:t==m?Kx:uu;return(e<0?t!=d:t!=m)&&(w|=Fx),new zp(v,w,x)}s+=g-h}return i?t+s:new zp(t+s,0,null)}touches(t,e){let i=0,s=Cv(e),l=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?i:0);if(d>t)break;let h=this.ranges[u+l],g=d+h;if(t<=g&&u==s*3)return!0;i+=this.ranges[u+c]-h}return!1}forEach(t){let e=this.inverted?2:1,i=this.inverted?1:2;for(let s=0,l=0;s<this.ranges.length;s+=3){let c=this.ranges[s],u=c-(this.inverted?l:0),d=c+(this.inverted?0:l),h=this.ranges[s+e],g=this.ranges[s+i];t(u,u+h,d,d+g),l+=g-h}}invert(){return new vn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?vn.empty:new vn(t<0?[0,-t,0]:[0,0,t])}}vn.empty=new vn([]);class fa{constructor(t,e,i=0,s=t?t.length:0){this.mirror=e,this.from=i,this.to=s,this._maps=t||[],this.ownData=!(t||e)}get maps(){return this._maps}slice(t=0,e=this.maps.length){return new fa(this._maps,this.mirror,t,e)}appendMap(t,e){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),e!=null&&this.setMirror(this._maps.length-1,e)}appendMapping(t){for(let e=0,i=this._maps.length;e<t._maps.length;e++){let s=t.getMirror(e);this.appendMap(t._maps[e],s!=null&&s<e?i+s:void 0)}}getMirror(t){if(this.mirror){for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,i=this._maps.length+t._maps.length;e>=0;e--){let s=t.getMirror(e);this.appendMap(t._maps[e].invert(),s!=null&&s>e?i-s-1:void 0)}}invert(){let t=new fa;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let i=this.from;i<this.to;i++)t=this._maps[i].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,i){let s=0;for(let l=this.from;l<this.to;l++){let c=this._maps[l],u=c.mapResult(t,e);if(u.recover!=null){let d=this.getMirror(l);if(d!=null&&d>l&&d<this.to){l=d,t=this._maps[d].recover(u.recover);continue}}s|=u.delInfo,t=u.pos}return i?t:new zp(t,s,null)}}const Wh=Object.create(null);class je{getMap(){return vn.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=Wh[e.stepType];if(!i)throw new RangeError(`No step type ${e.stepType} defined`);return i.fromJSON(t,e)}static jsonID(t,e){if(t in Wh)throw new RangeError("Duplicate use of step JSON ID "+t);return Wh[t]=e,e.prototype.jsonID=t,e}}class pe{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new pe(t,null)}static fail(t){return new pe(null,t)}static fromReplace(t,e,i,s){try{return pe.ok(t.replace(e,i,s))}catch(l){if(l instanceof gu)return pe.fail(l.message);throw l}}}function hm(n,t,e){let i=[];for(let s=0;s<n.childCount;s++){let l=n.child(s);l.content.size&&(l=l.copy(hm(l.content,t,l))),l.isInline&&(l=t(l,e,s)),i.push(l)}return F.fromArray(i)}class Dr extends je{constructor(t,e,i){super(),this.from=t,this.to=e,this.mark=i}apply(t){let e=t.slice(this.from,this.to),i=t.resolve(this.from),s=i.node(i.sharedDepth(this.to)),l=new nt(hm(e.content,(c,u)=>!c.isAtom||!u.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),s),e.openStart,e.openEnd);return pe.fromReplace(t,this.from,this.to,l)}invert(){return new Kn(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return e.deleted&&i.deleted||e.pos>=i.pos?null:new Dr(e.pos,i.pos,this.mark)}merge(t){return t instanceof Dr&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Dr(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Dr(e.from,e.to,t.markFromJSON(e.mark))}}je.jsonID("addMark",Dr);class Kn extends je{constructor(t,e,i){super(),this.from=t,this.to=e,this.mark=i}apply(t){let e=t.slice(this.from,this.to),i=new nt(hm(e.content,s=>s.mark(this.mark.removeFromSet(s.marks)),t),e.openStart,e.openEnd);return pe.fromReplace(t,this.from,this.to,i)}invert(){return new Dr(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return e.deleted&&i.deleted||e.pos>=i.pos?null:new Kn(e.pos,i.pos,this.mark)}merge(t){return t instanceof Kn&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Kn(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Kn(e.from,e.to,t.markFromJSON(e.mark))}}je.jsonID("removeMark",Kn);class Rr extends je{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return pe.fail("No node at mark step's position");let i=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return pe.fromReplace(t,this.pos,this.pos+1,new nt(F.from(i),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let i=this.mark.addToSet(e.marks);if(i.length==e.marks.length){for(let s=0;s<e.marks.length;s++)if(!e.marks[s].isInSet(i))return new Rr(this.pos,e.marks[s]);return new Rr(this.pos,this.mark)}}return new Ms(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Rr(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Rr(e.pos,t.markFromJSON(e.mark))}}je.jsonID("addNodeMark",Rr);class Ms extends je{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return pe.fail("No node at mark step's position");let i=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return pe.fromReplace(t,this.pos,this.pos+1,new nt(F.from(i),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return!e||!this.mark.isInSet(e.marks)?this:new Rr(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Ms(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ms(e.pos,t.markFromJSON(e.mark))}}je.jsonID("removeNodeMark",Ms);class we extends je{constructor(t,e,i,s=!1){super(),this.from=t,this.to=e,this.slice=i,this.structure=s}apply(t){return this.structure&&Lp(t,this.from,this.to)?pe.fail("Structure replace would overwrite content"):pe.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new vn([this.from,this.to-this.from,this.slice.size])}invert(t){return new we(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return e.deletedAcross&&i.deletedAcross?null:new we(e.pos,Math.max(e.pos,i.pos),this.slice,this.structure)}merge(t){if(!(t instanceof we)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let e=this.slice.size+t.slice.size==0?nt.empty:new nt(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new we(this.from,this.to+(t.to-t.from),e,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let e=this.slice.size+t.slice.size==0?nt.empty:new nt(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new we(t.from,this.to,e,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new we(e.from,e.to,nt.fromJSON(t,e.slice),!!e.structure)}}je.jsonID("replace",we);class Te extends je{constructor(t,e,i,s,l,c,u=!1){super(),this.from=t,this.to=e,this.gapFrom=i,this.gapTo=s,this.slice=l,this.insert=c,this.structure=u}apply(t){if(this.structure&&(Lp(t,this.from,this.gapFrom)||Lp(t,this.gapTo,this.to)))return pe.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return pe.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,e.content);return i?pe.fromReplace(t,this.from,this.to,i):pe.fail("Content does not fit in gap")}getMap(){return new vn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new Te(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),i=t.mapResult(this.to,-1),s=this.from==this.gapFrom?e.pos:t.map(this.gapFrom,-1),l=this.to==this.gapTo?i.pos:t.map(this.gapTo,1);return e.deletedAcross&&i.deletedAcross||s<e.pos||l>i.pos?null:new Te(e.pos,i.pos,s,l,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number"||typeof e.gapFrom!="number"||typeof e.gapTo!="number"||typeof e.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Te(e.from,e.to,e.gapFrom,e.gapTo,nt.fromJSON(t,e.slice),e.insert,!!e.structure)}}je.jsonID("replaceAround",Te);function Lp(n,t,e){let i=n.resolve(t),s=e-t,l=i.depth;for(;s>0&&l>0&&i.indexAfter(l)==i.node(l).childCount;)l--,s--;if(s>0){let c=i.node(l).maybeChild(i.indexAfter(l));for(;s>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,s--}}return!1}function Wk(n,t,e,i){let s=[],l=[],c,u;n.doc.nodesBetween(t,e,(d,h,g)=>{if(!d.isInline)return;let m=d.marks;if(!i.isInSet(m)&&g.type.allowsMarkType(i.type)){let b=Math.max(h,t),v=Math.min(h+d.nodeSize,e),x=i.addToSet(m);for(let w=0;w<m.length;w++)m[w].isInSet(x)||(c&&c.to==b&&c.mark.eq(m[w])?c.to=v:s.push(c=new Kn(b,v,m[w])));u&&u.to==b?u.to=v:l.push(u=new Dr(b,v,i))}}),s.forEach(d=>n.step(d)),l.forEach(d=>n.step(d))}function tM(n,t,e,i){let s=[],l=0;n.doc.nodesBetween(t,e,(c,u)=>{if(!c.isInline)return;l++;let d=null;if(i instanceof ff){let h=c.marks,g;for(;g=i.isInSet(h);)(d||(d=[])).push(g),h=g.removeFromSet(h)}else i?i.isInSet(c.marks)&&(d=[i]):d=c.marks;if(d&&d.length){let h=Math.min(u+c.nodeSize,e);for(let g=0;g<d.length;g++){let m=d[g],b;for(let v=0;v<s.length;v++){let x=s[v];x.step==l-1&&m.eq(s[v].style)&&(b=x)}b?(b.to=h,b.step=l):s.push({style:m,from:Math.max(u,t),to:h,step:l})}}}),s.forEach(c=>n.step(new Kn(c.from,c.to,c.style)))}function pm(n,t,e,i=e.contentMatch,s=!0){let l=n.doc.nodeAt(t),c=[],u=t+1;for(let d=0;d<l.childCount;d++){let h=l.child(d),g=u+h.nodeSize,m=i.matchType(h.type);if(!m)c.push(new we(u,g,nt.empty));else{i=m;for(let b=0;b<h.marks.length;b++)e.allowsMarkType(h.marks[b].type)||n.step(new Kn(u,g,h.marks[b]));if(s&&h.isText&&e.whitespace!="pre"){let b,v=/\r?\n|\r/g,x;for(;b=v.exec(h.text);)x||(x=new nt(F.from(e.schema.text(" ",e.allowedMarks(h.marks))),0,0)),c.push(new we(u+b.index,u+b.index+b[0].length,x))}}u=g}if(!i.validEnd){let d=i.fillBefore(F.empty,!0);n.replace(u,u,new nt(d,0,0))}for(let d=c.length-1;d>=0;d--)n.step(c[d])}function eM(n,t,e){return(t==0||n.canReplace(t,n.childCount))&&(e==n.childCount||n.canReplace(0,e))}function $o(n){let e=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let i=n.depth,s=0,l=0;;--i){let c=n.$from.node(i),u=n.$from.index(i)+s,d=n.$to.indexAfter(i)-l;if(i<n.depth&&c.canReplace(u,d,e))return i;if(i==0||c.type.spec.isolating||!eM(c,u,d))break;u&&(s=1),d<c.childCount&&(l=1)}return null}function nM(n,t,e){let{$from:i,$to:s,depth:l}=t,c=i.before(l+1),u=s.after(l+1),d=c,h=u,g=F.empty,m=0;for(let x=l,w=!1;x>e;x--)w||i.index(x)>0?(w=!0,g=F.from(i.node(x).copy(g)),m++):d--;let b=F.empty,v=0;for(let x=l,w=!1;x>e;x--)w||s.after(x+1)<s.end(x)?(w=!0,b=F.from(s.node(x).copy(b)),v++):h++;n.step(new Te(d,h,c,u,new nt(g.append(b),m,v),g.size-m,!0))}function mm(n,t,e=null,i=n){let s=iM(n,t),l=s&&rM(i,t);return l?s.map(kv).concat({type:t,attrs:e}).concat(l.map(kv)):null}function kv(n){return{type:n,attrs:null}}function iM(n,t){let{parent:e,startIndex:i,endIndex:s}=n,l=e.contentMatchAt(i).findWrapping(t);if(!l)return null;let c=l.length?l[0]:t;return e.canReplaceWith(i,s,c)?l:null}function rM(n,t){let{parent:e,startIndex:i,endIndex:s}=n,l=e.child(i),c=t.contentMatch.findWrapping(l.type);if(!c)return null;let d=(c.length?c[c.length-1]:t).contentMatch;for(let h=i;d&&h<s;h++)d=d.matchType(e.child(h).type);return!d||!d.validEnd?null:c}function sM(n,t,e){let i=F.empty;for(let c=e.length-1;c>=0;c--){if(i.size){let u=e[c].type.contentMatch.matchFragment(i);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=F.from(e[c].type.create(e[c].attrs,i))}let s=t.start,l=t.end;n.step(new Te(s,l,s,l,new nt(i,0,0),e.length,!0))}function oM(n,t,e,i,s){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=n.steps.length;n.doc.nodesBetween(t,e,(c,u)=>{let d=typeof s=="function"?s(c):s;if(c.isTextblock&&!c.hasMarkup(i,d)&&lM(n.doc,n.mapping.slice(l).map(u),i)){let h=null;if(i.schema.linebreakReplacement){let v=i.whitespace=="pre",x=!!i.contentMatch.matchType(i.schema.linebreakReplacement);v&&!x?h=!1:!v&&x&&(h=!0)}h===!1&&Qx(n,c,u,l),pm(n,n.mapping.slice(l).map(u,1),i,void 0,h===null);let g=n.mapping.slice(l),m=g.map(u,1),b=g.map(u+c.nodeSize,1);return n.step(new Te(m,b,m+1,b-1,new nt(F.from(i.create(d,null,c.marks)),0,0),1,!0)),h===!0&&Jx(n,c,u,l),!1}})}function Jx(n,t,e,i){t.forEach((s,l)=>{if(s.isText){let c,u=/\r?\n|\r/g;for(;c=u.exec(s.text);){let d=n.mapping.slice(i).map(e+1+l+c.index);n.replaceWith(d,d+1,t.type.schema.linebreakReplacement.create())}}})}function Qx(n,t,e,i){t.forEach((s,l)=>{if(s.type==s.type.schema.linebreakReplacement){let c=n.mapping.slice(i).map(e+1+l);n.replaceWith(c,c+1,t.type.schema.text(`
`))}})}function lM(n,t,e){let i=n.resolve(t),s=i.index();return i.parent.canReplaceWith(s,s+1,e)}function aM(n,t,e,i,s){let l=n.doc.nodeAt(t);if(!l)throw new RangeError("No node at given position");e||(e=l.type);let c=e.create(i,null,s||l.marks);if(l.isLeaf)return n.replaceWith(t,t+l.nodeSize,c);if(!e.validContent(l.content))throw new RangeError("Invalid content for node type "+e.name);n.step(new Te(t,t+l.nodeSize,t+1,t+l.nodeSize-1,new nt(F.from(c),0,0),1,!0))}function Pi(n,t,e=1,i){let s=n.resolve(t),l=s.depth-e,c=i&&i[i.length-1]||s.parent;if(l<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!c.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,g=e-2;h>l;h--,g--){let m=s.node(h),b=s.index(h);if(m.type.spec.isolating)return!1;let v=m.content.cutByIndex(b,m.childCount),x=i&&i[g+1];x&&(v=v.replaceChild(0,x.type.create(x.attrs)));let w=i&&i[g]||m;if(!m.canReplace(b+1,m.childCount)||!w.type.validContent(v))return!1}let u=s.indexAfter(l),d=i&&i[0];return s.node(l).canReplaceWith(u,u,d?d.type:s.node(l+1).type)}function cM(n,t,e=1,i){let s=n.doc.resolve(t),l=F.empty,c=F.empty;for(let u=s.depth,d=s.depth-e,h=e-1;u>d;u--,h--){l=F.from(s.node(u).copy(l));let g=i&&i[h];c=F.from(g?g.type.create(g.attrs,c):s.node(u).copy(c))}n.step(new we(t,t,new nt(l.append(c),e,e),!0))}function qr(n,t){let e=n.resolve(t),i=e.index();return Zx(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(i,i+1)}function uM(n,t){t.content.size||n.type.compatibleContent(t.type);let e=n.contentMatchAt(n.childCount),{linebreakReplacement:i}=n.type.schema;for(let s=0;s<t.childCount;s++){let l=t.child(s),c=l.type==i?n.type.schema.nodes.text:l.type;if(e=e.matchType(c),!e||!n.type.allowsMarks(l.marks))return!1}return e.validEnd}function Zx(n,t){return!!(n&&t&&!n.isLeaf&&uM(n,t))}function df(n,t,e=-1){let i=n.resolve(t);for(let s=i.depth;;s--){let l,c,u=i.index(s);if(s==i.depth?(l=i.nodeBefore,c=i.nodeAfter):e>0?(l=i.node(s+1),u++,c=i.node(s).maybeChild(u)):(l=i.node(s).maybeChild(u-1),c=i.node(s+1)),l&&!l.isTextblock&&Zx(l,c)&&i.node(s).canReplace(u,u+1))return t;if(s==0)break;t=e<0?i.before(s):i.after(s)}}function fM(n,t,e){let i=null,{linebreakReplacement:s}=n.doc.type.schema,l=n.doc.resolve(t-e),c=l.node().type;if(s&&c.inlineContent){let g=c.whitespace=="pre",m=!!c.contentMatch.matchType(s);g&&!m?i=!1:!g&&m&&(i=!0)}let u=n.steps.length;if(i===!1){let g=n.doc.resolve(t+e);Qx(n,g.node(),g.before(),u)}c.inlineContent&&pm(n,t+e-1,c,l.node().contentMatchAt(l.index()),i==null);let d=n.mapping.slice(u),h=d.map(t-e);if(n.step(new we(h,d.map(t+e,-1),nt.empty,!0)),i===!0){let g=n.doc.resolve(h);Jx(n,g.node(),g.before(),n.steps.length)}return n}function dM(n,t,e){let i=n.resolve(t);if(i.parent.canReplaceWith(i.index(),i.index(),e))return t;if(i.parentOffset==0)for(let s=i.depth-1;s>=0;s--){let l=i.index(s);if(i.node(s).canReplaceWith(l,l,e))return i.before(s+1);if(l>0)return null}if(i.parentOffset==i.parent.content.size)for(let s=i.depth-1;s>=0;s--){let l=i.indexAfter(s);if(i.node(s).canReplaceWith(l,l,e))return i.after(s+1);if(l<i.node(s).childCount)return null}return null}function Wx(n,t,e){let i=n.resolve(t);if(!e.content.size)return t;let s=e.content;for(let l=0;l<e.openStart;l++)s=s.firstChild.content;for(let l=1;l<=(e.openStart==0&&e.size?2:1);l++)for(let c=i.depth;c>=0;c--){let u=c==i.depth?0:i.pos<=(i.start(c+1)+i.end(c+1))/2?-1:1,d=i.index(c)+(u>0?1:0),h=i.node(c),g=!1;if(l==1)g=h.canReplace(d,d,s);else{let m=h.contentMatchAt(d).findWrapping(s.firstChild.type);g=m&&h.canReplaceWith(d,d,m[0])}if(g)return u==0?i.pos:u<0?i.before(c+1):i.after(c+1)}return null}function hf(n,t,e=t,i=nt.empty){if(t==e&&!i.size)return null;let s=n.resolve(t),l=n.resolve(e);return tS(s,l,i)?new we(t,e,i):new hM(s,l,i).fit()}function tS(n,t,e){return!e.openStart&&!e.openEnd&&n.start()==t.start()&&n.parent.canReplace(n.index(),t.index(),e.content)}class hM{constructor(t,e,i){this.$from=t,this.$to=e,this.unplaced=i,this.frontier=[],this.placed=F.empty;for(let s=0;s<=t.depth;s++){let l=t.node(s);this.frontier.push({type:l.type,match:l.contentMatchAt(t.indexAfter(s))})}for(let s=t.depth;s>0;s--)this.placed=F.from(t.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,i=this.$from,s=this.close(t<0?this.$to:i.doc.resolve(t));if(!s)return null;let l=this.placed,c=i.depth,u=s.depth;for(;c&&u&&l.childCount==1;)l=l.firstChild.content,c--,u--;let d=new nt(l,c,u);return t>-1?new Te(i.pos,t,this.$to.pos,this.$to.end(),d,e):d.size||i.pos!=this.$to.pos?new we(i.pos,s.pos,d):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,i=0,s=this.unplaced.openEnd;i<t;i++){let l=e.firstChild;if(e.childCount>1&&(s=0),l.type.spec.isolating&&s<=i){t=i;break}e=l.content}for(let e=1;e<=2;e++)for(let i=e==1?t:this.unplaced.openStart;i>=0;i--){let s,l=null;i?(l=tp(this.unplaced.content,i-1).firstChild,s=l.content):s=this.unplaced.content;let c=s.firstChild;for(let u=this.depth;u>=0;u--){let{type:d,match:h}=this.frontier[u],g,m=null;if(e==1&&(c?h.matchType(c.type)||(m=h.fillBefore(F.from(c),!1)):l&&d.compatibleContent(l.type)))return{sliceDepth:i,frontierDepth:u,parent:l,inject:m};if(e==2&&c&&(g=h.findWrapping(c.type)))return{sliceDepth:i,frontierDepth:u,parent:l,wrap:g};if(l&&h.matchType(l.type))break}}}openMore(){let{content:t,openStart:e,openEnd:i}=this.unplaced,s=tp(t,e);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new nt(t,e+1,Math.max(i,s.size+e>=t.size-i?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:i}=this.unplaced,s=tp(t,e);if(s.childCount<=1&&e>0){let l=t.size-e<=e+s.size;this.unplaced=new nt(Xl(t,e-1,1),e-1,l?e-1:i)}else this.unplaced=new nt(Xl(t,e,1),e,i)}placeNodes({sliceDepth:t,frontierDepth:e,parent:i,inject:s,wrap:l}){for(;this.depth>e;)this.closeFrontierNode();if(l)for(let w=0;w<l.length;w++)this.openFrontierNode(l[w]);let c=this.unplaced,u=i?i.content:c.content,d=c.openStart-t,h=0,g=[],{match:m,type:b}=this.frontier[e];if(s){for(let w=0;w<s.childCount;w++)g.push(s.child(w));m=m.matchFragment(s)}let v=u.size+t-(c.content.size-c.openEnd);for(;h<u.childCount;){let w=u.child(h),E=m.matchType(w.type);if(!E)break;h++,(h>1||d==0||w.content.size)&&(m=E,g.push(eS(w.mark(b.allowedMarks(w.marks)),h==1?d:0,h==u.childCount?v:-1)))}let x=h==u.childCount;x||(v=-1),this.placed=Fl(this.placed,e,F.from(g)),this.frontier[e].match=m,x&&v<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,E=u;w<v;w++){let C=E.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),E=C.content}this.unplaced=x?t==0?nt.empty:new nt(Xl(c.content,t-1,1),t-1,v<0?c.openEnd:t-1):new nt(Xl(c.content,t,h),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],e;if(!t.type.isTextblock||!ep(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:i}=this.$to,s=this.$to.after(i);for(;i>1&&s==this.$to.end(--i);)++s;return s}findCloseLevel(t){t:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:i,type:s}=this.frontier[e],l=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),c=ep(t,e,s,i,l);if(c){for(let u=e-1;u>=0;u--){let{match:d,type:h}=this.frontier[u],g=ep(t,u,h,d,!0);if(!g||g.childCount)continue t}return{depth:e,fit:c,move:l?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=Fl(this.placed,e.depth,e.fit)),t=e.move;for(let i=e.depth+1;i<=t.depth;i++){let s=t.node(i),l=s.type.contentMatch.fillBefore(s.content,!0,t.index(i));this.openFrontierNode(s.type,s.attrs,l)}return t}openFrontierNode(t,e=null,i){let s=this.frontier[this.depth];s.match=s.match.matchType(t),this.placed=Fl(this.placed,this.depth,F.from(t.create(e,i))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(F.empty,!0);e.childCount&&(this.placed=Fl(this.placed,this.frontier.length,e))}}function Xl(n,t,e){return t==0?n.cutByIndex(e,n.childCount):n.replaceChild(0,n.firstChild.copy(Xl(n.firstChild.content,t-1,e)))}function Fl(n,t,e){return t==0?n.append(e):n.replaceChild(n.childCount-1,n.lastChild.copy(Fl(n.lastChild.content,t-1,e)))}function tp(n,t){for(let e=0;e<t;e++)n=n.firstChild.content;return n}function eS(n,t,e){if(t<=0)return n;let i=n.content;return t>1&&(i=i.replaceChild(0,eS(i.firstChild,t-1,i.childCount==1?e-1:0))),t>0&&(i=n.type.contentMatch.fillBefore(i).append(i),e<=0&&(i=i.append(n.type.contentMatch.matchFragment(i).fillBefore(F.empty,!0)))),n.copy(i)}function ep(n,t,e,i,s){let l=n.node(t),c=s?n.indexAfter(t):n.index(t);if(c==l.childCount&&!e.compatibleContent(l.type))return null;let u=i.fillBefore(l.content,!0,c);return u&&!pM(e,l.content,c)?u:null}function pM(n,t,e){for(let i=e;i<t.childCount;i++)if(!n.allowsMarks(t.child(i).marks))return!0;return!1}function mM(n){return n.spec.defining||n.spec.definingForContent}function gM(n,t,e,i){if(!i.size)return n.deleteRange(t,e);let s=n.doc.resolve(t),l=n.doc.resolve(e);if(tS(s,l,i))return n.step(new we(t,e,i));let c=iS(s,l);c[c.length-1]==0&&c.pop();let u=-(s.depth+1);c.unshift(u);for(let b=s.depth,v=s.pos-1;b>0;b--,v--){let x=s.node(b).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;c.indexOf(b)>-1?u=b:s.before(b)==v&&c.splice(1,0,-b)}let d=c.indexOf(u),h=[],g=i.openStart;for(let b=i.content,v=0;;v++){let x=b.firstChild;if(h.push(x),v==i.openStart)break;b=x.content}for(let b=g-1;b>=0;b--){let v=h[b],x=mM(v.type);if(x&&!v.sameMarkup(s.node(Math.abs(u)-1)))g=b;else if(x||!v.type.isTextblock)break}for(let b=i.openStart;b>=0;b--){let v=(b+g+1)%(i.openStart+1),x=h[v];if(x)for(let w=0;w<c.length;w++){let E=c[(w+d)%c.length],C=!0;E<0&&(C=!1,E=-E);let A=s.node(E-1),_=s.index(E-1);if(A.canReplaceWith(_,_,x.type,x.marks))return n.replace(s.before(E),C?l.after(E):e,new nt(nS(i.content,0,i.openStart,v),v,i.openEnd))}}let m=n.steps.length;for(let b=c.length-1;b>=0&&(n.replace(t,e,i),!(n.steps.length>m));b--){let v=c[b];v<0||(t=s.before(v),e=l.after(v))}}function nS(n,t,e,i,s){if(t<e){let l=n.firstChild;n=n.replaceChild(0,l.copy(nS(l.content,t+1,e,i,l)))}if(t>i){let l=s.contentMatchAt(0),c=l.fillBefore(n).append(n);n=c.append(l.matchFragment(c).fillBefore(F.empty,!0))}return n}function yM(n,t,e,i){if(!i.isInline&&t==e&&n.doc.resolve(t).parent.content.size){let s=dM(n.doc,t,i.type);s!=null&&(t=e=s)}n.replaceRange(t,e,new nt(F.from(i),0,0))}function bM(n,t,e){let i=n.doc.resolve(t),s=n.doc.resolve(e),l=iS(i,s);for(let c=0;c<l.length;c++){let u=l[c],d=c==l.length-1;if(d&&u==0||i.node(u).type.contentMatch.validEnd)return n.delete(i.start(u),s.end(u));if(u>0&&(d||i.node(u-1).canReplace(i.index(u-1),s.indexAfter(u-1))))return n.delete(i.before(u),s.after(u))}for(let c=1;c<=i.depth&&c<=s.depth;c++)if(t-i.start(c)==i.depth-c&&e>i.end(c)&&s.end(c)-e!=s.depth-c&&i.start(c-1)==s.start(c-1)&&i.node(c-1).canReplace(i.index(c-1),s.index(c-1)))return n.delete(i.before(c),e);n.delete(t,e)}function iS(n,t){let e=[],i=Math.min(n.depth,t.depth);for(let s=i;s>=0;s--){let l=n.start(s);if(l<n.pos-(n.depth-s)||t.end(s)>t.pos+(t.depth-s)||n.node(s).type.spec.isolating||t.node(s).type.spec.isolating)break;(l==t.start(s)||s==n.depth&&s==t.depth&&n.parent.inlineContent&&t.parent.inlineContent&&s&&t.start(s-1)==l-1)&&e.push(s)}return e}class No extends je{constructor(t,e,i){super(),this.pos=t,this.attr=e,this.value=i}apply(t){let e=t.nodeAt(this.pos);if(!e)return pe.fail("No node at attribute step's position");let i=Object.create(null);for(let l in e.attrs)i[l]=e.attrs[l];i[this.attr]=this.value;let s=e.type.create(i,null,e.marks);return pe.fromReplace(t,this.pos,this.pos+1,new nt(F.from(s),0,e.isLeaf?0:1))}getMap(){return vn.empty}invert(t){return new No(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new No(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.pos!="number"||typeof e.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new No(e.pos,e.attr,e.value)}}je.jsonID("attr",No);class da extends je{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let s in t.attrs)e[s]=t.attrs[s];e[this.attr]=this.value;let i=t.type.create(e,t.content,t.marks);return pe.ok(i)}getMap(){return vn.empty}invert(t){return new da(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new da(e.attr,e.value)}}je.jsonID("docAttr",da);let zo=class extends Error{};zo=function n(t){let e=Error.call(this,t);return e.__proto__=n.prototype,e};zo.prototype=Object.create(Error.prototype);zo.prototype.constructor=zo;zo.prototype.name="TransformError";class rS{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new fa}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new zo(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}changedRange(){let t=1e9,e=-1e9;for(let i=0;i<this.mapping.maps.length;i++){let s=this.mapping.maps[i];i&&(t=s.map(t,1),e=s.map(e,-1)),s.forEach((l,c,u,d)=>{t=Math.min(t,u),e=Math.max(e,d)})}return t==1e9?null:{from:t,to:e}}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,i=nt.empty){let s=hf(this.doc,t,e,i);return s&&this.step(s),this}replaceWith(t,e,i){return this.replace(t,e,new nt(F.from(i),0,0))}delete(t,e){return this.replace(t,e,nt.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,i){return gM(this,t,e,i),this}replaceRangeWith(t,e,i){return yM(this,t,e,i),this}deleteRange(t,e){return bM(this,t,e),this}lift(t,e){return nM(this,t,e),this}join(t,e=1){return fM(this,t,e),this}wrap(t,e){return sM(this,t,e),this}setBlockType(t,e=t,i,s=null){return oM(this,t,e,i,s),this}setNodeMarkup(t,e,i=null,s){return aM(this,t,e,i,s),this}setNodeAttribute(t,e,i){return this.step(new No(t,e,i)),this}setDocAttribute(t,e){return this.step(new da(t,e)),this}addNodeMark(t,e){return this.step(new Rr(t,e)),this}removeNodeMark(t,e){let i=this.doc.nodeAt(t);if(!i)throw new RangeError("No node at position "+t);if(e instanceof Kt)e.isInSet(i.marks)&&this.step(new Ms(t,e));else{let s=i.marks,l,c=[];for(;l=e.isInSet(s);)c.push(new Ms(t,l)),s=l.removeFromSet(s);for(let u=c.length-1;u>=0;u--)this.step(c[u])}return this}split(t,e=1,i){return cM(this,t,e,i),this}addMark(t,e,i){return Wk(this,t,e,i),this}removeMark(t,e,i){return tM(this,t,e,i),this}clearIncompatible(t,e,i){return pm(this,t,e,i),this}}const np=Object.create(null);class vt{constructor(t,e,i){this.$anchor=t,this.$head=e,this.ranges=i||[new sS(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=nt.empty){let i=e.content.lastChild,s=null;for(let u=0;u<e.openEnd;u++)s=i,i=i.lastChild;let l=t.steps.length,c=this.ranges;for(let u=0;u<c.length;u++){let{$from:d,$to:h}=c[u],g=t.mapping.slice(l);t.replaceRange(g.map(d.pos),g.map(h.pos),u?nt.empty:e),u==0&&Ov(t,l,(i?i.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(t,e){let i=t.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:c,$to:u}=s[l],d=t.mapping.slice(i),h=d.map(c.pos),g=d.map(u.pos);l?t.deleteRange(h,g):(t.replaceRangeWith(h,g,e),Ov(t,i,e.isInline?-1:1))}}static findFrom(t,e,i=!1){let s=t.parent.inlineContent?new St(t):ko(t.node(0),t.parent,t.pos,t.index(),e,i);if(s)return s;for(let l=t.depth-1;l>=0;l--){let c=e<0?ko(t.node(0),t.node(l),t.before(l+1),t.index(l),e,i):ko(t.node(0),t.node(l),t.after(l+1),t.index(l)+1,e,i);if(c)return c}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new xn(t.node(0))}static atStart(t){return ko(t,t,0,0,1)||new xn(t)}static atEnd(t){return ko(t,t,t.content.size,t.childCount,-1)||new xn(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=np[e.type];if(!i)throw new RangeError(`No selection type ${e.type} defined`);return i.fromJSON(t,e)}static jsonID(t,e){if(t in np)throw new RangeError("Duplicate use of selection JSON ID "+t);return np[t]=e,e.prototype.jsonID=t,e}getBookmark(){return St.between(this.$anchor,this.$head).getBookmark()}}vt.prototype.visible=!0;class sS{constructor(t,e){this.$from=t,this.$to=e}}let Mv=!1;function Av(n){!Mv&&!n.parent.inlineContent&&(Mv=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class St extends vt{constructor(t,e=t){Av(t),Av(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let i=t.resolve(e.map(this.head));if(!i.parent.inlineContent)return vt.near(i);let s=t.resolve(e.map(this.anchor));return new St(s.parent.inlineContent?s:i,i)}replace(t,e=nt.empty){if(super.replace(t,e),e==nt.empty){let i=this.$from.marksAcross(this.$to);i&&t.ensureMarks(i)}}eq(t){return t instanceof St&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new pf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if(typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new St(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,i=e){let s=t.resolve(e);return new this(s,i==e?s:t.resolve(i))}static between(t,e,i){let s=t.pos-e.pos;if((!i||s)&&(i=s>=0?1:-1),!e.parent.inlineContent){let l=vt.findFrom(e,i,!0)||vt.findFrom(e,-i,!0);if(l)e=l.$head;else return vt.near(e,i)}return t.parent.inlineContent||(s==0?t=e:(t=(vt.findFrom(t,-i,!0)||vt.findFrom(t,i,!0)).$anchor,t.pos<e.pos!=s<0&&(t=e))),new St(t,e)}}vt.jsonID("text",St);class pf{constructor(t,e){this.anchor=t,this.head=e}map(t){return new pf(t.map(this.anchor),t.map(this.head))}resolve(t){return St.between(t.resolve(this.anchor),t.resolve(this.head))}}class ht extends vt{constructor(t){let e=t.nodeAfter,i=t.node(0).resolve(t.pos+e.nodeSize);super(t,i),this.node=e}map(t,e){let{deleted:i,pos:s}=e.mapResult(this.anchor),l=t.resolve(s);return i?vt.near(l):new ht(l)}content(){return new nt(F.from(this.node),0,0)}eq(t){return t instanceof ht&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new gm(this.anchor)}static fromJSON(t,e){if(typeof e.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ht(t.resolve(e.anchor))}static create(t,e){return new ht(t.resolve(e))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}ht.prototype.visible=!1;vt.jsonID("node",ht);class gm{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:i}=t.mapResult(this.anchor);return e?new pf(i,i):new gm(i)}resolve(t){let e=t.resolve(this.anchor),i=e.nodeAfter;return i&&ht.isSelectable(i)?new ht(e):vt.near(e)}}class xn extends vt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=nt.empty){if(e==nt.empty){t.delete(0,t.doc.content.size);let i=vt.atStart(t.doc);i.eq(t.selection)||t.setSelection(i)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new xn(t)}map(t){return new xn(t)}eq(t){return t instanceof xn}getBookmark(){return vM}}vt.jsonID("all",xn);const vM={map(){return this},resolve(n){return new xn(n)}};function ko(n,t,e,i,s,l=!1){if(t.inlineContent)return St.create(n,e);for(let c=i-(s>0?0:1);s>0?c<t.childCount:c>=0;c+=s){let u=t.child(c);if(u.isAtom){if(!l&&ht.isSelectable(u))return ht.create(n,e-(s<0?u.nodeSize:0))}else{let d=ko(n,u,e+s,s<0?u.childCount:0,s,l);if(d)return d}e+=u.nodeSize*s}return null}function Ov(n,t,e){let i=n.steps.length-1;if(i<t)return;let s=n.steps[i];if(!(s instanceof we||s instanceof Te))return;let l=n.mapping.maps[i],c;l.forEach((u,d,h,g)=>{c==null&&(c=g)}),n.setSelection(vt.near(n.doc.resolve(c),e))}const Nv=1,Yc=2,Dv=4;class xM extends rS{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Nv)&~Yc,this.storedMarks=null,this}get selectionSet(){return(this.updated&Nv)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Yc,this}ensureMarks(t){return Kt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Yc)>0}addStep(t,e){super.addStep(t,e),this.updated=this.updated&~Yc,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let i=this.selection;return e&&(t=t.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||Kt.none))),i.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,i){let s=this.doc.type.schema;if(e==null)return t?this.replaceSelectionWith(s.text(t),!0):this.deleteSelection();{if(i==null&&(i=e),!t)return this.deleteRange(e,i);let l=this.storedMarks;if(!l){let c=this.doc.resolve(e);l=i==e?c.marks():c.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(e,i,s.text(t,l)),!this.selection.empty&&this.selection.to==e+t.length&&this.setSelection(vt.near(this.selection.$to)),this}}setMeta(t,e){return this.meta[typeof t=="string"?t:t.key]=e,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Dv,this}get scrolledIntoView(){return(this.updated&Dv)>0}}function Rv(n,t){return!t||!n?n:n.bind(t)}class Jl{constructor(t,e,i){this.name=t,this.init=Rv(e.init,i),this.apply=Rv(e.apply,i)}}const SM=[new Jl("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Jl("selection",{init(n,t){return n.selection||vt.atStart(t.doc)},apply(n){return n.selection}}),new Jl("storedMarks",{init(n){return n.storedMarks||null},apply(n,t,e,i){return i.selection.$cursor?n.storedMarks:null}}),new Jl("scrollToSelection",{init(){return 0},apply(n,t){return n.scrolledIntoView?t+1:t}})];class ip{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=SM.slice(),e&&e.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new Jl(i.key,i.spec.state,i))})}}class Oo{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=e){let s=this.config.plugins[i];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],i=this.applyInner(t),s=null;for(;;){let l=!1;for(let c=0;c<this.config.plugins.length;c++){let u=this.config.plugins[c];if(u.spec.appendTransaction){let d=s?s[c].n:0,h=s?s[c].state:this,g=d<e.length&&u.spec.appendTransaction.call(u,d?e.slice(d):e,h,i);if(g&&i.filterTransaction(g,c)){if(g.setMeta("appendedTransaction",t),!s){s=[];for(let m=0;m<this.config.plugins.length;m++)s.push(m<c?{state:i,n:e.length}:{state:this,n:0})}e.push(g),i=i.applyInner(g),l=!0}s&&(s[c]={state:i,n:e.length})}}if(!l)return{state:i,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new Oo(this.config),i=this.config.fields;for(let s=0;s<i.length;s++){let l=i[s];e[l.name]=l.apply(t,this[l.name],this,e)}return e}get tr(){return new xM(this)}static create(t){let e=new ip(t.doc?t.doc.type.schema:t.schema,t.plugins),i=new Oo(e);for(let s=0;s<e.fields.length;s++)i[e.fields[s].name]=e.fields[s].init(t,i);return i}reconfigure(t){let e=new ip(this.schema,t.plugins),i=e.fields,s=new Oo(e);for(let l=0;l<i.length;l++){let c=i[l].name;s[c]=this.hasOwnProperty(c)?this[c]:i[l].init(t,s)}return s}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(i=>i.toJSON())),t&&typeof t=="object")for(let i in t){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=t[i],l=s.spec.state;l&&l.toJSON&&(e[i]=l.toJSON.call(s,this[s.key]))}return e}static fromJSON(t,e,i){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let s=new ip(t.schema,t.plugins),l=new Oo(s);return s.fields.forEach(c=>{if(c.name=="doc")l.doc=Lr.fromJSON(t.schema,e.doc);else if(c.name=="selection")l.selection=vt.fromJSON(l.doc,e.selection);else if(c.name=="storedMarks")e.storedMarks&&(l.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(i)for(let u in i){let d=i[u],h=d.spec.state;if(d.key==c.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(e,u)){l[c.name]=h.fromJSON.call(d,t,e[u],l);return}}l[c.name]=c.init(t,l)}}),l}}function oS(n,t,e){for(let i in n){let s=n[i];s instanceof Function?s=s.bind(t):i=="handleDOMEvents"&&(s=oS(s,t,{})),e[i]=s}return e}class Qt{constructor(t){this.spec=t,this.props={},t.props&&oS(t.props,this,this.props),this.key=t.key?t.key.key:lS("plugin")}getState(t){return t[this.key]}}const rp=Object.create(null);function lS(n){return n in rp?n+"$"+ ++rp[n]:(rp[n]=0,n+"$")}class te{constructor(t="key"){this.key=lS(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const ym=(n,t)=>n.selection.empty?!1:(t&&t(n.tr.deleteSelection().scrollIntoView()),!0);function aS(n,t){let{$cursor:e}=n.selection;return!e||(t?!t.endOfTextblock("backward",n):e.parentOffset>0)?null:e}const cS=(n,t,e)=>{let i=aS(n,e);if(!i)return!1;let s=bm(i);if(!s){let c=i.blockRange(),u=c&&$o(c);return u==null?!1:(t&&t(n.tr.lift(c,u).scrollIntoView()),!0)}let l=s.nodeBefore;if(bS(n,s,t,-1))return!0;if(i.parent.content.size==0&&(Lo(l,"end")||ht.isSelectable(l)))for(let c=i.depth;;c--){let u=hf(n.doc,i.before(c),i.after(c),nt.empty);if(u&&u.slice.size<u.to-u.from){if(t){let d=n.tr.step(u);d.setSelection(Lo(l,"end")?vt.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):ht.create(d.doc,s.pos-l.nodeSize)),t(d.scrollIntoView())}return!0}if(c==1||i.node(c-1).childCount>1)break}return l.isAtom&&s.depth==i.depth-1?(t&&t(n.tr.delete(s.pos-l.nodeSize,s.pos).scrollIntoView()),!0):!1},wM=(n,t,e)=>{let i=aS(n,e);if(!i)return!1;let s=bm(i);return s?uS(n,s,t):!1},EM=(n,t,e)=>{let i=dS(n,e);if(!i)return!1;let s=vm(i);return s?uS(n,s,t):!1};function uS(n,t,e){let i=t.nodeBefore,s=i,l=t.pos-1;for(;!s.isTextblock;l--){if(s.type.spec.isolating)return!1;let g=s.lastChild;if(!g)return!1;s=g}let c=t.nodeAfter,u=c,d=t.pos+1;for(;!u.isTextblock;d++){if(u.type.spec.isolating)return!1;let g=u.firstChild;if(!g)return!1;u=g}let h=hf(n.doc,l,d,nt.empty);if(!h||h.from!=l||h instanceof we&&h.slice.size>=d-l)return!1;if(e){let g=n.tr.step(h);g.setSelection(St.create(g.doc,l)),e(g.scrollIntoView())}return!0}function Lo(n,t,e=!1){for(let i=n;i;i=t=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(e&&i.childCount!=1)return!1}return!1}const fS=(n,t,e)=>{let{$head:i,empty:s}=n.selection,l=i;if(!s)return!1;if(i.parent.isTextblock){if(e?!e.endOfTextblock("backward",n):i.parentOffset>0)return!1;l=bm(i)}let c=l&&l.nodeBefore;return!c||!ht.isSelectable(c)?!1:(t&&t(n.tr.setSelection(ht.create(n.doc,l.pos-c.nodeSize)).scrollIntoView()),!0)};function bm(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){if(n.index(t)>0)return n.doc.resolve(n.before(t+1));if(n.node(t).type.spec.isolating)break}return null}function dS(n,t){let{$cursor:e}=n.selection;return!e||(t?!t.endOfTextblock("forward",n):e.parentOffset<e.parent.content.size)?null:e}const hS=(n,t,e)=>{let i=dS(n,e);if(!i)return!1;let s=vm(i);if(!s)return!1;let l=s.nodeAfter;if(bS(n,s,t,1))return!0;if(i.parent.content.size==0&&(Lo(l,"start")||ht.isSelectable(l))){let c=hf(n.doc,i.before(),i.after(),nt.empty);if(c&&c.slice.size<c.to-c.from){if(t){let u=n.tr.step(c);u.setSelection(Lo(l,"start")?vt.findFrom(u.doc.resolve(u.mapping.map(s.pos)),1):ht.create(u.doc,u.mapping.map(s.pos))),t(u.scrollIntoView())}return!0}}return l.isAtom&&s.depth==i.depth-1?(t&&t(n.tr.delete(s.pos,s.pos+l.nodeSize).scrollIntoView()),!0):!1},pS=(n,t,e)=>{let{$head:i,empty:s}=n.selection,l=i;if(!s)return!1;if(i.parent.isTextblock){if(e?!e.endOfTextblock("forward",n):i.parentOffset<i.parent.content.size)return!1;l=vm(i)}let c=l&&l.nodeAfter;return!c||!ht.isSelectable(c)?!1:(t&&t(n.tr.setSelection(ht.create(n.doc,l.pos)).scrollIntoView()),!0)};function vm(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){let e=n.node(t);if(n.index(t)+1<e.childCount)return n.doc.resolve(n.after(t+1));if(e.type.spec.isolating)break}return null}const TM=(n,t)=>{let e=n.selection,i=e instanceof ht,s;if(i){if(e.node.isTextblock||!qr(n.doc,e.from))return!1;s=e.from}else if(s=df(n.doc,e.from,-1),s==null)return!1;if(t){let l=n.tr.join(s);i&&l.setSelection(ht.create(l.doc,s-n.doc.resolve(s).nodeBefore.nodeSize)),t(l.scrollIntoView())}return!0},CM=(n,t)=>{let e=n.selection,i;if(e instanceof ht){if(e.node.isTextblock||!qr(n.doc,e.to))return!1;i=e.to}else if(i=df(n.doc,e.to,1),i==null)return!1;return t&&t(n.tr.join(i).scrollIntoView()),!0},kM=(n,t)=>{let{$from:e,$to:i}=n.selection,s=e.blockRange(i),l=s&&$o(s);return l==null?!1:(t&&t(n.tr.lift(s,l).scrollIntoView()),!0)},mS=(n,t)=>{let{$head:e,$anchor:i}=n.selection;return!e.parent.type.spec.code||!e.sameParent(i)?!1:(t&&t(n.tr.insertText(`
`).scrollIntoView()),!0)};function xm(n){for(let t=0;t<n.edgeCount;t++){let{type:e}=n.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}const MM=(n,t)=>{let{$head:e,$anchor:i}=n.selection;if(!e.parent.type.spec.code||!e.sameParent(i))return!1;let s=e.node(-1),l=e.indexAfter(-1),c=xm(s.contentMatchAt(l));if(!c||!s.canReplaceWith(l,l,c))return!1;if(t){let u=e.after(),d=n.tr.replaceWith(u,u,c.createAndFill());d.setSelection(vt.near(d.doc.resolve(u),1)),t(d.scrollIntoView())}return!0},gS=(n,t)=>{let e=n.selection,{$from:i,$to:s}=e;if(e instanceof xn||i.parent.inlineContent||s.parent.inlineContent)return!1;let l=xm(s.parent.contentMatchAt(s.indexAfter()));if(!l||!l.isTextblock)return!1;if(t){let c=(!i.parentOffset&&s.index()<s.parent.childCount?i:s).pos,u=n.tr.insert(c,l.createAndFill());u.setSelection(St.create(u.doc,c+1)),t(u.scrollIntoView())}return!0},yS=(n,t)=>{let{$cursor:e}=n.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let l=e.before();if(Pi(n.doc,l))return t&&t(n.tr.split(l).scrollIntoView()),!0}let i=e.blockRange(),s=i&&$o(i);return s==null?!1:(t&&t(n.tr.lift(i,s).scrollIntoView()),!0)};function AM(n){return(t,e)=>{let{$from:i,$to:s}=t.selection;if(t.selection instanceof ht&&t.selection.node.isBlock)return!i.parentOffset||!Pi(t.doc,i.pos)?!1:(e&&e(t.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let l=[],c,u,d=!1,h=!1;for(let v=i.depth;;v--)if(i.node(v).isBlock){d=i.end(v)==i.pos+(i.depth-v),h=i.start(v)==i.pos-(i.depth-v),u=xm(i.node(v-1).contentMatchAt(i.indexAfter(v-1))),l.unshift(d&&u?{type:u}:null),c=v;break}else{if(v==1)return!1;l.unshift(null)}let g=t.tr;(t.selection instanceof St||t.selection instanceof xn)&&g.deleteSelection();let m=g.mapping.map(i.pos),b=Pi(g.doc,m,l.length,l);if(b||(l[0]=u?{type:u}:null,b=Pi(g.doc,m,l.length,l)),!b)return!1;if(g.split(m,l.length,l),!d&&h&&i.node(c).type!=u){let v=g.mapping.map(i.before(c)),x=g.doc.resolve(v);u&&i.node(c-1).canReplaceWith(x.index(),x.index()+1,u)&&g.setNodeMarkup(g.mapping.map(i.before(c)),u)}return e&&e(g.scrollIntoView()),!0}}const OM=AM(),NM=(n,t)=>{let{$from:e,to:i}=n.selection,s,l=e.sharedDepth(i);return l==0?!1:(s=e.before(l),t&&t(n.tr.setSelection(ht.create(n.doc,s))),!0)};function DM(n,t,e){let i=t.nodeBefore,s=t.nodeAfter,l=t.index();return!i||!s||!i.type.compatibleContent(s.type)?!1:!i.content.size&&t.parent.canReplace(l-1,l)?(e&&e(n.tr.delete(t.pos-i.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(l,l+1)||!(s.isTextblock||qr(n.doc,t.pos))?!1:(e&&e(n.tr.join(t.pos).scrollIntoView()),!0)}function bS(n,t,e,i){let s=t.nodeBefore,l=t.nodeAfter,c,u,d=s.type.spec.isolating||l.type.spec.isolating;if(!d&&DM(n,t,e))return!0;let h=!d&&t.parent.canReplace(t.index(),t.index()+1);if(h&&(c=(u=s.contentMatchAt(s.childCount)).findWrapping(l.type))&&u.matchType(c[0]||l.type).validEnd){if(e){let v=t.pos+l.nodeSize,x=F.empty;for(let C=c.length-1;C>=0;C--)x=F.from(c[C].create(null,x));x=F.from(s.copy(x));let w=n.tr.step(new Te(t.pos-1,v,t.pos,v,new nt(x,1,0),c.length,!0)),E=w.doc.resolve(v+2*c.length);E.nodeAfter&&E.nodeAfter.type==s.type&&qr(w.doc,E.pos)&&w.join(E.pos),e(w.scrollIntoView())}return!0}let g=l.type.spec.isolating||i>0&&d?null:vt.findFrom(t,1),m=g&&g.$from.blockRange(g.$to),b=m&&$o(m);if(b!=null&&b>=t.depth)return e&&e(n.tr.lift(m,b).scrollIntoView()),!0;if(h&&Lo(l,"start",!0)&&Lo(s,"end")){let v=s,x=[];for(;x.push(v),!v.isTextblock;)v=v.lastChild;let w=l,E=1;for(;!w.isTextblock;w=w.firstChild)E++;if(v.canReplace(v.childCount,v.childCount,w.content)){if(e){let C=F.empty;for(let _=x.length-1;_>=0;_--)C=F.from(x[_].copy(C));let A=n.tr.step(new Te(t.pos-x.length,t.pos+l.nodeSize,t.pos+E,t.pos+l.nodeSize-E,new nt(C,x.length,0),0,!0));e(A.scrollIntoView())}return!0}}return!1}function vS(n){return function(t,e){let i=t.selection,s=n<0?i.$from:i.$to,l=s.depth;for(;s.node(l).isInline;){if(!l)return!1;l--}return s.node(l).isTextblock?(e&&e(t.tr.setSelection(St.create(t.doc,n<0?s.start(l):s.end(l)))),!0):!1}}const RM=vS(-1),zM=vS(1);function LM(n,t=null){return function(e,i){let{$from:s,$to:l}=e.selection,c=s.blockRange(l),u=c&&mm(c,n,t);return u?(i&&i(e.tr.wrap(c,u).scrollIntoView()),!0):!1}}function zv(n,t=null){return function(e,i){let s=!1;for(let l=0;l<e.selection.ranges.length&&!s;l++){let{$from:{pos:c},$to:{pos:u}}=e.selection.ranges[l];e.doc.nodesBetween(c,u,(d,h)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(n,t)))if(d.type==n)s=!0;else{let g=e.doc.resolve(h),m=g.index();s=g.parent.canReplaceWith(m,m+1,n)}})}if(!s)return!1;if(i){let l=e.tr;for(let c=0;c<e.selection.ranges.length;c++){let{$from:{pos:u},$to:{pos:d}}=e.selection.ranges[c];l.setBlockType(u,d,n,t)}i(l.scrollIntoView())}return!0}}function Sm(...n){return function(t,e,i){for(let s=0;s<n.length;s++)if(n[s](t,e,i))return!0;return!1}}Sm(ym,cS,fS);Sm(ym,hS,pS);Sm(mS,gS,yS,OM);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function BM(n,t=null){return function(e,i){let{$from:s,$to:l}=e.selection,c=s.blockRange(l);if(!c)return!1;let u=i?e.tr:null;return _M(u,c,n,t)?(i&&i(u.scrollIntoView()),!0):!1}}function _M(n,t,e,i=null){let s=!1,l=t,c=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(e)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let d=c.resolve(t.start-2);l=new bu(d,d,t.depth),t.endIndex<t.parent.childCount&&(t=new bu(t.$from,c.resolve(t.$to.end(t.depth)),t.depth)),s=!0}let u=mm(l,e,i,t);return u?(n&&HM(n,t,u,s,e),!0):!1}function HM(n,t,e,i,s){let l=F.empty;for(let g=e.length-1;g>=0;g--)l=F.from(e[g].type.create(e[g].attrs,l));n.step(new Te(t.start-(i?2:0),t.end,t.start,t.end,new nt(l,0,0),e.length,!0));let c=0;for(let g=0;g<e.length;g++)e[g].type==s&&(c=g+1);let u=e.length-c,d=t.start+e.length-(i?2:0),h=t.parent;for(let g=t.startIndex,m=t.endIndex,b=!0;g<m;g++,b=!1)!b&&Pi(n.doc,d,u)&&(n.split(d,u),d+=2*u),d+=h.child(g).nodeSize;return n}function UM(n){return function(t,e){let{$from:i,$to:s}=t.selection,l=i.blockRange(s,c=>c.childCount>0&&c.firstChild.type==n);return l?e?i.node(l.depth-1).type==n?jM(t,e,n,l):IM(t,e,l):!0:!1}}function jM(n,t,e,i){let s=n.tr,l=i.end,c=i.$to.end(i.depth);l<c&&(s.step(new Te(l-1,c,l,c,new nt(F.from(e.create(null,i.parent.copy())),1,0),1,!0)),i=new bu(s.doc.resolve(i.$from.pos),s.doc.resolve(c),i.depth));const u=$o(i);if(u==null)return!1;s.lift(i,u);let d=s.doc.resolve(s.mapping.map(l,-1)-1);return qr(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),t(s.scrollIntoView()),!0}function IM(n,t,e){let i=n.tr,s=e.parent;for(let v=e.end,x=e.endIndex-1,w=e.startIndex;x>w;x--)v-=s.child(x).nodeSize,i.delete(v-1,v+1);let l=i.doc.resolve(e.start),c=l.nodeAfter;if(i.mapping.map(e.end)!=e.start+l.nodeAfter.nodeSize)return!1;let u=e.startIndex==0,d=e.endIndex==s.childCount,h=l.node(-1),g=l.index(-1);if(!h.canReplace(g+(u?0:1),g+1,c.content.append(d?F.empty:F.from(s))))return!1;let m=l.pos,b=m+c.nodeSize;return i.step(new Te(m-(u?1:0),b+(d?1:0),m+1,b-1,new nt((u?F.empty:F.from(s.copy(F.empty))).append(d?F.empty:F.from(s.copy(F.empty))),u?0:1,d?0:1),u?0:1)),t(i.scrollIntoView()),!0}function VM(n){return function(t,e){let{$from:i,$to:s}=t.selection,l=i.blockRange(s,h=>h.childCount>0&&h.firstChild.type==n);if(!l)return!1;let c=l.startIndex;if(c==0)return!1;let u=l.parent,d=u.child(c-1);if(d.type!=n)return!1;if(e){let h=d.lastChild&&d.lastChild.type==u.type,g=F.from(h?n.create():null),m=new nt(F.from(n.create(null,F.from(u.type.create(null,g)))),h?3:1,0),b=l.start,v=l.end;e(t.tr.step(new Te(b-(h?3:1),v,b,v,m,1,!0)).scrollIntoView())}return!0}}const Re=function(n){for(var t=0;;t++)if(n=n.previousSibling,!n)return t},Bo=function(n){let t=n.assignedSlot||n.parentNode;return t&&t.nodeType==11?t.host:t};let Bp=null;const Vi=function(n,t,e){let i=Bp||(Bp=document.createRange());return i.setEnd(n,e??n.nodeValue.length),i.setStart(n,t||0),i},qM=function(){Bp=null},As=function(n,t,e,i){return e&&(Lv(n,t,e,i,-1)||Lv(n,t,e,i,1))},$M=/^(img|br|input|textarea|hr)$/i;function Lv(n,t,e,i,s){for(var l;;){if(n==e&&t==i)return!0;if(t==(s<0?0:_n(n))){let c=n.parentNode;if(!c||c.nodeType!=1||wa(n)||$M.test(n.nodeName)||n.contentEditable=="false")return!1;t=Re(n)+(s<0?0:1),n=c}else if(n.nodeType==1){let c=n.childNodes[t+(s<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((l=c.pmViewDesc)===null||l===void 0)&&l.ignoreForSelection)t+=s;else return!1;else n=c,t=s<0?_n(n):0}else return!1}}function _n(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function YM(n,t){for(;;){if(n.nodeType==3&&t)return n;if(n.nodeType==1&&t>0){if(n.contentEditable=="false")return null;n=n.childNodes[t-1],t=_n(n)}else if(n.parentNode&&!wa(n))t=Re(n),n=n.parentNode;else return null}}function PM(n,t){for(;;){if(n.nodeType==3&&t<n.nodeValue.length)return n;if(n.nodeType==1&&t<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[t],t=0}else if(n.parentNode&&!wa(n))t=Re(n)+1,n=n.parentNode;else return null}}function GM(n,t,e){for(let i=t==0,s=t==_n(n);i||s;){if(n==e)return!0;let l=Re(n);if(n=n.parentNode,!n)return!1;i=i&&l==0,s=s&&l==_n(n)}}function wa(n){let t;for(let e=n;e&&!(t=e.pmViewDesc);e=e.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==n||t.contentDOM==n)}const mf=function(n){return n.focusNode&&As(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function ys(n,t){let e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=n,e.key=e.code=t,e}function KM(n){let t=n.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function XM(n,t,e){if(n.caretPositionFromPoint)try{let i=n.caretPositionFromPoint(t,e);if(i)return{node:i.offsetNode,offset:Math.min(_n(i.offsetNode),i.offset)}}catch{}if(n.caretRangeFromPoint){let i=n.caretRangeFromPoint(t,e);if(i)return{node:i.startContainer,offset:Math.min(_n(i.startContainer),i.startOffset)}}}const di=typeof navigator<"u"?navigator:null,Bv=typeof document<"u"?document:null,$r=di&&di.userAgent||"",_p=/Edge\/(\d+)/.exec($r),xS=/MSIE \d/.exec($r),Hp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec($r),cn=!!(xS||Hp||_p),_r=xS?document.documentMode:Hp?+Hp[1]:_p?+_p[1]:0,Hn=!cn&&/gecko\/(\d+)/i.test($r);Hn&&+(/Firefox\/(\d+)/.exec($r)||[0,0])[1];const Up=!cn&&/Chrome\/(\d+)/.exec($r),Ee=!!Up,SS=Up?+Up[1]:0,Le=!cn&&!!di&&/Apple Computer/.test(di.vendor),_o=Le&&(/Mobile\/\w+/.test($r)||!!di&&di.maxTouchPoints>2),Bn=_o||(di?/Mac/.test(di.platform):!1),wS=di?/Win/.test(di.platform):!1,$i=/Android \d/.test($r),Ea=!!Bv&&"webkitFontSmoothing"in Bv.documentElement.style,FM=Ea?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function JM(n){let t=n.defaultView&&n.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Bi(n,t){return typeof n=="number"?n:n[t]}function QM(n){let t=n.getBoundingClientRect(),e=t.width/n.offsetWidth||1,i=t.height/n.offsetHeight||1;return{left:t.left,right:t.left+n.clientWidth*e,top:t.top,bottom:t.top+n.clientHeight*i}}function _v(n,t,e){let i=n.someProp("scrollThreshold")||0,s=n.someProp("scrollMargin")||5,l=n.dom.ownerDocument;for(let c=e||n.dom;c;){if(c.nodeType!=1){c=Bo(c);continue}let u=c,d=u==l.body,h=d?JM(l):QM(u),g=0,m=0;if(t.top<h.top+Bi(i,"top")?m=-(h.top-t.top+Bi(s,"top")):t.bottom>h.bottom-Bi(i,"bottom")&&(m=t.bottom-t.top>h.bottom-h.top?t.top+Bi(s,"top")-h.top:t.bottom-h.bottom+Bi(s,"bottom")),t.left<h.left+Bi(i,"left")?g=-(h.left-t.left+Bi(s,"left")):t.right>h.right-Bi(i,"right")&&(g=t.right-h.right+Bi(s,"right")),g||m)if(d)l.defaultView.scrollBy(g,m);else{let v=u.scrollLeft,x=u.scrollTop;m&&(u.scrollTop+=m),g&&(u.scrollLeft+=g);let w=u.scrollLeft-v,E=u.scrollTop-x;t={left:t.left-w,top:t.top-E,right:t.right-w,bottom:t.bottom-E}}let b=d?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(b))break;c=b=="absolute"?c.offsetParent:Bo(c)}}function ZM(n){let t=n.dom.getBoundingClientRect(),e=Math.max(0,t.top),i,s;for(let l=(t.left+t.right)/2,c=e+1;c<Math.min(innerHeight,t.bottom);c+=5){let u=n.root.elementFromPoint(l,c);if(!u||u==n.dom||!n.dom.contains(u))continue;let d=u.getBoundingClientRect();if(d.top>=e-20){i=u,s=d.top;break}}return{refDOM:i,refTop:s,stack:ES(n.dom)}}function ES(n){let t=[],e=n.ownerDocument;for(let i=n;i&&(t.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),n!=e);i=Bo(i));return t}function WM({refDOM:n,refTop:t,stack:e}){let i=n?n.getBoundingClientRect().top:0;TS(e,i==0?0:i-t)}function TS(n,t){for(let e=0;e<n.length;e++){let{dom:i,top:s,left:l}=n[e];i.scrollTop!=s+t&&(i.scrollTop=s+t),i.scrollLeft!=l&&(i.scrollLeft=l)}}let Eo=null;function tA(n){if(n.setActive)return n.setActive();if(Eo)return n.focus(Eo);let t=ES(n);n.focus(Eo==null?{get preventScroll(){return Eo={preventScroll:!0},!0}}:void 0),Eo||(Eo=!1,TS(t,0))}function CS(n,t){let e,i=2e8,s,l=0,c=t.top,u=t.top,d,h;for(let g=n.firstChild,m=0;g;g=g.nextSibling,m++){let b;if(g.nodeType==1)b=g.getClientRects();else if(g.nodeType==3)b=Vi(g).getClientRects();else continue;for(let v=0;v<b.length;v++){let x=b[v];if(x.top<=c&&x.bottom>=u){c=Math.max(x.bottom,c),u=Math.min(x.top,u);let w=x.left>t.left?x.left-t.left:x.right<t.left?t.left-x.right:0;if(w<i){e=g,i=w,s=w&&e.nodeType==3?{left:x.right<t.left?x.right:x.left,top:t.top}:t,g.nodeType==1&&w&&(l=m+(t.left>=(x.left+x.right)/2?1:0));continue}}else x.top>t.top&&!d&&x.left<=t.left&&x.right>=t.left&&(d=g,h={left:Math.max(x.left,Math.min(x.right,t.left)),top:x.top});!e&&(t.left>=x.right&&t.top>=x.top||t.left>=x.left&&t.top>=x.bottom)&&(l=m+1)}}return!e&&d&&(e=d,s=h,i=0),e&&e.nodeType==3?eA(e,s):!e||i&&e.nodeType==1?{node:n,offset:l}:CS(e,s)}function eA(n,t){let e=n.nodeValue.length,i=document.createRange(),s;for(let l=0;l<e;l++){i.setEnd(n,l+1),i.setStart(n,l);let c=Cr(i,1);if(c.top!=c.bottom&&wm(t,c)){s={node:n,offset:l+(t.left>=(c.left+c.right)/2?1:0)};break}}return i.detach(),s||{node:n,offset:0}}function wm(n,t){return n.left>=t.left-1&&n.left<=t.right+1&&n.top>=t.top-1&&n.top<=t.bottom+1}function nA(n,t){let e=n.parentNode;return e&&/^li$/i.test(e.nodeName)&&t.left<n.getBoundingClientRect().left?e:n}function iA(n,t,e){let{node:i,offset:s}=CS(t,e),l=-1;if(i.nodeType==1&&!i.firstChild){let c=i.getBoundingClientRect();l=c.left!=c.right&&e.left>(c.left+c.right)/2?1:-1}return n.docView.posFromDOM(i,s,l)}function rA(n,t,e,i){let s=-1;for(let l=t,c=!1;l!=n.dom;){let u=n.docView.nearestDesc(l,!0),d;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((d=u.dom.getBoundingClientRect()).width||d.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!c&&d.left>i.left||d.top>i.top?s=u.posBefore:(!c&&d.right<i.left||d.bottom<i.top)&&(s=u.posAfter),c=!0),!u.contentDOM&&s<0&&!u.node.isText))return(u.node.isBlock?i.top<(d.top+d.bottom)/2:i.left<(d.left+d.right)/2)?u.posBefore:u.posAfter;l=u.dom.parentNode}return s>-1?s:n.docView.posFromDOM(t,e,-1)}function kS(n,t,e){let i=n.childNodes.length;if(i&&e.top<e.bottom)for(let s=Math.max(0,Math.min(i-1,Math.floor(i*(t.top-e.top)/(e.bottom-e.top))-2)),l=s;;){let c=n.childNodes[l];if(c.nodeType==1){let u=c.getClientRects();for(let d=0;d<u.length;d++){let h=u[d];if(wm(t,h))return kS(c,t,h)}}if((l=(l+1)%i)==s)break}return n}function sA(n,t){let e=n.dom.ownerDocument,i,s=0,l=XM(e,t.left,t.top);l&&({node:i,offset:s}=l);let c=(n.root.elementFromPoint?n.root:e).elementFromPoint(t.left,t.top),u;if(!c||!n.dom.contains(c.nodeType!=1?c.parentNode:c)){let h=n.dom.getBoundingClientRect();if(!wm(t,h)||(c=kS(n.dom,t,h),!c))return null}if(Le)for(let h=c;i&&h;h=Bo(h))h.draggable&&(i=void 0);if(c=nA(c,t),i){if(Hn&&i.nodeType==1&&(s=Math.min(s,i.childNodes.length),s<i.childNodes.length)){let g=i.childNodes[s],m;g.nodeName=="IMG"&&(m=g.getBoundingClientRect()).right<=t.left&&m.bottom>t.top&&s++}let h;Ea&&s&&i.nodeType==1&&(h=i.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=t.top&&s--,i==n.dom&&s==i.childNodes.length-1&&i.lastChild.nodeType==1&&t.top>i.lastChild.getBoundingClientRect().bottom?u=n.state.doc.content.size:(s==0||i.nodeType!=1||i.childNodes[s-1].nodeName!="BR")&&(u=rA(n,i,s,t))}u==null&&(u=iA(n,c,t));let d=n.docView.nearestDesc(c,!0);return{pos:u,inside:d?d.posAtStart-d.border:-1}}function Hv(n){return n.top<n.bottom||n.left<n.right}function Cr(n,t){let e=n.getClientRects();if(e.length){let i=e[t<0?0:e.length-1];if(Hv(i))return i}return Array.prototype.find.call(e,Hv)||n.getBoundingClientRect()}const oA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function MS(n,t,e){let{node:i,offset:s,atom:l}=n.docView.domFromPos(t,e<0?-1:1),c=Ea||Hn;if(i.nodeType==3)if(c&&(oA.test(i.nodeValue)||(e<0?!s:s==i.nodeValue.length))){let d=Cr(Vi(i,s,s),e);if(Hn&&s&&/\s/.test(i.nodeValue[s-1])&&s<i.nodeValue.length){let h=Cr(Vi(i,s-1,s-1),-1);if(h.top==d.top){let g=Cr(Vi(i,s,s+1),-1);if(g.top!=d.top)return Yl(g,g.left<h.left)}}return d}else{let d=s,h=s,g=e<0?1:-1;return e<0&&!s?(h++,g=-1):e>=0&&s==i.nodeValue.length?(d--,g=1):e<0?d--:h++,Yl(Cr(Vi(i,d,h),g),g<0)}if(!n.state.doc.resolve(t-(l||0)).parent.inlineContent){if(l==null&&s&&(e<0||s==_n(i))){let d=i.childNodes[s-1];if(d.nodeType==1)return sp(d.getBoundingClientRect(),!1)}if(l==null&&s<_n(i)){let d=i.childNodes[s];if(d.nodeType==1)return sp(d.getBoundingClientRect(),!0)}return sp(i.getBoundingClientRect(),e>=0)}if(l==null&&s&&(e<0||s==_n(i))){let d=i.childNodes[s-1],h=d.nodeType==3?Vi(d,_n(d)-(c?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return Yl(Cr(h,1),!1)}if(l==null&&s<_n(i)){let d=i.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?Vi(d,0,c?0:1):d.nodeType==1?d:null:null;if(h)return Yl(Cr(h,-1),!0)}return Yl(Cr(i.nodeType==3?Vi(i):i,-e),e>=0)}function Yl(n,t){if(n.width==0)return n;let e=t?n.left:n.right;return{top:n.top,bottom:n.bottom,left:e,right:e}}function sp(n,t){if(n.height==0)return n;let e=t?n.top:n.bottom;return{top:e,bottom:e,left:n.left,right:n.right}}function AS(n,t,e){let i=n.state,s=n.root.activeElement;i!=t&&n.updateState(t),s!=n.dom&&n.focus();try{return e()}finally{i!=t&&n.updateState(i),s!=n.dom&&s&&s.focus()}}function lA(n,t,e){let i=t.selection,s=e=="up"?i.$from:i.$to;return AS(n,t,()=>{let{node:l}=n.docView.domFromPos(s.pos,e=="up"?-1:1);for(;;){let u=n.docView.nearestDesc(l,!0);if(!u)break;if(u.node.isBlock){l=u.contentDOM||u.dom;break}l=u.dom.parentNode}let c=MS(n,s.pos,1);for(let u=l.firstChild;u;u=u.nextSibling){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=Vi(u,0,u.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let g=d[h];if(g.bottom>g.top+1&&(e=="up"?c.top-g.top>(g.bottom-c.top)*2:g.bottom-c.bottom>(c.bottom-g.top)*2))return!1}}return!0})}const aA=/[\u0590-\u08ac]/;function cA(n,t,e){let{$head:i}=t.selection;if(!i.parent.isTextblock)return!1;let s=i.parentOffset,l=!s,c=s==i.parent.content.size,u=n.domSelection();return u?!aA.test(i.parent.textContent)||!u.modify?e=="left"||e=="backward"?l:c:AS(n,t,()=>{let{focusNode:d,focusOffset:h,anchorNode:g,anchorOffset:m}=n.domSelectionRange(),b=u.caretBidiLevel;u.modify("move",e,"character");let v=i.depth?n.docView.domAfterPos(i.before()):n.dom,{focusNode:x,focusOffset:w}=n.domSelectionRange(),E=x&&!v.contains(x.nodeType==1?x:x.parentNode)||d==x&&h==w;try{u.collapse(g,m),d&&(d!=g||h!=m)&&u.extend&&u.extend(d,h)}catch{}return b!=null&&(u.caretBidiLevel=b),E}):i.pos==i.start()||i.pos==i.end()}let Uv=null,jv=null,Iv=!1;function uA(n,t,e){return Uv==t&&jv==e?Iv:(Uv=t,jv=e,Iv=e=="up"||e=="down"?lA(n,t,e):cA(n,t,e))}const Un=0,Vv=1,bs=2,hi=3;class Ta{constructor(t,e,i,s){this.parent=t,this.children=e,this.dom=i,this.contentDOM=s,this.dirty=Un,i.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,i){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,i=this.posAtStart;;e++){let s=this.children[e];if(s==t)return i;i+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,i){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(i<0){let l,c;if(t==this.contentDOM)l=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;l=t.previousSibling}for(;l&&!((c=l.pmViewDesc)&&c.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(c)+c.size:this.posAtStart}else{let l,c;if(t==this.contentDOM)l=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;l=t.nextSibling}for(;l&&!((c=l.pmViewDesc)&&c.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(c):this.posAtEnd}let s;if(t==this.dom&&this.contentDOM)s=e>Re(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(e==0)for(let l=t;;l=l.parentNode){if(l==this.dom){s=!1;break}if(l.previousSibling)break}if(s==null&&e==t.childNodes.length)for(let l=t;;l=l.parentNode){if(l==this.dom){s=!0;break}if(l.nextSibling)break}}return s??i>0?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let i=!0,s=t;s;s=s.parentNode){let l=this.getDesc(s),c;if(l&&(!e||l.node))if(i&&(c=l.nodeDOM)&&!(c.nodeType==1?c.contains(t.nodeType==1?t:t.parentNode):c==t))i=!1;else return l}}getDesc(t){let e=t.pmViewDesc;for(let i=e;i;i=i.parent)if(i==this)return e}posFromDOM(t,e,i){for(let s=t;s;s=s.parentNode){let l=this.getDesc(s);if(l)return l.localPosFromDOM(t,e,i)}return-1}descAt(t){for(let e=0,i=0;e<this.children.length;e++){let s=this.children[e],l=i+s.size;if(i==t&&l!=i){for(;!s.border&&s.children.length;)for(let c=0;c<s.children.length;c++){let u=s.children[c];if(u.size){s=u;break}}return s}if(t<l)return s.descAt(t-i-s.border);i=l}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let i=0,s=0;for(let l=0;i<this.children.length;i++){let c=this.children[i],u=l+c.size;if(u>t||c instanceof NS){s=t-l;break}l=u}if(s)return this.children[i].domFromPos(s-this.children[i].border,e);for(let l;i&&!(l=this.children[i-1]).size&&l instanceof OS&&l.side>=0;i--);if(e<=0){let l,c=!0;for(;l=i?this.children[i-1]:null,!(!l||l.dom.parentNode==this.contentDOM);i--,c=!1);return l&&e&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,e):{node:this.contentDOM,offset:l?Re(l.dom)+1:0}}else{let l,c=!0;for(;l=i<this.children.length?this.children[i]:null,!(!l||l.dom.parentNode==this.contentDOM);i++,c=!1);return l&&c&&!l.border&&!l.domAtom?l.domFromPos(0,e):{node:this.contentDOM,offset:l?Re(l.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,i=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,l=-1;for(let c=i,u=0;;u++){let d=this.children[u],h=c+d.size;if(s==-1&&t<=h){let g=c+d.border;if(t>=g&&e<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(t,e,g);t=c;for(let m=u;m>0;m--){let b=this.children[m-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){s=Re(b.dom)+1;break}t-=b.size}s==-1&&(s=0)}if(s>-1&&(h>e||u==this.children.length-1)){e=h;for(let g=u+1;g<this.children.length;g++){let m=this.children[g];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){l=Re(m.dom);break}e+=m.size}l==-1&&(l=this.contentDOM.childNodes.length);break}c=h}return{node:this.contentDOM,from:t,to:e,fromOffset:s,toOffset:l}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return e.size==0||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:i}=this.domFromPos(t,0);if(e.nodeType!=1||i==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[i]}setSelection(t,e,i,s=!1){let l=Math.min(t,e),c=Math.max(t,e);for(let v=0,x=0;v<this.children.length;v++){let w=this.children[v],E=x+w.size;if(l>x&&c<E)return w.setSelection(t-x-w.border,e-x-w.border,i,s);x=E}let u=this.domFromPos(t,t?-1:1),d=e==t?u:this.domFromPos(e,e?-1:1),h=i.root.getSelection(),g=i.domSelectionRange(),m=!1;if((Hn||Le)&&t==e){let{node:v,offset:x}=u;if(v.nodeType==3){if(m=!!(x&&v.nodeValue[x-1]==`
`),m&&x==v.nodeValue.length)for(let w=v,E;w;w=w.parentNode){if(E=w.nextSibling){E.nodeName=="BR"&&(u=d={node:E.parentNode,offset:Re(E)+1});break}let C=w.pmViewDesc;if(C&&C.node&&C.node.isBlock)break}}else{let w=v.childNodes[x-1];m=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(Hn&&g.focusNode&&g.focusNode!=d.node&&g.focusNode.nodeType==1){let v=g.focusNode.childNodes[g.focusOffset];v&&v.contentEditable=="false"&&(s=!0)}if(!(s||m&&Le)&&As(u.node,u.offset,g.anchorNode,g.anchorOffset)&&As(d.node,d.offset,g.focusNode,g.focusOffset))return;let b=!1;if((h.extend||t==e)&&!(m&&Hn)){h.collapse(u.node,u.offset);try{t!=e&&h.extend(d.node,d.offset),b=!0}catch{}}if(!b){if(t>e){let x=u;u=d,d=x}let v=document.createRange();v.setEnd(d.node,d.offset),v.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let i=0,s=0;s<this.children.length;s++){let l=this.children[s],c=i+l.size;if(i==c?t<=c&&e>=i:t<c&&e>i){let u=i+l.border,d=c-l.border;if(t>=u&&e<=d){this.dirty=t==i||e==c?bs:Vv,t==u&&e==d&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=hi:l.markDirty(t-u,e-u);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?bs:hi}i=c}this.dirty=bs}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let i=t==1?bs:Vv;e.dirty<i&&(e.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class OS extends Ta{constructor(t,e,i,s){let l,c=e.type.toDOM;if(typeof c=="function"&&(c=c(i,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)})),!e.type.spec.raw){if(c.nodeType!=1){let u=document.createElement("span");u.appendChild(c),c=u}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(t,[],c,null),this.widget=e,this.widget=e,l=this}matchesWidget(t){return this.dirty==Un&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return e?e(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class fA extends Ta{constructor(t,e,i,s){super(t,[],e,null),this.textDOM=i,this.text=s}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Os extends Ta{constructor(t,e,i,s,l){super(t,[],i,s),this.mark=e,this.spec=l}static create(t,e,i,s){let l=s.nodeViews[e.type.name],c=l&&l(e,s,i);return(!c||!c.dom)&&(c=Ds.renderSpec(document,e.type.spec.toDOM(e,i),null,e.attrs)),new Os(t,e,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&hi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=hi&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),this.dirty!=Un){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=Un}}slice(t,e,i){let s=Os.create(this.parent,this.mark,!0,i),l=this.children,c=this.size;e<c&&(l=Ip(l,e,c,i)),t>0&&(l=Ip(l,0,t,i));for(let u=0;u<l.length;u++)l[u].parent=s;return s.children=l,s}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Hr extends Ta{constructor(t,e,i,s,l,c,u,d,h){super(t,[],l,c),this.node=e,this.outerDeco=i,this.innerDeco=s,this.nodeDOM=u}static create(t,e,i,s,l,c){let u=l.nodeViews[e.type.name],d,h=u&&u(e,l,()=>{if(!d)return c;if(d.parent)return d.parent.posBeforeChild(d)},i,s),g=h&&h.dom,m=h&&h.contentDOM;if(e.isText){if(!g)g=document.createTextNode(e.text);else if(g.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else g||({dom:g,contentDOM:m}=Ds.renderSpec(document,e.type.spec.toDOM(e),null,e.attrs));!m&&!e.isText&&g.nodeName!="BR"&&(g.hasAttribute("contenteditable")||(g.contentEditable="false"),e.type.spec.draggable&&(g.draggable=!0));let b=g;return g=zS(g,i,e),h?d=new dA(t,e,i,s,g,m||null,b,h,l,c+1):e.isText?new gf(t,e,i,s,g,b,l):new Hr(t,e,i,s,g,m||null,b,l,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let e=this.children.length-1;e>=0;e--){let i=this.children[e];if(this.dom.contains(i.dom.parentNode)){t.contentElement=i.dom.parentNode;break}}t.contentElement||(t.getContent=()=>F.empty)}return t}matchesNode(t,e,i){return this.dirty==Un&&t.eq(this.node)&&xu(e,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let i=this.node.inlineContent,s=e,l=t.composing?this.localCompositionInfo(t,e):null,c=l&&l.pos>-1?l:null,u=l&&l.pos<0,d=new pA(this,c&&c.node,t);yA(this.node,this.innerDeco,(h,g,m)=>{h.spec.marks?d.syncToMarks(h.spec.marks,i,t,g):h.type.side>=0&&!m&&d.syncToMarks(g==this.node.childCount?Kt.none:this.node.child(g).marks,i,t,g),d.placeWidget(h,t,s)},(h,g,m,b)=>{d.syncToMarks(h.marks,i,t,b);let v;d.findNodeMatch(h,g,m,b)||u&&t.state.selection.from>s&&t.state.selection.to<s+h.nodeSize&&(v=d.findIndexWithChild(l.node))>-1&&d.updateNodeAt(h,g,m,v,t)||d.updateNextNode(h,g,m,t,b,s)||d.addNode(h,g,m,t,s),s+=h.nodeSize}),d.syncToMarks([],i,t,0),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==bs)&&(c&&this.protectLocalComposition(t,c),DS(this.contentDOM,this.children,t),_o&&bA(this.dom))}localCompositionInfo(t,e){let{from:i,to:s}=t.state.selection;if(!(t.state.selection instanceof St)||i<e||s>e+this.node.content.size)return null;let l=t.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let c=l.nodeValue,u=vA(this.node.content,c,i-e,s-e);return u<0?null:{node:l,pos:u,text:c}}else return{node:l,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:i,text:s}){if(this.getDesc(e))return;let l=e;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let c=new fA(this,l,e,s);t.input.compositionNodes.push(c),this.children=Ip(this.children,i,i+s.length,t,c)}update(t,e,i,s){return this.dirty==hi||!t.sameMarkup(this.node)?!1:(this.updateInner(t,e,i,s),!0)}updateInner(t,e,i,s){this.updateOuterDeco(e),this.node=t,this.innerDeco=i,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Un}updateOuterDeco(t){if(xu(t,this.outerDeco))return;let e=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=RS(this.dom,this.nodeDOM,jp(this.outerDeco,this.node,e),jp(t,this.node,e)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function qv(n,t,e,i,s){zS(i,t,n);let l=new Hr(void 0,n,t,e,i,i,i,s,0);return l.contentDOM&&l.updateChildren(s,0),l}class gf extends Hr{constructor(t,e,i,s,l,c,u){super(t,e,i,s,l,null,c,u,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,i,s){return this.dirty==hi||this.dirty!=Un&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(e),(this.dirty!=Un||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=t,this.dirty=Un,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,i){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,i)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,e,i){let s=this.node.cut(t,e),l=document.createTextNode(s.text);return new gf(this.parent,s,this.outerDeco,this.innerDeco,l,l,i)}markDirty(t,e){super.markDirty(t,e),this.dom!=this.nodeDOM&&(t==0||e==this.nodeDOM.nodeValue.length)&&(this.dirty=hi)}get domAtom(){return!1}isText(t){return this.node.text==t}}class NS extends Ta{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Un&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class dA extends Hr{constructor(t,e,i,s,l,c,u,d,h,g){super(t,e,i,s,l,c,u,h,g),this.spec=d}update(t,e,i,s){if(this.dirty==hi)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let l=this.spec.update(t,e,i);return l&&this.updateInner(t,e,i,s),l}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,e,i,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,i,s){this.spec.setSelection?this.spec.setSelection(t,e,i.root):super.setSelection(t,e,i,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function DS(n,t,e){let i=n.firstChild,s=!1;for(let l=0;l<t.length;l++){let c=t[l],u=c.dom;if(u.parentNode==n){for(;u!=i;)i=$v(i),s=!0;i=i.nextSibling}else s=!0,n.insertBefore(u,i);if(c instanceof Os){let d=i?i.previousSibling:n.lastChild;DS(c.contentDOM,c.children,e),i=d?d.nextSibling:n.firstChild}}for(;i;)i=$v(i),s=!0;s&&e.trackWrites==n&&(e.trackWrites=null)}const ea=function(n){n&&(this.nodeName=n)};ea.prototype=Object.create(null);const vs=[new ea];function jp(n,t,e){if(n.length==0)return vs;let i=e?vs[0]:new ea,s=[i];for(let l=0;l<n.length;l++){let c=n[l].type.attrs;if(c){c.nodeName&&s.push(i=new ea(c.nodeName));for(let u in c){let d=c[u];d!=null&&(e&&s.length==1&&s.push(i=new ea(t.isInline?"span":"div")),u=="class"?i.class=(i.class?i.class+" ":"")+d:u=="style"?i.style=(i.style?i.style+";":"")+d:u!="nodeName"&&(i[u]=d))}}}return s}function RS(n,t,e,i){if(e==vs&&i==vs)return t;let s=t;for(let l=0;l<i.length;l++){let c=i[l],u=e[l];if(l){let d;u&&u.nodeName==c.nodeName&&s!=n&&(d=s.parentNode)&&d.nodeName.toLowerCase()==c.nodeName||(d=document.createElement(c.nodeName),d.pmIsDeco=!0,d.appendChild(s),u=vs[0]),s=d}hA(s,u||vs[0],c)}return s}function hA(n,t,e){for(let i in t)i!="class"&&i!="style"&&i!="nodeName"&&!(i in e)&&n.removeAttribute(i);for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&e[i]!=t[i]&&n.setAttribute(i,e[i]);if(t.class!=e.class){let i=t.class?t.class.split(" ").filter(Boolean):[],s=e.class?e.class.split(" ").filter(Boolean):[];for(let l=0;l<i.length;l++)s.indexOf(i[l])==-1&&n.classList.remove(i[l]);for(let l=0;l<s.length;l++)i.indexOf(s[l])==-1&&n.classList.add(s[l]);n.classList.length==0&&n.removeAttribute("class")}if(t.style!=e.style){if(t.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=i.exec(t.style);)n.style.removeProperty(s[1])}e.style&&(n.style.cssText+=e.style)}}function zS(n,t,e){return RS(n,n,vs,jp(t,e,n.nodeType!=1))}function xu(n,t){if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(!n[e].type.eq(t[e].type))return!1;return!0}function $v(n){let t=n.nextSibling;return n.parentNode.removeChild(n),t}class pA{constructor(t,e,i){this.lock=e,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=mA(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let i=t;i<e;i++)this.top.children[i].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,i,s){let l=0,c=this.stack.length>>1,u=Math.min(c,t.length);for(;l<u&&(l==c-1?this.top:this.stack[l+1<<1]).matchesMark(t[l])&&t[l].type.spec.spanning!==!1;)l++;for(;l<c;)this.destroyRest(),this.top.dirty=Un,this.index=this.stack.pop(),this.top=this.stack.pop(),c--;for(;c<t.length;){this.stack.push(this.top,this.index+1);let d=-1,h=this.top.children.length;s<this.preMatch.index&&(h=Math.min(this.index+3,h));for(let g=this.index;g<h;g++){let m=this.top.children[g];if(m.matchesMark(t[c])&&!this.isLocked(m.dom)){d=g;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let g=Os.create(this.top,t[c],e,i);this.top.children.splice(this.index,0,g),this.top=g,this.changed=!0}this.index=0,c++}}findNodeMatch(t,e,i,s){let l=-1,c;if(s>=this.preMatch.index&&(c=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&c.matchesNode(t,e,i))l=this.top.children.indexOf(c,this.index);else for(let u=this.index,d=Math.min(this.top.children.length,u+5);u<d;u++){let h=this.top.children[u];if(h.matchesNode(t,e,i)&&!this.preMatch.matched.has(h)){l=u;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(t,e,i,s,l){let c=this.top.children[s];return c.dirty==hi&&c.dom==c.contentDOM&&(c.dirty=bs),c.update(t,e,i,l)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let i=t.pmViewDesc;if(i){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==i)return s}return-1}t=e}}updateNextNode(t,e,i,s,l,c){for(let u=this.index;u<this.top.children.length;u++){let d=this.top.children[u];if(d instanceof Hr){let h=this.preMatch.matched.get(d);if(h!=null&&h!=l)return!1;let g=d.dom,m,b=this.isLocked(g)&&!(t.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==t.text&&d.dirty!=hi&&xu(e,d.outerDeco));if(!b&&d.update(t,e,i,s))return this.destroyBetween(this.index,u),d.dom!=g&&(this.changed=!0),this.index++,!0;if(!b&&(m=this.recreateWrapper(d,t,e,i,s,c)))return this.destroyBetween(this.index,u),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=bs,m.updateChildren(s,c+1),m.dirty=Un),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,e,i,s,l,c){if(t.dirty||e.isAtom||!t.children.length||!t.node.content.eq(e.content)||!xu(i,t.outerDeco)||!s.eq(t.innerDeco))return null;let u=Hr.create(this.top,e,i,s,l,c);if(u.contentDOM){u.children=t.children,t.children=[];for(let d of u.children)d.parent=u}return t.destroy(),u}addNode(t,e,i,s,l){let c=Hr.create(this.top,t,e,i,s,l);c.contentDOM&&c.updateChildren(s,l+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(t,e,i){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(t)&&(t==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let l=new OS(this.top,t,e,i);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof Os;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof gf)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Le||Ee)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let i=document.createElement(t);t=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),t=="BR"&&(i.className="ProseMirror-trailingBreak");let s=new NS(this.top,[],i,null);e!=this.top?e.children.push(s):e.children.splice(this.index++,0,s),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function mA(n,t){let e=t,i=e.children.length,s=n.childCount,l=new Map,c=[];t:for(;s>0;){let u;for(;;)if(i){let h=e.children[i-1];if(h instanceof Os)e=h,i=h.children.length;else{u=h,i--;break}}else{if(e==t)break t;i=e.parent.children.indexOf(e),e=e.parent}let d=u.node;if(d){if(d!=n.child(s-1))break;--s,l.set(u,s),c.push(u)}}return{index:s,matched:l,matches:c.reverse()}}function gA(n,t){return n.type.side-t.type.side}function yA(n,t,e,i){let s=t.locals(n),l=0;if(s.length==0){for(let h=0;h<n.childCount;h++){let g=n.child(h);i(g,s,t.forChild(l,g),h),l+=g.nodeSize}return}let c=0,u=[],d=null;for(let h=0;;){let g,m;for(;c<s.length&&s[c].to==l;){let E=s[c++];E.widget&&(g?(m||(m=[g])).push(E):g=E)}if(g)if(m){m.sort(gA);for(let E=0;E<m.length;E++)e(m[E],h,!!d)}else e(g,h,!!d);let b,v;if(d)v=-1,b=d,d=null;else if(h<n.childCount)v=h,b=n.child(h++);else break;for(let E=0;E<u.length;E++)u[E].to<=l&&u.splice(E--,1);for(;c<s.length&&s[c].from<=l&&s[c].to>l;)u.push(s[c++]);let x=l+b.nodeSize;if(b.isText){let E=x;c<s.length&&s[c].from<E&&(E=s[c].from);for(let C=0;C<u.length;C++)u[C].to<E&&(E=u[C].to);E<x&&(d=b.cut(E-l),b=b.cut(0,E-l),x=E,v=-1)}else for(;c<s.length&&s[c].to<x;)c++;let w=b.isInline&&!b.isLeaf?u.filter(E=>!E.inline):u.slice();i(b,w,t.forChild(l,b),v),l=x}}function bA(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let t=n.style.cssText;n.style.cssText=t+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=t}}function vA(n,t,e,i){for(let s=0,l=0;s<n.childCount&&l<=i;){let c=n.child(s++),u=l;if(l+=c.nodeSize,!c.isText)continue;let d=c.text;for(;s<n.childCount;){let h=n.child(s++);if(l+=h.nodeSize,!h.isText)break;d+=h.text}if(l>=e){if(l>=i&&d.slice(i-t.length-u,i-u)==t)return i-t.length;let h=u<i?d.lastIndexOf(t,i-u-1):-1;if(h>=0&&h+t.length+u>=e)return u+h;if(e==i&&d.length>=i+t.length-u&&d.slice(i-u,i-u+t.length)==t)return i}}return-1}function Ip(n,t,e,i,s){let l=[];for(let c=0,u=0;c<n.length;c++){let d=n[c],h=u,g=u+=d.size;h>=e||g<=t?l.push(d):(h<t&&l.push(d.slice(0,t-h,i)),s&&(l.push(s),s=void 0),g>e&&l.push(d.slice(e-h,d.size,i)))}return l}function Em(n,t=null){let e=n.domSelectionRange(),i=n.state.doc;if(!e.focusNode)return null;let s=n.docView.nearestDesc(e.focusNode),l=s&&s.size==0,c=n.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(c<0)return null;let u=i.resolve(c),d,h;if(mf(e)){for(d=c;s&&!s.node;)s=s.parent;let m=s.node;if(s&&m.isAtom&&ht.isSelectable(m)&&s.parent&&!(m.isInline&&GM(e.focusNode,e.focusOffset,s.dom))){let b=s.posBefore;h=new ht(c==b?u:i.resolve(b))}}else{if(e instanceof n.dom.ownerDocument.defaultView.Selection&&e.rangeCount>1){let m=c,b=c;for(let v=0;v<e.rangeCount;v++){let x=e.getRangeAt(v);m=Math.min(m,n.docView.posFromDOM(x.startContainer,x.startOffset,1)),b=Math.max(b,n.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(m<0)return null;[d,c]=b==n.state.selection.anchor?[b,m]:[m,b],u=i.resolve(c)}else d=n.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(d<0)return null}let g=i.resolve(d);if(!h){let m=t=="pointer"||n.state.selection.head<u.pos&&!l?1:-1;h=Tm(n,g,u,m)}return h}function LS(n){return n.editable?n.hasFocus():_S(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Gi(n,t=!1){let e=n.state.selection;if(BS(n,e),!!LS(n)){if(!t&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Ee){let i=n.domSelectionRange(),s=n.domObserver.currentSelection;if(i.anchorNode&&s.anchorNode&&As(i.anchorNode,i.anchorOffset,s.anchorNode,s.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)SA(n);else{let{anchor:i,head:s}=e,l,c;Yv&&!(e instanceof St)&&(e.$from.parent.inlineContent||(l=Pv(n,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(c=Pv(n,e.to))),n.docView.setSelection(i,s,n,t),Yv&&(l&&Gv(l),c&&Gv(c)),e.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&xA(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const Yv=Le||Ee&&SS<63;function Pv(n,t){let{node:e,offset:i}=n.docView.domFromPos(t,0),s=i<e.childNodes.length?e.childNodes[i]:null,l=i?e.childNodes[i-1]:null;if(Le&&s&&s.contentEditable=="false")return op(s);if((!s||s.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(s)return op(s);if(l)return op(l)}}function op(n){return n.contentEditable="true",Le&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Gv(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function xA(n){let t=n.dom.ownerDocument;t.removeEventListener("selectionchange",n.input.hideSelectionGuard);let e=n.domSelectionRange(),i=e.anchorNode,s=e.anchorOffset;t.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(e.anchorNode!=i||e.anchorOffset!=s)&&(t.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!LS(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function SA(n){let t=n.domSelection();if(!t)return;let e=n.cursorWrapper.dom,i=e.nodeName=="IMG";i?t.collapse(e.parentNode,Re(e)+1):t.collapse(e,0),!i&&!n.state.selection.visible&&cn&&_r<=11&&(e.disabled=!0,e.disabled=!1)}function BS(n,t){if(t instanceof ht){let e=n.docView.descAt(t.from);e!=n.lastSelectedViewDesc&&(Kv(n),e&&e.selectNode(),n.lastSelectedViewDesc=e)}else Kv(n)}function Kv(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Tm(n,t,e,i){return n.someProp("createSelectionBetween",s=>s(n,t,e))||St.between(t,e,i)}function Xv(n){return n.editable&&!n.hasFocus()?!1:_S(n)}function _S(n){let t=n.domSelectionRange();if(!t.anchorNode)return!1;try{return n.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(n.editable||n.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function wA(n){let t=n.docView.domFromPos(n.state.selection.anchor,0),e=n.domSelectionRange();return As(t.node,t.offset,e.anchorNode,e.anchorOffset)}function Vp(n,t){let{$anchor:e,$head:i}=n.selection,s=t>0?e.max(i):e.min(i),l=s.parent.inlineContent?s.depth?n.doc.resolve(t>0?s.after():s.before()):null:s;return l&&vt.findFrom(l,t)}function kr(n,t){return n.dispatch(n.state.tr.setSelection(t).scrollIntoView()),!0}function Fv(n,t,e){let i=n.state.selection;if(i instanceof St)if(e.indexOf("s")>-1){let{$head:s}=i,l=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let c=n.state.doc.resolve(s.pos+l.nodeSize*(t<0?-1:1));return kr(n,new St(i.$anchor,c))}else if(i.empty){if(n.endOfTextblock(t>0?"forward":"backward")){let s=Vp(n.state,t);return s&&s instanceof ht?kr(n,s):!1}else if(!(Bn&&e.indexOf("m")>-1)){let s=i.$head,l=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter,c;if(!l||l.isText)return!1;let u=t<0?s.pos-l.nodeSize:s.pos;return l.isAtom||(c=n.docView.descAt(u))&&!c.contentDOM?ht.isSelectable(l)?kr(n,new ht(t<0?n.state.doc.resolve(s.pos-l.nodeSize):s)):Ea?kr(n,new St(n.state.doc.resolve(t<0?u:u+l.nodeSize))):!1:!1}}else return!1;else{if(i instanceof ht&&i.node.isInline)return kr(n,new St(t>0?i.$to:i.$from));{let s=Vp(n.state,t);return s?kr(n,s):!1}}}function Su(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function na(n,t){let e=n.pmViewDesc;return e&&e.size==0&&(t<0||n.nextSibling||n.nodeName!="BR")}function To(n,t){return t<0?EA(n):TA(n)}function EA(n){let t=n.domSelectionRange(),e=t.focusNode,i=t.focusOffset;if(!e)return;let s,l,c=!1;for(Hn&&e.nodeType==1&&i<Su(e)&&na(e.childNodes[i],-1)&&(c=!0);;)if(i>0){if(e.nodeType!=1)break;{let u=e.childNodes[i-1];if(na(u,-1))s=e,l=--i;else if(u.nodeType==3)e=u,i=e.nodeValue.length;else break}}else{if(HS(e))break;{let u=e.previousSibling;for(;u&&na(u,-1);)s=e.parentNode,l=Re(u),u=u.previousSibling;if(u)e=u,i=Su(e);else{if(e=e.parentNode,e==n.dom)break;i=0}}}c?qp(n,e,i):s&&qp(n,s,l)}function TA(n){let t=n.domSelectionRange(),e=t.focusNode,i=t.focusOffset;if(!e)return;let s=Su(e),l,c;for(;;)if(i<s){if(e.nodeType!=1)break;let u=e.childNodes[i];if(na(u,1))l=e,c=++i;else break}else{if(HS(e))break;{let u=e.nextSibling;for(;u&&na(u,1);)l=u.parentNode,c=Re(u)+1,u=u.nextSibling;if(u)e=u,i=0,s=Su(e);else{if(e=e.parentNode,e==n.dom)break;i=s=0}}}l&&qp(n,l,c)}function HS(n){let t=n.pmViewDesc;return t&&t.node&&t.node.isBlock}function CA(n,t){for(;n&&t==n.childNodes.length&&!wa(n);)t=Re(n)+1,n=n.parentNode;for(;n&&t<n.childNodes.length;){let e=n.childNodes[t];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;n=e,t=0}}function kA(n,t){for(;n&&!t&&!wa(n);)t=Re(n),n=n.parentNode;for(;n&&t;){let e=n.childNodes[t-1];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;n=e,t=n.childNodes.length}}function qp(n,t,e){if(t.nodeType!=3){let l,c;(c=CA(t,e))?(t=c,e=0):(l=kA(t,e))&&(t=l,e=l.nodeValue.length)}let i=n.domSelection();if(!i)return;if(mf(i)){let l=document.createRange();l.setEnd(t,e),l.setStart(t,e),i.removeAllRanges(),i.addRange(l)}else i.extend&&i.extend(t,e);n.domObserver.setCurSelection();let{state:s}=n;setTimeout(()=>{n.state==s&&Gi(n)},50)}function Jv(n,t){let e=n.state.doc.resolve(t);if(!(Ee||wS)&&e.parent.inlineContent){let s=n.coordsAtPos(t);if(t>e.start()){let l=n.coordsAtPos(t-1),c=(l.top+l.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(l.left-s.left)>1)return l.left<s.left?"ltr":"rtl"}if(t<e.end()){let l=n.coordsAtPos(t+1),c=(l.top+l.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(l.left-s.left)>1)return l.left>s.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function Qv(n,t,e){let i=n.state.selection;if(i instanceof St&&!i.empty||e.indexOf("s")>-1||Bn&&e.indexOf("m")>-1)return!1;let{$from:s,$to:l}=i;if(!s.parent.inlineContent||n.endOfTextblock(t<0?"up":"down")){let c=Vp(n.state,t);if(c&&c instanceof ht)return kr(n,c)}if(!s.parent.inlineContent){let c=t<0?s:l,u=i instanceof xn?vt.near(c,t):vt.findFrom(c,t);return u?kr(n,u):!1}return!1}function Zv(n,t){if(!(n.state.selection instanceof St))return!0;let{$head:e,$anchor:i,empty:s}=n.state.selection;if(!e.sameParent(i))return!0;if(!s)return!1;if(n.endOfTextblock(t>0?"forward":"backward"))return!0;let l=!e.textOffset&&(t<0?e.nodeBefore:e.nodeAfter);if(l&&!l.isText){let c=n.state.tr;return t<0?c.delete(e.pos-l.nodeSize,e.pos):c.delete(e.pos,e.pos+l.nodeSize),n.dispatch(c),!0}return!1}function Wv(n,t,e){n.domObserver.stop(),t.contentEditable=e,n.domObserver.start()}function MA(n){if(!Le||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:e}=n.domSelectionRange();if(t&&t.nodeType==1&&e==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let i=t.firstChild;Wv(n,i,"true"),setTimeout(()=>Wv(n,i,"false"),20)}return!1}function AA(n){let t="";return n.ctrlKey&&(t+="c"),n.metaKey&&(t+="m"),n.altKey&&(t+="a"),n.shiftKey&&(t+="s"),t}function OA(n,t){let e=t.keyCode,i=AA(t);if(e==8||Bn&&e==72&&i=="c")return Zv(n,-1)||To(n,-1);if(e==46&&!t.shiftKey||Bn&&e==68&&i=="c")return Zv(n,1)||To(n,1);if(e==13||e==27)return!0;if(e==37||Bn&&e==66&&i=="c"){let s=e==37?Jv(n,n.state.selection.from)=="ltr"?-1:1:-1;return Fv(n,s,i)||To(n,s)}else if(e==39||Bn&&e==70&&i=="c"){let s=e==39?Jv(n,n.state.selection.from)=="ltr"?1:-1:1;return Fv(n,s,i)||To(n,s)}else{if(e==38||Bn&&e==80&&i=="c")return Qv(n,-1,i)||To(n,-1);if(e==40||Bn&&e==78&&i=="c")return MA(n)||Qv(n,1,i)||To(n,1);if(i==(Bn?"m":"c")&&(e==66||e==73||e==89||e==90))return!0}return!1}function Cm(n,t){n.someProp("transformCopied",v=>{t=v(t,n)});let e=[],{content:i,openStart:s,openEnd:l}=t;for(;s>1&&l>1&&i.childCount==1&&i.firstChild.childCount==1;){s--,l--;let v=i.firstChild;e.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),i=v.content}let c=n.someProp("clipboardSerializer")||Ds.fromSchema(n.state.schema),u=$S(),d=u.createElement("div");d.appendChild(c.serializeFragment(i,{document:u}));let h=d.firstChild,g,m=0;for(;h&&h.nodeType==1&&(g=qS[h.nodeName.toLowerCase()]);){for(let v=g.length-1;v>=0;v--){let x=u.createElement(g[v]);for(;d.firstChild;)x.appendChild(d.firstChild);d.appendChild(x),m++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${l}${m?` -${m}`:""} ${JSON.stringify(e)}`);let b=n.someProp("clipboardTextSerializer",v=>v(t,n))||t.content.textBetween(0,t.content.size,`

`);return{dom:d,text:b,slice:t}}function US(n,t,e,i,s){let l=s.parent.type.spec.code,c,u;if(!e&&!t)return null;let d=!!t&&(i||l||!e);if(d){if(n.someProp("transformPastedText",b=>{t=b(t,l||i,n)}),l)return u=new nt(F.from(n.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),n.someProp("transformPasted",b=>{u=b(u,n,!0)}),u;let m=n.someProp("clipboardTextParser",b=>b(t,s,i,n));if(m)u=m;else{let b=s.marks(),{schema:v}=n.state,x=Ds.fromSchema(v);c=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(w=>{let E=c.appendChild(document.createElement("p"));w&&E.appendChild(x.serializeNode(v.text(w,b)))})}}else n.someProp("transformPastedHTML",m=>{e=m(e,n)}),c=zA(e),Ea&&LA(c);let h=c&&c.querySelector("[data-pm-slice]"),g=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(g&&g[3])for(let m=+g[3];m>0;m--){let b=c.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;c=b}if(u||(u=(n.someProp("clipboardParser")||n.someProp("domParser")||Br.fromSchema(n.state.schema)).parseSlice(c,{preserveWhitespace:!!(d||g),context:s,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!NA.test(b.parentNode.nodeName)?{ignore:!0}:null}})),g)u=BA(t1(u,+g[1],+g[2]),g[4]);else if(u=nt.maxOpen(DA(u.content,s),!0),u.openStart||u.openEnd){let m=0,b=0;for(let v=u.content.firstChild;m<u.openStart&&!v.type.spec.isolating;m++,v=v.firstChild);for(let v=u.content.lastChild;b<u.openEnd&&!v.type.spec.isolating;b++,v=v.lastChild);u=t1(u,m,b)}return n.someProp("transformPasted",m=>{u=m(u,n,d)}),u}const NA=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function DA(n,t){if(n.childCount<2)return n;for(let e=t.depth;e>=0;e--){let s=t.node(e).contentMatchAt(t.index(e)),l,c=[];if(n.forEach(u=>{if(!c)return;let d=s.findWrapping(u.type),h;if(!d)return c=null;if(h=c.length&&l.length&&IS(d,l,u,c[c.length-1],0))c[c.length-1]=h;else{c.length&&(c[c.length-1]=VS(c[c.length-1],l.length));let g=jS(u,d);c.push(g),s=s.matchType(g.type),l=d}}),c)return F.from(c)}return n}function jS(n,t,e=0){for(let i=t.length-1;i>=e;i--)n=t[i].create(null,F.from(n));return n}function IS(n,t,e,i,s){if(s<n.length&&s<t.length&&n[s]==t[s]){let l=IS(n,t,e,i.lastChild,s+1);if(l)return i.copy(i.content.replaceChild(i.childCount-1,l));if(i.contentMatchAt(i.childCount).matchType(s==n.length-1?e.type:n[s+1]))return i.copy(i.content.append(F.from(jS(e,n,s+1))))}}function VS(n,t){if(t==0)return n;let e=n.content.replaceChild(n.childCount-1,VS(n.lastChild,t-1)),i=n.contentMatchAt(n.childCount).fillBefore(F.empty,!0);return n.copy(e.append(i))}function $p(n,t,e,i,s,l){let c=t<0?n.firstChild:n.lastChild,u=c.content;return n.childCount>1&&(l=0),s<i-1&&(u=$p(u,t,e,i,s+1,l)),s>=e&&(u=t<0?c.contentMatchAt(0).fillBefore(u,l<=s).append(u):u.append(c.contentMatchAt(c.childCount).fillBefore(F.empty,!0))),n.replaceChild(t<0?0:n.childCount-1,c.copy(u))}function t1(n,t,e){return t<n.openStart&&(n=new nt($p(n.content,-1,t,n.openStart,0,n.openEnd),t,n.openEnd)),e<n.openEnd&&(n=new nt($p(n.content,1,e,n.openEnd,0,0),n.openStart,e)),n}const qS={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let e1=null;function $S(){return e1||(e1=document.implementation.createHTMLDocument("title"))}let lp=null;function RA(n){let t=window.trustedTypes;return t?(lp||(lp=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e})),lp.createHTML(n)):n}function zA(n){let t=/^(\s*<meta [^>]*>)*/.exec(n);t&&(n=n.slice(t[0].length));let e=$S().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(n),s;if((s=i&&qS[i[1].toLowerCase()])&&(n=s.map(l=>"<"+l+">").join("")+n+s.map(l=>"</"+l+">").reverse().join("")),e.innerHTML=RA(n),s)for(let l=0;l<s.length;l++)e=e.querySelector(s[l])||e;return e}function LA(n){let t=n.querySelectorAll(Ee?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<t.length;e++){let i=t[e];i.childNodes.length==1&&i.textContent==""&&i.parentNode&&i.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),i)}}function BA(n,t){if(!n.size)return n;let e=n.content.firstChild.type.schema,i;try{i=JSON.parse(t)}catch{return n}let{content:s,openStart:l,openEnd:c}=n;for(let u=i.length-2;u>=0;u-=2){let d=e.nodes[i[u]];if(!d||d.hasRequiredAttrs())break;s=F.from(d.create(i[u+1],s)),l++,c++}return new nt(s,l,c)}const Xe={},Fe={},_A={touchstart:!0,touchmove:!0};class HA{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function UA(n){for(let t in Xe){let e=Xe[t];n.dom.addEventListener(t,n.input.eventHandlers[t]=i=>{IA(n,i)&&!km(n,i)&&(n.editable||!(i.type in Fe))&&e(n,i)},_A[t]?{passive:!0}:void 0)}Le&&n.dom.addEventListener("input",()=>null),Yp(n)}function zr(n,t){n.input.lastSelectionOrigin=t,n.input.lastSelectionTime=Date.now()}function jA(n){n.domObserver.stop();for(let t in n.input.eventHandlers)n.dom.removeEventListener(t,n.input.eventHandlers[t]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Yp(n){n.someProp("handleDOMEvents",t=>{for(let e in t)n.input.eventHandlers[e]||n.dom.addEventListener(e,n.input.eventHandlers[e]=i=>km(n,i))})}function km(n,t){return n.someProp("handleDOMEvents",e=>{let i=e[t.type];return i?i(n,t)||t.defaultPrevented:!1})}function IA(n,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target;e!=n.dom;e=e.parentNode)if(!e||e.nodeType==11||e.pmViewDesc&&e.pmViewDesc.stopEvent(t))return!1;return!0}function VA(n,t){!km(n,t)&&Xe[t.type]&&(n.editable||!(t.type in Fe))&&Xe[t.type](n,t)}Fe.keydown=(n,t)=>{let e=t;if(n.input.shiftKey=e.keyCode==16||e.shiftKey,!PS(n,e)&&(n.input.lastKeyCode=e.keyCode,n.input.lastKeyCodeTime=Date.now(),!($i&&Ee&&e.keyCode==13)))if(e.keyCode!=229&&n.domObserver.forceFlush(),_o&&e.keyCode==13&&!e.ctrlKey&&!e.altKey&&!e.metaKey){let i=Date.now();n.input.lastIOSEnter=i,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==i&&(n.someProp("handleKeyDown",s=>s(n,ys(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",i=>i(n,e))||OA(n,e)?e.preventDefault():zr(n,"key")};Fe.keyup=(n,t)=>{t.keyCode==16&&(n.input.shiftKey=!1)};Fe.keypress=(n,t)=>{let e=t;if(PS(n,e)||!e.charCode||e.ctrlKey&&!e.altKey||Bn&&e.metaKey)return;if(n.someProp("handleKeyPress",s=>s(n,e))){e.preventDefault();return}let i=n.state.selection;if(!(i instanceof St)||!i.$from.sameParent(i.$to)){let s=String.fromCharCode(e.charCode),l=()=>n.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!n.someProp("handleTextInput",c=>c(n,i.$from.pos,i.$to.pos,s,l))&&n.dispatch(l()),e.preventDefault()}};function yf(n){return{left:n.clientX,top:n.clientY}}function qA(n,t){let e=t.x-n.clientX,i=t.y-n.clientY;return e*e+i*i<100}function Mm(n,t,e,i,s){if(i==-1)return!1;let l=n.state.doc.resolve(i);for(let c=l.depth+1;c>0;c--)if(n.someProp(t,u=>c>l.depth?u(n,e,l.nodeAfter,l.before(c),s,!0):u(n,e,l.node(c),l.before(c),s,!1)))return!0;return!1}function Do(n,t,e){if(n.focused||n.focus(),n.state.selection.eq(t))return;let i=n.state.tr.setSelection(t);i.setMeta("pointer",!0),n.dispatch(i)}function $A(n,t){if(t==-1)return!1;let e=n.state.doc.resolve(t),i=e.nodeAfter;return i&&i.isAtom&&ht.isSelectable(i)?(Do(n,new ht(e)),!0):!1}function YA(n,t){if(t==-1)return!1;let e=n.state.selection,i,s;e instanceof ht&&(i=e.node);let l=n.state.doc.resolve(t);for(let c=l.depth+1;c>0;c--){let u=c>l.depth?l.nodeAfter:l.node(c);if(ht.isSelectable(u)){i&&e.$from.depth>0&&c>=e.$from.depth&&l.before(e.$from.depth+1)==e.$from.pos?s=l.before(e.$from.depth):s=l.before(c);break}}return s!=null?(Do(n,ht.create(n.state.doc,s)),!0):!1}function PA(n,t,e,i,s){return Mm(n,"handleClickOn",t,e,i)||n.someProp("handleClick",l=>l(n,t,i))||(s?YA(n,e):$A(n,e))}function GA(n,t,e,i){return Mm(n,"handleDoubleClickOn",t,e,i)||n.someProp("handleDoubleClick",s=>s(n,t,i))}function KA(n,t,e,i){return Mm(n,"handleTripleClickOn",t,e,i)||n.someProp("handleTripleClick",s=>s(n,t,i))||XA(n,e,i)}function XA(n,t,e){if(e.button!=0)return!1;let i=n.state.doc;if(t==-1)return i.inlineContent?(Do(n,St.create(i,0,i.content.size)),!0):!1;let s=i.resolve(t);for(let l=s.depth+1;l>0;l--){let c=l>s.depth?s.nodeAfter:s.node(l),u=s.before(l);if(c.inlineContent)Do(n,St.create(i,u+1,u+1+c.content.size));else if(ht.isSelectable(c))Do(n,ht.create(i,u));else continue;return!0}}function Am(n){return wu(n)}const YS=Bn?"metaKey":"ctrlKey";Xe.mousedown=(n,t)=>{let e=t;n.input.shiftKey=e.shiftKey;let i=Am(n),s=Date.now(),l="singleClick";s-n.input.lastClick.time<500&&qA(e,n.input.lastClick)&&!e[YS]&&n.input.lastClick.button==e.button&&(n.input.lastClick.type=="singleClick"?l="doubleClick":n.input.lastClick.type=="doubleClick"&&(l="tripleClick")),n.input.lastClick={time:s,x:e.clientX,y:e.clientY,type:l,button:e.button};let c=n.posAtCoords(yf(e));c&&(l=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new FA(n,c,e,!!i)):(l=="doubleClick"?GA:KA)(n,c.pos,c.inside,e)?e.preventDefault():zr(n,"pointer"))};class FA{constructor(t,e,i,s){this.view=t,this.pos=e,this.event=i,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!i[YS],this.allowDefault=i.shiftKey;let l,c;if(e.inside>-1)l=t.state.doc.nodeAt(e.inside),c=e.inside;else{let g=t.state.doc.resolve(e.pos);l=g.parent,c=g.depth?g.before():0}const u=s?null:i.target,d=u?t.docView.nearestDesc(u,!0):null;this.target=d&&d.nodeDOM.nodeType==1?d.nodeDOM:null;let{selection:h}=t.state;(i.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||h instanceof ht&&h.from<=c&&h.to>c)&&(this.mightDrag={node:l,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Hn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),zr(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Gi(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(yf(t))),this.updateAllowDefault(t),this.allowDefault||!e?zr(this.view,"pointer"):PA(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Le&&this.mightDrag&&!this.mightDrag.node.isAtom||Ee&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Do(this.view,vt.near(this.view.state.doc.resolve(e.pos))),t.preventDefault()):zr(this.view,"pointer")}move(t){this.updateAllowDefault(t),zr(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Xe.touchstart=n=>{n.input.lastTouch=Date.now(),Am(n),zr(n,"pointer")};Xe.touchmove=n=>{n.input.lastTouch=Date.now(),zr(n,"pointer")};Xe.contextmenu=n=>Am(n);function PS(n,t){return n.composing?!0:Le&&Math.abs(t.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const JA=$i?5e3:-1;Fe.compositionstart=Fe.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:t}=n,e=t.selection.$to;if(t.selection instanceof St&&(t.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)||Ee&&wS&&QA(n)))n.markCursor=n.state.storedMarks||e.marks(),wu(n,!0),n.markCursor=null;else if(wu(n,!t.selection.empty),Hn&&t.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let i=n.domSelectionRange();for(let s=i.focusNode,l=i.focusOffset;s&&s.nodeType==1&&l!=0;){let c=l<0?s.lastChild:s.childNodes[l-1];if(!c)break;if(c.nodeType==3){let u=n.domSelection();u&&u.collapse(c,c.nodeValue.length);break}else s=c,l=-1}}n.input.composing=!0}GS(n,JA)};function QA(n){let{focusNode:t,focusOffset:e}=n.domSelectionRange();if(!t||t.nodeType!=1||e>=t.childNodes.length)return!1;let i=t.childNodes[e];return i.nodeType==1&&i.contentEditable=="false"}Fe.compositionend=(n,t)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=t.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.badSafariComposition?n.domObserver.forceFlush():n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,GS(n,20))};function GS(n,t){clearTimeout(n.input.composingTimeout),t>-1&&(n.input.composingTimeout=setTimeout(()=>wu(n),t))}function KS(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=WA());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function ZA(n){let t=n.domSelectionRange();if(!t.focusNode)return null;let e=YM(t.focusNode,t.focusOffset),i=PM(t.focusNode,t.focusOffset);if(e&&i&&e!=i){let s=i.pmViewDesc,l=n.domObserver.lastChangedTextNode;if(e==l||i==l)return l;if(!s||!s.isText(i.nodeValue))return i;if(n.input.compositionNode==i){let c=e.pmViewDesc;if(!(!c||!c.isText(e.nodeValue)))return i}}return e||i}function WA(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function wu(n,t=!1){if(!($i&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),KS(n),t||n.docView&&n.docView.dirty){let e=Em(n),i=n.state.selection;return e&&!e.eq(i)?n.dispatch(n.state.tr.setSelection(e)):(n.markCursor||t)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function tO(n,t){if(!n.dom.parentNode)return;let e=n.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),s=document.createRange();s.selectNodeContents(t),n.dom.blur(),i.removeAllRanges(),i.addRange(s),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),n.focus()},50)}const ha=cn&&_r<15||_o&&FM<604;Xe.copy=Fe.cut=(n,t)=>{let e=t,i=n.state.selection,s=e.type=="cut";if(i.empty)return;let l=ha?null:e.clipboardData,c=i.content(),{dom:u,text:d}=Cm(n,c);l?(e.preventDefault(),l.clearData(),l.setData("text/html",u.innerHTML),l.setData("text/plain",d)):tO(n,u),s&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function eO(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function nO(n,t){if(!n.dom.parentNode)return;let e=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,i=n.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let s=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),i.parentNode&&i.parentNode.removeChild(i),e?pa(n,i.value,null,s,t):pa(n,i.textContent,i.innerHTML,s,t)},50)}function pa(n,t,e,i,s){let l=US(n,t,e,i,n.state.selection.$from);if(n.someProp("handlePaste",d=>d(n,s,l||nt.empty)))return!0;if(!l)return!1;let c=eO(l),u=c?n.state.tr.replaceSelectionWith(c,i):n.state.tr.replaceSelection(l);return n.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function XS(n){let t=n.getData("text/plain")||n.getData("Text");if(t)return t;let e=n.getData("text/uri-list");return e?e.replace(/\r?\n/g," "):""}Fe.paste=(n,t)=>{let e=t;if(n.composing&&!$i)return;let i=ha?null:e.clipboardData,s=n.input.shiftKey&&n.input.lastKeyCode!=45;i&&pa(n,XS(i),i.getData("text/html"),s,e)?e.preventDefault():nO(n,e)};class FS{constructor(t,e,i){this.slice=t,this.move=e,this.node=i}}const iO=Bn?"altKey":"ctrlKey";function JS(n,t){let e=n.someProp("dragCopies",i=>!i(t));return e??!t[iO]}Xe.dragstart=(n,t)=>{let e=t,i=n.input.mouseDown;if(i&&i.done(),!e.dataTransfer)return;let s=n.state.selection,l=s.empty?null:n.posAtCoords(yf(e)),c;if(!(l&&l.pos>=s.from&&l.pos<=(s instanceof ht?s.to-1:s.to))){if(i&&i.mightDrag)c=ht.create(n.state.doc,i.mightDrag.pos);else if(e.target&&e.target.nodeType==1){let m=n.docView.nearestDesc(e.target,!0);m&&m.node.type.spec.draggable&&m!=n.docView&&(c=ht.create(n.state.doc,m.posBefore))}}let u=(c||n.state.selection).content(),{dom:d,text:h,slice:g}=Cm(n,u);(!e.dataTransfer.files.length||!Ee||SS>120)&&e.dataTransfer.clearData(),e.dataTransfer.setData(ha?"Text":"text/html",d.innerHTML),e.dataTransfer.effectAllowed="copyMove",ha||e.dataTransfer.setData("text/plain",h),n.dragging=new FS(g,JS(n,e),c)};Xe.dragend=n=>{let t=n.dragging;window.setTimeout(()=>{n.dragging==t&&(n.dragging=null)},50)};Fe.dragover=Fe.dragenter=(n,t)=>t.preventDefault();Fe.drop=(n,t)=>{try{rO(n,t,n.dragging)}finally{n.dragging=null}};function rO(n,t,e){if(!t.dataTransfer)return;let i=n.posAtCoords(yf(t));if(!i)return;let s=n.state.doc.resolve(i.pos),l=e&&e.slice;l?n.someProp("transformPasted",v=>{l=v(l,n,!1)}):l=US(n,XS(t.dataTransfer),ha?null:t.dataTransfer.getData("text/html"),!1,s);let c=!!(e&&JS(n,t));if(n.someProp("handleDrop",v=>v(n,t,l||nt.empty,c))){t.preventDefault();return}if(!l)return;t.preventDefault();let u=l?Wx(n.state.doc,s.pos,l):s.pos;u==null&&(u=s.pos);let d=n.state.tr;if(c){let{node:v}=e;v?v.replace(d):d.deleteSelection()}let h=d.mapping.map(u),g=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,m=d.doc;if(g?d.replaceRangeWith(h,h,l.content.firstChild):d.replaceRange(h,h,l),d.doc.eq(m))return;let b=d.doc.resolve(h);if(g&&ht.isSelectable(l.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(l.content.firstChild))d.setSelection(new ht(b));else{let v=d.mapping.map(u);d.mapping.maps[d.mapping.maps.length-1].forEach((x,w,E,C)=>v=C),d.setSelection(Tm(n,b,d.doc.resolve(v)))}n.focus(),n.dispatch(d.setMeta("uiEvent","drop"))}Xe.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Gi(n)},20))};Xe.blur=(n,t)=>{let e=t;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),e.relatedTarget&&n.dom.contains(e.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Xe.beforeinput=(n,t)=>{if(Ee&&$i&&t.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:i}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=i||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",l=>l(n,ys(8,"Backspace")))))return;let{$cursor:s}=n.state.selection;s&&s.pos>0&&n.dispatch(n.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let n in Fe)Xe[n]=Fe[n];function ma(n,t){if(n==t)return!0;for(let e in n)if(n[e]!==t[e])return!1;for(let e in t)if(!(e in n))return!1;return!0}class Eu{constructor(t,e){this.toDOM=t,this.spec=e||Es,this.side=this.spec.side||0}map(t,e,i,s){let{pos:l,deleted:c}=t.mapResult(e.from+s,this.side<0?-1:1);return c?null:new Ke(l-i,l-i,this)}valid(){return!0}eq(t){return this==t||t instanceof Eu&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&ma(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Ur{constructor(t,e){this.attrs=t,this.spec=e||Es}map(t,e,i,s){let l=t.map(e.from+s,this.spec.inclusiveStart?-1:1)-i,c=t.map(e.to+s,this.spec.inclusiveEnd?1:-1)-i;return l>=c?null:new Ke(l,c,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof Ur&&ma(this.attrs,t.attrs)&&ma(this.spec,t.spec)}static is(t){return t.type instanceof Ur}destroy(){}}class Om{constructor(t,e){this.attrs=t,this.spec=e||Es}map(t,e,i,s){let l=t.mapResult(e.from+s,1);if(l.deleted)return null;let c=t.mapResult(e.to+s,-1);return c.deleted||c.pos<=l.pos?null:new Ke(l.pos-i,c.pos-i,this)}valid(t,e){let{index:i,offset:s}=t.content.findIndex(e.from),l;return s==e.from&&!(l=t.child(i)).isText&&s+l.nodeSize==e.to}eq(t){return this==t||t instanceof Om&&ma(this.attrs,t.attrs)&&ma(this.spec,t.spec)}destroy(){}}class Ke{constructor(t,e,i){this.from=t,this.to=e,this.type=i}copy(t,e){return new Ke(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,i){return this.type.map(t,this,e,i)}static widget(t,e,i){return new Ke(t,t,new Eu(e,i))}static inline(t,e,i,s){return new Ke(t,e,new Ur(i,s))}static node(t,e,i,s){return new Ke(t,e,new Om(i,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ur}get widget(){return this.type instanceof Eu}}const Mo=[],Es={};class ne{constructor(t,e){this.local=t.length?t:Mo,this.children=e.length?e:Mo}static create(t,e){return e.length?Tu(e,t,0,Es):Ue}find(t,e,i){let s=[];return this.findInner(t??0,e??1e9,s,0,i),s}findInner(t,e,i,s,l){for(let c=0;c<this.local.length;c++){let u=this.local[c];u.from<=e&&u.to>=t&&(!l||l(u.spec))&&i.push(u.copy(u.from+s,u.to+s))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<e&&this.children[c+1]>t){let u=this.children[c]+1;this.children[c+2].findInner(t-u,e-u,i,s+u,l)}}map(t,e,i){return this==Ue||t.maps.length==0?this:this.mapInner(t,e,0,0,i||Es)}mapInner(t,e,i,s,l){let c;for(let u=0;u<this.local.length;u++){let d=this.local[u].map(t,i,s);d&&d.type.valid(e,d)?(c||(c=[])).push(d):l.onRemove&&l.onRemove(this.local[u].spec)}return this.children.length?sO(this.children,c||[],t,e,i,s,l):c?new ne(c.sort(Ts),Mo):Ue}add(t,e){return e.length?this==Ue?ne.create(t,e):this.addInner(t,e,0):this}addInner(t,e,i){let s,l=0;t.forEach((u,d)=>{let h=d+i,g;if(g=ZS(e,u,h)){for(s||(s=this.children.slice());l<s.length&&s[l]<d;)l+=3;s[l]==d?s[l+2]=s[l+2].addInner(u,g,h+1):s.splice(l,0,d,d+u.nodeSize,Tu(g,u,h+1,Es)),l+=3}});let c=QS(l?WS(e):e,-i);for(let u=0;u<c.length;u++)c[u].type.valid(t,c[u])||c.splice(u--,1);return new ne(c.length?this.local.concat(c).sort(Ts):this.local,s||this.children)}remove(t){return t.length==0||this==Ue?this:this.removeInner(t,0)}removeInner(t,e){let i=this.children,s=this.local;for(let l=0;l<i.length;l+=3){let c,u=i[l]+e,d=i[l+1]+e;for(let g=0,m;g<t.length;g++)(m=t[g])&&m.from>u&&m.to<d&&(t[g]=null,(c||(c=[])).push(m));if(!c)continue;i==this.children&&(i=this.children.slice());let h=i[l+2].removeInner(c,u+1);h!=Ue?i[l+2]=h:(i.splice(l,3),l-=3)}if(s.length){for(let l=0,c;l<t.length;l++)if(c=t[l])for(let u=0;u<s.length;u++)s[u].eq(c,e)&&(s==this.local&&(s=this.local.slice()),s.splice(u--,1))}return i==this.children&&s==this.local?this:s.length||i.length?new ne(s,i):Ue}forChild(t,e){if(this==Ue)return this;if(e.isLeaf)return ne.empty;let i,s;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=t){this.children[u]==t&&(i=this.children[u+2]);break}let l=t+1,c=l+e.content.size;for(let u=0;u<this.local.length;u++){let d=this.local[u];if(d.from<c&&d.to>l&&d.type instanceof Ur){let h=Math.max(l,d.from)-l,g=Math.min(c,d.to)-l;h<g&&(s||(s=[])).push(d.copy(h,g))}}if(s){let u=new ne(s.sort(Ts),Mo);return i?new Or([u,i]):u}return i||Ue}eq(t){if(this==t)return!0;if(!(t instanceof ne)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return Nm(this.localsInner(t))}localsInner(t){if(this==Ue)return Mo;if(t.inlineContent||!this.local.some(Ur.is))return this.local;let e=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof Ur||e.push(this.local[i]);return e}forEachSet(t){t(this)}}ne.empty=new ne([],[]);ne.removeOverlap=Nm;const Ue=ne.empty;class Or{constructor(t){this.members=t}map(t,e){const i=this.members.map(s=>s.map(t,e,Es));return Or.from(i)}forChild(t,e){if(e.isLeaf)return ne.empty;let i=[];for(let s=0;s<this.members.length;s++){let l=this.members[s].forChild(t,e);l!=Ue&&(l instanceof Or?i=i.concat(l.members):i.push(l))}return Or.from(i)}eq(t){if(!(t instanceof Or)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,i=!0;for(let s=0;s<this.members.length;s++){let l=this.members[s].localsInner(t);if(l.length)if(!e)e=l;else{i&&(e=e.slice(),i=!1);for(let c=0;c<l.length;c++)e.push(l[c])}}return e?Nm(i?e:e.sort(Ts)):Mo}static from(t){switch(t.length){case 0:return Ue;case 1:return t[0];default:return new Or(t.every(e=>e instanceof ne)?t:t.reduce((e,i)=>e.concat(i instanceof ne?i:i.members),[]))}}forEachSet(t){for(let e=0;e<this.members.length;e++)this.members[e].forEachSet(t)}}function sO(n,t,e,i,s,l,c){let u=n.slice();for(let h=0,g=l;h<e.maps.length;h++){let m=0;e.maps[h].forEach((b,v,x,w)=>{let E=w-x-(v-b);for(let C=0;C<u.length;C+=3){let A=u[C+1];if(A<0||b>A+g-m)continue;let _=u[C]+g-m;v>=_?u[C+1]=b<=_?-2:-1:b>=g&&E&&(u[C]+=E,u[C+1]+=E)}m+=E}),g=e.maps[h].map(g,-1)}let d=!1;for(let h=0;h<u.length;h+=3)if(u[h+1]<0){if(u[h+1]==-2){d=!0,u[h+1]=-1;continue}let g=e.map(n[h]+l),m=g-s;if(m<0||m>=i.content.size){d=!0;continue}let b=e.map(n[h+1]+l,-1),v=b-s,{index:x,offset:w}=i.content.findIndex(m),E=i.maybeChild(x);if(E&&w==m&&w+E.nodeSize==v){let C=u[h+2].mapInner(e,E,g+1,n[h]+l+1,c);C!=Ue?(u[h]=m,u[h+1]=v,u[h+2]=C):(u[h+1]=-2,d=!0)}else d=!0}if(d){let h=oO(u,n,t,e,s,l,c),g=Tu(h,i,0,c);t=g.local;for(let m=0;m<u.length;m+=3)u[m+1]<0&&(u.splice(m,3),m-=3);for(let m=0,b=0;m<g.children.length;m+=3){let v=g.children[m];for(;b<u.length&&u[b]<v;)b+=3;u.splice(b,0,g.children[m],g.children[m+1],g.children[m+2])}}return new ne(t.sort(Ts),u)}function QS(n,t){if(!t||!n.length)return n;let e=[];for(let i=0;i<n.length;i++){let s=n[i];e.push(new Ke(s.from+t,s.to+t,s.type))}return e}function oO(n,t,e,i,s,l,c){function u(d,h){for(let g=0;g<d.local.length;g++){let m=d.local[g].map(i,s,h);m?e.push(m):c.onRemove&&c.onRemove(d.local[g].spec)}for(let g=0;g<d.children.length;g+=3)u(d.children[g+2],d.children[g]+h+1)}for(let d=0;d<n.length;d+=3)n[d+1]==-1&&u(n[d+2],t[d]+l+1);return e}function ZS(n,t,e){if(t.isLeaf)return null;let i=e+t.nodeSize,s=null;for(let l=0,c;l<n.length;l++)(c=n[l])&&c.from>e&&c.to<i&&((s||(s=[])).push(c),n[l]=null);return s}function WS(n){let t=[];for(let e=0;e<n.length;e++)n[e]!=null&&t.push(n[e]);return t}function Tu(n,t,e,i){let s=[],l=!1;t.forEach((u,d)=>{let h=ZS(n,u,d+e);if(h){l=!0;let g=Tu(h,u,e+d+1,i);g!=Ue&&s.push(d,d+u.nodeSize,g)}});let c=QS(l?WS(n):n,-e).sort(Ts);for(let u=0;u<c.length;u++)c[u].type.valid(t,c[u])||(i.onRemove&&i.onRemove(c[u].spec),c.splice(u--,1));return c.length||s.length?new ne(c,s):Ue}function Ts(n,t){return n.from-t.from||n.to-t.to}function Nm(n){let t=n;for(let e=0;e<t.length-1;e++){let i=t[e];if(i.from!=i.to)for(let s=e+1;s<t.length;s++){let l=t[s];if(l.from==i.from){l.to!=i.to&&(t==n&&(t=n.slice()),t[s]=l.copy(l.from,i.to),n1(t,s+1,l.copy(i.to,l.to)));continue}else{l.from<i.to&&(t==n&&(t=n.slice()),t[e]=i.copy(i.from,l.from),n1(t,s,i.copy(l.from,i.to)));break}}}return t}function n1(n,t,e){for(;t<n.length&&Ts(e,n[t])>0;)t++;n.splice(t,0,e)}function ap(n){let t=[];return n.someProp("decorations",e=>{let i=e(n.state);i&&i!=Ue&&t.push(i)}),n.cursorWrapper&&t.push(ne.create(n.state.doc,[n.cursorWrapper.deco])),Or.from(t)}const lO={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},aO=cn&&_r<=11;class cO{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class uO{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new cO,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let s=0;s<i.length;s++)this.queue.push(i[s]);cn&&_r<=11&&i.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():Le&&t.composing&&i.some(s=>s.type=="childList"&&s.target.nodeName=="TR")?(t.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),aO&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,lO)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Xv(this.view)){if(this.suppressingSelectionUpdates)return Gi(this.view);if(cn&&_r<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&As(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e=new Set,i;for(let l=t.focusNode;l;l=Bo(l))e.add(l);for(let l=t.anchorNode;l;l=Bo(l))if(e.has(l)){i=l;break}let s=i&&this.view.docView.nearestDesc(i);if(s&&s.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.pendingRecords();e.length&&(this.queue=[]);let i=t.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&Xv(t)&&!this.ignoreSelectionChange(i),l=-1,c=-1,u=!1,d=[];if(t.editable)for(let g=0;g<e.length;g++){let m=this.registerMutation(e[g],d);m&&(l=l<0?m.from:Math.min(m.from,l),c=c<0?m.to:Math.max(m.to,c),m.typeOver&&(u=!0))}if(Hn&&d.length){let g=d.filter(m=>m.nodeName=="BR");if(g.length==2){let[m,b]=g;m.parentNode&&m.parentNode.parentNode==b.parentNode?b.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let b of g){let v=b.parentNode;v&&v.nodeName=="LI"&&(!m||hO(t,m)!=v)&&b.remove()}}}else if((Ee||Le)&&d.some(g=>g.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let g of d)if(g.nodeName=="BR"&&g.parentNode){let m=g.nextSibling;m&&m.nodeType==1&&m.contentEditable=="false"&&g.parentNode.removeChild(g)}}let h=null;l<0&&s&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&mf(i)&&(h=Em(t))&&h.eq(vt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Gi(t),this.currentSelection.set(i),t.scrollToSelection()):(l>-1||s)&&(l>-1&&(t.docView.markDirty(l,c),fO(t)),t.input.badSafariComposition&&(t.input.badSafariComposition=!1,pO(t,d)),this.handleDOMChange(l,c,u,d),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(i)||Gi(t),this.currentSelection.set(i))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let i=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(i==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!i||i.ignoreMutation(t))return null;if(t.type=="childList"){for(let g=0;g<t.addedNodes.length;g++){let m=t.addedNodes[g];e.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(t.target))return{from:i.posBefore,to:i.posAfter};let s=t.previousSibling,l=t.nextSibling;if(cn&&_r<=11&&t.addedNodes.length)for(let g=0;g<t.addedNodes.length;g++){let{previousSibling:m,nextSibling:b}=t.addedNodes[g];(!m||Array.prototype.indexOf.call(t.addedNodes,m)<0)&&(s=m),(!b||Array.prototype.indexOf.call(t.addedNodes,b)<0)&&(l=b)}let c=s&&s.parentNode==t.target?Re(s)+1:0,u=i.localPosFromDOM(t.target,c,-1),d=l&&l.parentNode==t.target?Re(l):t.target.childNodes.length,h=i.localPosFromDOM(t.target,d,1);return{from:u,to:h}}else return t.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=t.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let i1=new WeakMap,r1=!1;function fO(n){if(!i1.has(n)&&(i1.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Hn,r1)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),r1=!0}}function s1(n,t){let e=t.startContainer,i=t.startOffset,s=t.endContainer,l=t.endOffset,c=n.domAtPos(n.state.selection.anchor);return As(c.node,c.offset,s,l)&&([e,i,s,l]=[s,l,e,i]),{anchorNode:e,anchorOffset:i,focusNode:s,focusOffset:l}}function dO(n,t){if(t.getComposedRanges){let s=t.getComposedRanges(n.root)[0];if(s)return s1(n,s)}let e;function i(s){s.preventDefault(),s.stopImmediatePropagation(),e=s.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",i,!0),e?s1(n,e):null}function hO(n,t){for(let e=t.parentNode;e&&e!=n.dom;e=e.parentNode){let i=n.docView.nearestDesc(e,!0);if(i&&i.node.isBlock)return e}return null}function pO(n,t){var e;let{focusNode:i,focusOffset:s}=n.domSelectionRange();for(let l of t)if(((e=l.parentNode)===null||e===void 0?void 0:e.nodeName)=="TR"){let c=l.nextSibling;for(;c&&c.nodeName!="TD"&&c.nodeName!="TH";)c=c.nextSibling;if(c){let u=c;for(;;){let d=u.firstChild;if(!d||d.nodeType!=1||d.contentEditable=="false"||/^(BR|IMG)$/.test(d.nodeName))break;u=d}u.insertBefore(l,u.firstChild),i==l&&n.domSelection().collapse(l,s)}else l.parentNode.removeChild(l)}}function mO(n,t,e){let{node:i,fromOffset:s,toOffset:l,from:c,to:u}=n.docView.parseRange(t,e),d=n.domSelectionRange(),h,g=d.anchorNode;if(g&&n.dom.contains(g.nodeType==1?g:g.parentNode)&&(h=[{node:g,offset:d.anchorOffset}],mf(d)||h.push({node:d.focusNode,offset:d.focusOffset})),Ee&&n.input.lastKeyCode===8)for(let E=l;E>s;E--){let C=i.childNodes[E-1],A=C.pmViewDesc;if(C.nodeName=="BR"&&!A){l=E;break}if(!A||A.size)break}let m=n.state.doc,b=n.someProp("domParser")||Br.fromSchema(n.state.schema),v=m.resolve(c),x=null,w=b.parse(i,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:s,to:l,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:gO,context:v});if(h&&h[0].pos!=null){let E=h[0].pos,C=h[1]&&h[1].pos;C==null&&(C=E),x={anchor:E+c,head:C+c}}return{doc:w,sel:x,from:c,to:u}}function gO(n){let t=n.pmViewDesc;if(t)return t.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Le&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}else if(n.parentNode.lastChild==n||Le&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const yO=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function bO(n,t,e,i,s){let l=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,t<0){let N=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,j=Em(n,N);if(j&&!n.state.selection.eq(j)){if(Ee&&$i&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",et=>et(n,ys(13,"Enter"))))return;let W=n.state.tr.setSelection(j);N=="pointer"?W.setMeta("pointer",!0):N=="key"&&W.scrollIntoView(),l&&W.setMeta("composition",l),n.dispatch(W)}return}let c=n.state.doc.resolve(t),u=c.sharedDepth(e);t=c.before(u+1),e=n.state.doc.resolve(e).after(u+1);let d=n.state.selection,h=mO(n,t,e),g=n.state.doc,m=g.slice(h.from,h.to),b,v;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(b=n.state.selection.to,v="end"):(b=n.state.selection.from,v="start"),n.input.lastKeyCode=null;let x=SO(m.content,h.doc.content,h.from,b,v);if(x&&n.input.domChangeCount++,(_o&&n.input.lastIOSEnter>Date.now()-225||$i)&&s.some(N=>N.nodeType==1&&!yO.test(N.nodeName))&&(!x||x.endA>=x.endB)&&n.someProp("handleKeyDown",N=>N(n,ys(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!x)if(i&&d instanceof St&&!d.empty&&d.$head.sameParent(d.$anchor)&&!n.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))x={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let N=o1(n,n.state.doc,h.sel);if(N&&!N.eq(n.state.selection)){let j=n.state.tr.setSelection(N);l&&j.setMeta("composition",l),n.dispatch(j)}}return}n.state.selection.from<n.state.selection.to&&x.start==x.endB&&n.state.selection instanceof St&&(x.start>n.state.selection.from&&x.start<=n.state.selection.from+2&&n.state.selection.from>=h.from?x.start=n.state.selection.from:x.endA<n.state.selection.to&&x.endA>=n.state.selection.to-2&&n.state.selection.to<=h.to&&(x.endB+=n.state.selection.to-x.endA,x.endA=n.state.selection.to)),cn&&_r<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>h.from&&h.doc.textBetween(x.start-h.from-1,x.start-h.from+1)==" "&&(x.start--,x.endA--,x.endB--);let w=h.doc.resolveNoCache(x.start-h.from),E=h.doc.resolveNoCache(x.endB-h.from),C=g.resolve(x.start),A=w.sameParent(E)&&w.parent.inlineContent&&C.end()>=x.endA;if((_o&&n.input.lastIOSEnter>Date.now()-225&&(!A||s.some(N=>N.nodeName=="DIV"||N.nodeName=="P"))||!A&&w.pos<h.doc.content.size&&(!w.sameParent(E)||!w.parent.inlineContent)&&w.pos<E.pos&&!/\S/.test(h.doc.textBetween(w.pos,E.pos,"","")))&&n.someProp("handleKeyDown",N=>N(n,ys(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>x.start&&xO(g,x.start,x.endA,w,E)&&n.someProp("handleKeyDown",N=>N(n,ys(8,"Backspace")))){$i&&Ee&&n.domObserver.suppressSelectionUpdates();return}Ee&&x.endB==x.start&&(n.input.lastChromeDelete=Date.now()),$i&&!A&&w.start()!=E.start()&&E.parentOffset==0&&w.depth==E.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==x.endA&&(x.endB-=2,E=h.doc.resolveNoCache(x.endB-h.from),setTimeout(()=>{n.someProp("handleKeyDown",function(N){return N(n,ys(13,"Enter"))})},20));let _=x.start,V=x.endA,H=N=>{let j=N||n.state.tr.replace(_,V,h.doc.slice(x.start-h.from,x.endB-h.from));if(h.sel){let W=o1(n,j.doc,h.sel);W&&!(Ee&&n.composing&&W.empty&&(x.start!=x.endB||n.input.lastChromeDelete<Date.now()-100)&&(W.head==_||W.head==j.mapping.map(V)-1)||cn&&W.empty&&W.head==_)&&j.setSelection(W)}return l&&j.setMeta("composition",l),j.scrollIntoView()},$;if(A)if(w.pos==E.pos){cn&&_r<=11&&w.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Gi(n),20));let N=H(n.state.tr.delete(_,V)),j=g.resolve(x.start).marksAcross(g.resolve(x.endA));j&&N.ensureMarks(j),n.dispatch(N)}else if(x.endA==x.endB&&($=vO(w.parent.content.cut(w.parentOffset,E.parentOffset),C.parent.content.cut(C.parentOffset,x.endA-C.start())))){let N=H(n.state.tr);$.type=="add"?N.addMark(_,V,$.mark):N.removeMark(_,V,$.mark),n.dispatch(N)}else if(w.parent.child(w.index()).isText&&w.index()==E.index()-(E.textOffset?0:1)){let N=w.parent.textBetween(w.parentOffset,E.parentOffset),j=()=>H(n.state.tr.insertText(N,_,V));n.someProp("handleTextInput",W=>W(n,_,V,N,j))||n.dispatch(j())}else n.dispatch(H());else n.dispatch(H())}function o1(n,t,e){return Math.max(e.anchor,e.head)>t.content.size?null:Tm(n,t.resolve(e.anchor),t.resolve(e.head))}function vO(n,t){let e=n.firstChild.marks,i=t.firstChild.marks,s=e,l=i,c,u,d;for(let g=0;g<i.length;g++)s=i[g].removeFromSet(s);for(let g=0;g<e.length;g++)l=e[g].removeFromSet(l);if(s.length==1&&l.length==0)u=s[0],c="add",d=g=>g.mark(u.addToSet(g.marks));else if(s.length==0&&l.length==1)u=l[0],c="remove",d=g=>g.mark(u.removeFromSet(g.marks));else return null;let h=[];for(let g=0;g<t.childCount;g++)h.push(d(t.child(g)));if(F.from(h).eq(n))return{mark:u,type:c}}function xO(n,t,e,i,s){if(e-t<=s.pos-i.pos||cp(i,!0,!1)<s.pos)return!1;let l=n.resolve(t);if(!i.parent.isTextblock){let u=l.nodeAfter;return u!=null&&e==t+u.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let c=n.resolve(cp(l,!0,!0));return!c.parent.isTextblock||c.pos>e||cp(c,!0,!1)<e?!1:i.parent.content.cut(i.parentOffset).eq(c.parent.content)}function cp(n,t,e){let i=n.depth,s=t?n.end():n.pos;for(;i>0&&(t||n.indexAfter(i)==n.node(i).childCount);)i--,s++,t=!1;if(e){let l=n.node(i).maybeChild(n.indexAfter(i));for(;l&&!l.isLeaf;)l=l.firstChild,s++}return s}function SO(n,t,e,i,s){let l=n.findDiffStart(t,e);if(l==null)return null;let{a:c,b:u}=n.findDiffEnd(t,e+n.size,e+t.size);if(s=="end"){let d=Math.max(0,l-Math.min(c,u));i-=c+d-l}if(c<l&&n.size<t.size){let d=i<=l&&i>=c?l-i:0;l-=d,l&&l<t.size&&l1(t.textBetween(l-1,l+1))&&(l+=d?1:-1),u=l+(u-c),c=l}else if(u<l){let d=i<=l&&i>=u?l-i:0;l-=d,l&&l<n.size&&l1(n.textBetween(l-1,l+1))&&(l+=d?1:-1),c=l+(c-u),u=l}return{start:l,endA:c,endB:u}}function l1(n){if(n.length!=2)return!1;let t=n.charCodeAt(0),e=n.charCodeAt(1);return t>=56320&&t<=57343&&e>=55296&&e<=56319}class tw{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new HA,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(d1),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=u1(this),c1(this),this.nodeViews=f1(this),this.docView=qv(this.state.doc,a1(this),ap(this),this.dom,this),this.domObserver=new uO(this,(i,s,l,c)=>bO(this,i,s,l,c)),this.domObserver.start(),UA(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Yp(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(d1),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let i in this._props)e[i]=this._props[i];e.state=this.state;for(let i in t)e[i]=t[i];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){var i;let s=this.state,l=!1,c=!1;t.storedMarks&&this.composing&&(KS(this),c=!0),this.state=t;let u=s.plugins!=t.plugins||this._props.plugins!=e.plugins;if(u||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let v=f1(this);EO(v,this.nodeViews)&&(this.nodeViews=v,l=!0)}(u||e.handleDOMEvents!=this._props.handleDOMEvents)&&Yp(this),this.editable=u1(this),c1(this);let d=ap(this),h=a1(this),g=s.plugins!=t.plugins&&!s.doc.eq(t.doc)?"reset":t.scrollToSelection>s.scrollToSelection?"to selection":"preserve",m=l||!this.docView.matchesNode(t.doc,h,d);(m||!t.selection.eq(s.selection))&&(c=!0);let b=g=="preserve"&&c&&this.dom.style.overflowAnchor==null&&ZM(this);if(c){this.domObserver.stop();let v=m&&(cn||Ee)&&!this.composing&&!s.selection.empty&&!t.selection.empty&&wO(s.selection,t.selection);if(m){let x=Ee?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=ZA(this)),(l||!this.docView.update(t.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=qv(t.doc,h,d,this.dom,this)),x&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&wA(this))?Gi(this,v):(BS(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((i=this.dragging)===null||i===void 0)&&i.node&&!s.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,s),g=="reset"?this.dom.scrollTop=0:g=="to selection"?this.scrollToSelection():b&&WM(b)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",e=>e(this)))if(this.state.selection instanceof ht){let e=this.docView.domAfterPos(this.state.selection.from);e.nodeType==1&&_v(this,e.getBoundingClientRect(),t)}else _v(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let i=this.directPlugins[e];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let i=this.state.plugins[e];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let e=0;e<this.pluginViews.length;e++){let i=this.pluginViews[e];i.update&&i.update(this,t)}}updateDraggedNode(t,e){let i=t.node,s=-1;if(this.state.doc.nodeAt(i.from)==i.node)s=i.from;else{let l=i.from+(this.state.doc.content.size-e.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==i.node&&(s=l)}this.dragging=new FS(t.slice,t.move,s<0?void 0:ht.create(this.state.doc,s))}someProp(t,e){let i=this._props&&this._props[t],s;if(i!=null&&(s=e?e(i):i))return s;for(let c=0;c<this.directPlugins.length;c++){let u=this.directPlugins[c].props[t];if(u!=null&&(s=e?e(u):u))return s}let l=this.state.plugins;if(l)for(let c=0;c<l.length;c++){let u=l[c].props[t];if(u!=null&&(s=e?e(u):u))return s}}hasFocus(){if(cn){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&tA(this.dom),Gi(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let e=this.dom.parentNode;e;e=e.parentNode)if(e.nodeType==9||e.nodeType==11&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e}return t||document}updateRoot(){this._root=null}posAtCoords(t){return sA(this,t)}coordsAtPos(t,e=1){return MS(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,i=-1){let s=this.docView.posFromDOM(t,e,i);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(t,e){return uA(this,e||this.state,t)}pasteHTML(t,e){return pa(this,"",t,!1,e||new ClipboardEvent("paste"))}pasteText(t,e){return pa(this,t,null,!0,e||new ClipboardEvent("paste"))}serializeForClipboard(t){return Cm(this,t)}destroy(){this.docView&&(jA(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ap(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,qM())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return VA(this,t)}domSelectionRange(){let t=this.domSelection();return t?Le&&this.root.nodeType===11&&KM(this.dom.ownerDocument)==this.dom&&dO(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}tw.prototype.dispatch=function(n){let t=this._props.dispatchTransaction;t?t.call(this,n):this.updateState(this.state.apply(n))};function a1(n){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(n.editable),n.someProp("attributes",e=>{if(typeof e=="function"&&(e=e(n.state)),e)for(let i in e)i=="class"?t.class+=" "+e[i]:i=="style"?t.style=(t.style?t.style+";":"")+e[i]:!t[i]&&i!="contenteditable"&&i!="nodeName"&&(t[i]=String(e[i]))}),t.translate||(t.translate="no"),[Ke.node(0,n.state.doc.content.size,t)]}function c1(n){if(n.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),n.cursorWrapper={dom:t,deco:Ke.widget(n.state.selection.from,t,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function u1(n){return!n.someProp("editable",t=>t(n.state)===!1)}function wO(n,t){let e=Math.min(n.$anchor.sharedDepth(n.head),t.$anchor.sharedDepth(t.head));return n.$anchor.start(e)!=t.$anchor.start(e)}function f1(n){let t=Object.create(null);function e(i){for(let s in i)Object.prototype.hasOwnProperty.call(t,s)||(t[s]=i[s])}return n.someProp("nodeViews",e),n.someProp("markViews",e),t}function EO(n,t){let e=0,i=0;for(let s in n){if(n[s]!=t[s])return!0;e++}for(let s in t)i++;return e!=i}function d1(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var jr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Cu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},TO=typeof navigator<"u"&&/Mac/.test(navigator.platform),CO=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ze=0;ze<10;ze++)jr[48+ze]=jr[96+ze]=String(ze);for(var ze=1;ze<=24;ze++)jr[ze+111]="F"+ze;for(var ze=65;ze<=90;ze++)jr[ze]=String.fromCharCode(ze+32),Cu[ze]=String.fromCharCode(ze);for(var up in jr)Cu.hasOwnProperty(up)||(Cu[up]=jr[up]);function kO(n){var t=TO&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||CO&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",e=!t&&n.key||(n.shiftKey?Cu:jr)[n.keyCode]||n.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}const MO=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),AO=typeof navigator<"u"&&/Win/.test(navigator.platform);function OO(n){let t=n.split(/-(?!$)/),e=t[t.length-1];e=="Space"&&(e=" ");let i,s,l,c;for(let u=0;u<t.length-1;u++){let d=t[u];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))i=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))l=!0;else if(/^mod$/i.test(d))MO?c=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return i&&(e="Alt-"+e),s&&(e="Ctrl-"+e),c&&(e="Meta-"+e),l&&(e="Shift-"+e),e}function NO(n){let t=Object.create(null);for(let e in n)t[OO(e)]=n[e];return t}function fp(n,t,e=!0){return t.altKey&&(n="Alt-"+n),t.ctrlKey&&(n="Ctrl-"+n),t.metaKey&&(n="Meta-"+n),e&&t.shiftKey&&(n="Shift-"+n),n}function DO(n){return new Qt({props:{handleKeyDown:Dm(n)}})}function Dm(n){let t=NO(n);return function(e,i){let s=kO(i),l,c=t[fp(s,i)];if(c&&c(e.state,e.dispatch,e))return!0;if(s.length==1&&s!=" "){if(i.shiftKey){let u=t[fp(s,i,!1)];if(u&&u(e.state,e.dispatch,e))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(AO&&i.ctrlKey&&i.altKey)&&(l=jr[i.keyCode])&&l!=s){let u=t[fp(l,i)];if(u&&u(e.state,e.dispatch,e))return!0}}return!1}}var RO=Object.defineProperty,Rm=(n,t)=>{for(var e in t)RO(n,e,{get:t[e],enumerable:!0})};function bf(n){const{state:t,transaction:e}=n;let{selection:i}=e,{doc:s}=e,{storedMarks:l}=e;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return l},get selection(){return i},get doc(){return s},get tr(){return i=e.selection,s=e.doc,l=e.storedMarks,e}}}var vf=class{constructor(n){this.editor=n.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=n.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:n,editor:t,state:e}=this,{view:i}=t,{tr:s}=e,l=this.buildProps(s);return Object.fromEntries(Object.entries(n).map(([c,u])=>[c,(...h)=>{const g=u(...h)(l);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),g}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(n,t=!0){const{rawCommands:e,editor:i,state:s}=this,{view:l}=i,c=[],u=!!n,d=n||s.tr,h=()=>(!u&&t&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(d),c.every(m=>m===!0)),g={...Object.fromEntries(Object.entries(e).map(([m,b])=>[m,(...x)=>{const w=this.buildProps(d,t),E=b(...x)(w);return c.push(E),g}])),run:h};return g}createCan(n){const{rawCommands:t,state:e}=this,i=!1,s=n||e.tr,l=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(t).map(([u,d])=>[u,(...h)=>d(...h)({...l,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(n,t=!0){const{rawCommands:e,editor:i,state:s}=this,{view:l}=i,c={tr:n,editor:i,view:l,state:bf({state:s,transaction:n}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(n,t),can:()=>this.createCan(n),get commands(){return Object.fromEntries(Object.entries(e).map(([u,d])=>[u,(...h)=>d(...h)(c)]))}};return c}},ew={};Rm(ew,{blur:()=>zO,clearContent:()=>LO,clearNodes:()=>BO,command:()=>_O,createParagraphNear:()=>HO,cut:()=>UO,deleteCurrentNode:()=>jO,deleteNode:()=>IO,deleteRange:()=>VO,deleteSelection:()=>qO,enter:()=>$O,exitCode:()=>YO,extendMarkRange:()=>PO,first:()=>GO,focus:()=>XO,forEach:()=>FO,insertContent:()=>JO,insertContentAt:()=>WO,joinBackward:()=>n2,joinDown:()=>e2,joinForward:()=>i2,joinItemBackward:()=>r2,joinItemForward:()=>s2,joinTextblockBackward:()=>o2,joinTextblockForward:()=>l2,joinUp:()=>t2,keyboardShortcut:()=>c2,lift:()=>u2,liftEmptyBlock:()=>f2,liftListItem:()=>d2,newlineInCode:()=>h2,resetAttributes:()=>p2,scrollIntoView:()=>m2,selectAll:()=>g2,selectNodeBackward:()=>y2,selectNodeForward:()=>b2,selectParentNode:()=>v2,selectTextblockEnd:()=>x2,selectTextblockStart:()=>S2,setContent:()=>w2,setMark:()=>V2,setMeta:()=>q2,setNode:()=>$2,setNodeSelection:()=>Y2,setTextDirection:()=>P2,setTextSelection:()=>G2,sinkListItem:()=>K2,splitBlock:()=>X2,splitListItem:()=>F2,toggleList:()=>J2,toggleMark:()=>Q2,toggleNode:()=>Z2,toggleWrap:()=>W2,undoInputRule:()=>tN,unsetAllMarks:()=>eN,unsetMark:()=>nN,unsetTextDirection:()=>iN,updateAttributes:()=>rN,wrapIn:()=>sN,wrapInList:()=>oN});var zO=()=>({editor:n,view:t})=>(requestAnimationFrame(()=>{var e;n.isDestroyed||(t.dom.blur(),(e=window?.getSelection())==null||e.removeAllRanges())}),!0),LO=(n=!0)=>({commands:t})=>t.setContent("",{emitUpdate:n}),BO=()=>({state:n,tr:t,dispatch:e})=>{const{selection:i}=t,{ranges:s}=i;return e&&s.forEach(({$from:l,$to:c})=>{n.doc.nodesBetween(l.pos,c.pos,(u,d)=>{if(u.type.isText)return;const{doc:h,mapping:g}=t,m=h.resolve(g.map(d)),b=h.resolve(g.map(d+u.nodeSize)),v=m.blockRange(b);if(!v)return;const x=$o(v);if(u.type.isTextblock){const{defaultType:w}=m.parent.contentMatchAt(m.index());t.setNodeMarkup(v.start,w)}(x||x===0)&&t.lift(v,x)})}),!0},_O=n=>t=>n(t),HO=()=>({state:n,dispatch:t})=>gS(n,t),UO=(n,t)=>({editor:e,tr:i})=>{const{state:s}=e,l=s.doc.slice(n.from,n.to);i.deleteRange(n.from,n.to);const c=i.mapping.map(t);return i.insert(c,l.content),i.setSelection(new St(i.doc.resolve(Math.max(c-1,0)))),!0},jO=()=>({tr:n,dispatch:t})=>{const{selection:e}=n,i=e.$anchor.node();if(i.content.size>0)return!1;const s=n.selection.$anchor;for(let l=s.depth;l>0;l-=1)if(s.node(l).type===i.type){if(t){const u=s.before(l),d=s.after(l);n.delete(u,d).scrollIntoView()}return!0}return!1};function me(n,t){if(typeof n=="string"){if(!t.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return t.nodes[n]}return n}var IO=n=>({tr:t,state:e,dispatch:i})=>{const s=me(n,e.schema),l=t.selection.$anchor;for(let c=l.depth;c>0;c-=1)if(l.node(c).type===s){if(i){const d=l.before(c),h=l.after(c);t.delete(d,h).scrollIntoView()}return!0}return!1},VO=n=>({tr:t,dispatch:e})=>{const{from:i,to:s}=n;return e&&t.delete(i,s),!0},qO=()=>({state:n,dispatch:t})=>ym(n,t),$O=()=>({commands:n})=>n.keyboardShortcut("Enter"),YO=()=>({state:n,dispatch:t})=>MM(n,t);function zm(n){return Object.prototype.toString.call(n)==="[object RegExp]"}function ku(n,t,e={strict:!0}){const i=Object.keys(t);return i.length?i.every(s=>e.strict?t[s]===n[s]:zm(t[s])?t[s].test(n[s]):t[s]===n[s]):!0}function nw(n,t,e={}){return n.find(i=>i.type===t&&ku(Object.fromEntries(Object.keys(e).map(s=>[s,i.attrs[s]])),e))}function h1(n,t,e={}){return!!nw(n,t,e)}function Lm(n,t,e){var i;if(!n||!t)return;let s=n.parent.childAfter(n.parentOffset);if((!s.node||!s.node.marks.some(g=>g.type===t))&&(s=n.parent.childBefore(n.parentOffset)),!s.node||!s.node.marks.some(g=>g.type===t)||(e=e||((i=s.node.marks[0])==null?void 0:i.attrs),!nw([...s.node.marks],t,e)))return;let c=s.index,u=n.start()+s.offset,d=c+1,h=u+s.node.nodeSize;for(;c>0&&h1([...n.parent.child(c-1).marks],t,e);)c-=1,u-=n.parent.child(c).nodeSize;for(;d<n.parent.childCount&&h1([...n.parent.child(d).marks],t,e);)h+=n.parent.child(d).nodeSize,d+=1;return{from:u,to:h}}function Ki(n,t){if(typeof n=="string"){if(!t.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return t.marks[n]}return n}var PO=(n,t={})=>({tr:e,state:i,dispatch:s})=>{const l=Ki(n,i.schema),{doc:c,selection:u}=e,{$from:d,from:h,to:g}=u;if(s){const m=Lm(d,l,t);if(m&&m.from<=h&&m.to>=g){const b=St.create(c,m.from,m.to);e.setSelection(b)}}return!0},GO=n=>t=>{const e=typeof n=="function"?n(t):n;for(let i=0;i<e.length;i+=1)if(e[i](t))return!0;return!1};function Bm(n){return n instanceof St}function Yi(n=0,t=0,e=0){return Math.min(Math.max(n,t),e)}function iw(n,t=null){if(!t)return null;const e=vt.atStart(n),i=vt.atEnd(n);if(t==="start"||t===!0)return e;if(t==="end")return i;const s=e.from,l=i.to;return t==="all"?St.create(n,Yi(0,s,l),Yi(n.content.size,s,l)):St.create(n,Yi(t,s,l),Yi(t,s,l))}function p1(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Mu(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function KO(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var XO=(n=null,t={})=>({editor:e,view:i,tr:s,dispatch:l})=>{t={scrollIntoView:!0,...t};const c=()=>{(Mu()||p1())&&i.dom.focus(),KO()&&!Mu()&&!p1()&&i.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{e.isDestroyed||(i.focus(),t?.scrollIntoView&&e.commands.scrollIntoView())})};try{if(i.hasFocus()&&n===null||n===!1)return!0}catch{return!1}if(l&&n===null&&!Bm(e.state.selection))return c(),!0;const u=iw(s.doc,n)||e.state.selection,d=e.state.selection.eq(u);return l&&(d||s.setSelection(u),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),c()),!0},FO=(n,t)=>e=>n.every((i,s)=>t(i,{...e,index:s})),JO=(n,t)=>({tr:e,commands:i})=>i.insertContentAt({from:e.selection.from,to:e.selection.to},n,t),rw=n=>{const t=n.childNodes;for(let e=t.length-1;e>=0;e-=1){const i=t[e];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?n.removeChild(i):i.nodeType===1&&rw(i)}return n};function Pc(n){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${n}</body>`,e=new window.DOMParser().parseFromString(t,"text/html").body;return rw(e)}function ga(n,t,e){if(n instanceof Lr||n instanceof F)return n;e={slice:!0,parseOptions:{},...e};const i=typeof n=="object"&&n!==null,s=typeof n=="string";if(i)try{if(Array.isArray(n)&&n.length>0)return F.fromArray(n.map(u=>t.nodeFromJSON(u)));const c=t.nodeFromJSON(n);return e.errorOnInvalidContent&&c.check(),c}catch(l){if(e.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",l),ga("",t,e)}if(s){if(e.errorOnInvalidContent){let c=!1,u="";const d=new qx({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(c=!0,u=typeof h=="string"?h:h.outerHTML,null)}]}})});if(e.slice?Br.fromSchema(d).parseSlice(Pc(n),e.parseOptions):Br.fromSchema(d).parse(Pc(n),e.parseOptions),e.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const l=Br.fromSchema(t);return e.slice?l.parseSlice(Pc(n),e.parseOptions).content:l.parse(Pc(n),e.parseOptions)}return ga("",t,e)}function QO(n,t,e){const i=n.steps.length-1;if(i<t)return;const s=n.steps[i];if(!(s instanceof we||s instanceof Te))return;const l=n.mapping.maps[i];let c=0;l.forEach((u,d,h,g)=>{c===0&&(c=g)}),n.setSelection(vt.near(n.doc.resolve(c),e))}var ZO=n=>!("type"in n),WO=(n,t,e)=>({tr:i,dispatch:s,editor:l})=>{var c;if(s){e={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...e};let u;const d=E=>{l.emit("contentError",{editor:l,error:E,disableCollaboration:()=>{"collaboration"in l.storage&&typeof l.storage.collaboration=="object"&&l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...e.parseOptions};if(!e.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{ga(t,l.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(E){d(E)}try{u=ga(t,l.schema,{parseOptions:h,errorOnInvalidContent:(c=e.errorOnInvalidContent)!=null?c:l.options.enableContentCheck})}catch(E){return d(E),!1}let{from:g,to:m}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},b=!0,v=!0;if((ZO(u)?u:[u]).forEach(E=>{E.check(),b=b?E.isText&&E.marks.length===0:!1,v=v?E.isBlock:!1}),g===m&&v){const{parent:E}=i.doc.resolve(g);E.isTextblock&&!E.type.spec.code&&!E.childCount&&(g-=1,m+=1)}let w;if(b){if(Array.isArray(t))w=t.map(E=>E.text||"").join("");else if(t instanceof F){let E="";t.forEach(C=>{C.text&&(E+=C.text)}),w=E}else typeof t=="object"&&t&&t.text?w=t.text:w=t;i.insertText(w,g,m)}else{w=u;const E=i.doc.resolve(g),C=E.node(),A=E.parentOffset===0,_=C.isText||C.isTextblock,V=C.content.size>0;A&&_&&V&&(g=Math.max(0,g-1)),i.replaceWith(g,m,w)}e.updateSelection&&QO(i,i.steps.length-1,-1),e.applyInputRules&&i.setMeta("applyInputRules",{from:g,text:w}),e.applyPasteRules&&i.setMeta("applyPasteRules",{from:g,text:w})}return!0},t2=()=>({state:n,dispatch:t})=>TM(n,t),e2=()=>({state:n,dispatch:t})=>CM(n,t),n2=()=>({state:n,dispatch:t})=>cS(n,t),i2=()=>({state:n,dispatch:t})=>hS(n,t),r2=()=>({state:n,dispatch:t,tr:e})=>{try{const i=df(n.doc,n.selection.$from.pos,-1);return i==null?!1:(e.join(i,2),t&&t(e),!0)}catch{return!1}},s2=()=>({state:n,dispatch:t,tr:e})=>{try{const i=df(n.doc,n.selection.$from.pos,1);return i==null?!1:(e.join(i,2),t&&t(e),!0)}catch{return!1}},o2=()=>({state:n,dispatch:t})=>wM(n,t),l2=()=>({state:n,dispatch:t})=>EM(n,t);function sw(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function a2(n){const t=n.split(/-(?!$)/);let e=t[t.length-1];e==="Space"&&(e=" ");let i,s,l,c;for(let u=0;u<t.length-1;u+=1){const d=t[u];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))i=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))l=!0;else if(/^mod$/i.test(d))Mu()||sw()?c=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return i&&(e=`Alt-${e}`),s&&(e=`Ctrl-${e}`),c&&(e=`Meta-${e}`),l&&(e=`Shift-${e}`),e}var c2=n=>({editor:t,view:e,tr:i,dispatch:s})=>{const l=a2(n).split(/-(?!$)/),c=l.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),u=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),d=t.captureTransaction(()=>{e.someProp("handleKeyDown",h=>h(e,u))});return d?.steps.forEach(h=>{const g=h.map(i.mapping);g&&s&&i.maybeStep(g)}),!0};function Ir(n,t,e={}){const{from:i,to:s,empty:l}=n.selection,c=t?me(t,n.schema):null,u=[];n.doc.nodesBetween(i,s,(m,b)=>{if(m.isText)return;const v=Math.max(i,b),x=Math.min(s,b+m.nodeSize);u.push({node:m,from:v,to:x})});const d=s-i,h=u.filter(m=>c?c.name===m.node.type.name:!0).filter(m=>ku(m.node.attrs,e,{strict:!1}));return l?!!h.length:h.reduce((m,b)=>m+b.to-b.from,0)>=d}var u2=(n,t={})=>({state:e,dispatch:i})=>{const s=me(n,e.schema);return Ir(e,s,t)?kM(e,i):!1},f2=()=>({state:n,dispatch:t})=>yS(n,t),d2=n=>({state:t,dispatch:e})=>{const i=me(n,t.schema);return UM(i)(t,e)},h2=()=>({state:n,dispatch:t})=>mS(n,t);function xf(n,t){return t.nodes[n]?"node":t.marks[n]?"mark":null}function m1(n,t){const e=typeof t=="string"?[t]:t;return Object.keys(n).reduce((i,s)=>(e.includes(s)||(i[s]=n[s]),i),{})}var p2=(n,t)=>({tr:e,state:i,dispatch:s})=>{let l=null,c=null;const u=xf(typeof n=="string"?n:n.name,i.schema);if(!u)return!1;u==="node"&&(l=me(n,i.schema)),u==="mark"&&(c=Ki(n,i.schema));let d=!1;return e.selection.ranges.forEach(h=>{i.doc.nodesBetween(h.$from.pos,h.$to.pos,(g,m)=>{l&&l===g.type&&(d=!0,s&&e.setNodeMarkup(m,void 0,m1(g.attrs,t))),c&&g.marks.length&&g.marks.forEach(b=>{c===b.type&&(d=!0,s&&e.addMark(m,m+g.nodeSize,c.create(m1(b.attrs,t))))})})}),d},m2=()=>({tr:n,dispatch:t})=>(t&&n.scrollIntoView(),!0),g2=()=>({tr:n,dispatch:t})=>{if(t){const e=new xn(n.doc);n.setSelection(e)}return!0},y2=()=>({state:n,dispatch:t})=>fS(n,t),b2=()=>({state:n,dispatch:t})=>pS(n,t),v2=()=>({state:n,dispatch:t})=>NM(n,t),x2=()=>({state:n,dispatch:t})=>zM(n,t),S2=()=>({state:n,dispatch:t})=>RM(n,t);function Pp(n,t,e={},i={}){return ga(n,t,{slice:!1,parseOptions:e,errorOnInvalidContent:i.errorOnInvalidContent})}var w2=(n,{errorOnInvalidContent:t,emitUpdate:e=!0,parseOptions:i={}}={})=>({editor:s,tr:l,dispatch:c,commands:u})=>{const{doc:d}=l;if(i.preserveWhitespace!=="full"){const h=Pp(n,s.schema,i,{errorOnInvalidContent:t??s.options.enableContentCheck});return c&&l.replaceWith(0,d.content.size,h).setMeta("preventUpdate",!e),!0}return c&&l.setMeta("preventUpdate",!e),u.insertContentAt({from:0,to:d.content.size},n,{parseOptions:i,errorOnInvalidContent:t??s.options.enableContentCheck})};function ow(n,t){const e=Ki(t,n.schema),{from:i,to:s,empty:l}=n.selection,c=[];l?(n.storedMarks&&c.push(...n.storedMarks),c.push(...n.selection.$head.marks())):n.doc.nodesBetween(i,s,d=>{c.push(...d.marks)});const u=c.find(d=>d.type.name===e.name);return u?{...u.attrs}:{}}function lw(n,t){const e=new rS(n);return t.forEach(i=>{i.steps.forEach(s=>{e.step(s)})}),e}function E2(n){for(let t=0;t<n.edgeCount;t+=1){const{type:e}=n.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}function T2(n,t,e){const i=[];return n.nodesBetween(t.from,t.to,(s,l)=>{e(s)&&i.push({node:s,pos:l})}),i}function C2(n,t){for(let e=n.depth;e>0;e-=1){const i=n.node(e);if(t(i))return{pos:e>0?n.before(e):0,start:n.start(e),depth:e,node:i}}}function Sf(n){return t=>C2(t.$from,n)}function ft(n,t,e){return n.config[t]===void 0&&n.parent?ft(n.parent,t,e):typeof n.config[t]=="function"?n.config[t].bind({...e,parent:n.parent?ft(n.parent,t,e):null}):n.config[t]}function _m(n){return n.map(t=>{const e={name:t.name,options:t.options,storage:t.storage},i=ft(t,"addExtensions",e);return i?[t,..._m(i())]:t}).flat(10)}function Hm(n,t){const e=Ds.fromSchema(t).serializeFragment(n),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(e),s.innerHTML}function aw(n){return typeof n=="function"}function qt(n,t=void 0,...e){return aw(n)?t?n.bind(t)(...e):n(...e):n}function k2(n={}){return Object.keys(n).length===0&&n.constructor===Object}function Ho(n){const t=n.filter(s=>s.type==="extension"),e=n.filter(s=>s.type==="node"),i=n.filter(s=>s.type==="mark");return{baseExtensions:t,nodeExtensions:e,markExtensions:i}}function cw(n){const t=[],{nodeExtensions:e,markExtensions:i}=Ho(n),s=[...e,...i],l={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage,extensions:s},d=ft(c,"addGlobalAttributes",u);if(!d)return;d().forEach(g=>{g.types.forEach(m=>{Object.entries(g.attributes).forEach(([b,v])=>{t.push({type:m,name:b,attribute:{...l,...v}})})})})}),s.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage},d=ft(c,"addAttributes",u);if(!d)return;const h=d();Object.entries(h).forEach(([g,m])=>{const b={...l,...m};typeof b?.default=="function"&&(b.default=b.default()),b?.isRequired&&b?.default===void 0&&delete b.default,t.push({type:c.name,name:g,attribute:b})})}),t}function ge(...n){return n.filter(t=>!!t).reduce((t,e)=>{const i={...t};return Object.entries(e).forEach(([s,l])=>{if(!i[s]){i[s]=l;return}if(s==="class"){const u=l?String(l).split(" "):[],d=i[s]?i[s].split(" "):[],h=u.filter(g=>!d.includes(g));i[s]=[...d,...h].join(" ")}else if(s==="style"){const u=l?l.split(";").map(g=>g.trim()).filter(Boolean):[],d=i[s]?i[s].split(";").map(g=>g.trim()).filter(Boolean):[],h=new Map;d.forEach(g=>{const[m,b]=g.split(":").map(v=>v.trim());h.set(m,b)}),u.forEach(g=>{const[m,b]=g.split(":").map(v=>v.trim());h.set(m,b)}),i[s]=Array.from(h.entries()).map(([g,m])=>`${g}: ${m}`).join("; ")}else i[s]=l}),i},{})}function ya(n,t){return t.filter(e=>e.type===n.type.name).filter(e=>e.attribute.rendered).map(e=>e.attribute.renderHTML?e.attribute.renderHTML(n.attrs)||{}:{[e.name]:n.attrs[e.name]}).reduce((e,i)=>ge(e,i),{})}function M2(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function g1(n,t){return"style"in n?n:{...n,getAttrs:e=>{const i=n.getAttrs?n.getAttrs(e):n.attrs;if(i===!1)return!1;const s=t.reduce((l,c)=>{const u=c.attribute.parseHTML?c.attribute.parseHTML(e):M2(e.getAttribute(c.name));return u==null?l:{...l,[c.name]:u}},{});return{...i,...s}}}}function y1(n){return Object.fromEntries(Object.entries(n).filter(([t,e])=>t==="attrs"&&k2(e)?!1:e!=null))}function b1(n){var t,e;const i={};return!((t=n?.attribute)!=null&&t.isRequired)&&"default"in(n?.attribute||{})&&(i.default=n.attribute.default),((e=n?.attribute)==null?void 0:e.validate)!==void 0&&(i.validate=n.attribute.validate),[n.name,i]}function A2(n,t){var e;const i=cw(n),{nodeExtensions:s,markExtensions:l}=Ho(n),c=(e=s.find(h=>ft(h,"topNode")))==null?void 0:e.name,u=Object.fromEntries(s.map(h=>{const g=i.filter(C=>C.type===h.name),m={name:h.name,options:h.options,storage:h.storage,editor:t},b=n.reduce((C,A)=>{const _=ft(A,"extendNodeSchema",m);return{...C,..._?_(h):{}}},{}),v=y1({...b,content:qt(ft(h,"content",m)),marks:qt(ft(h,"marks",m)),group:qt(ft(h,"group",m)),inline:qt(ft(h,"inline",m)),atom:qt(ft(h,"atom",m)),selectable:qt(ft(h,"selectable",m)),draggable:qt(ft(h,"draggable",m)),code:qt(ft(h,"code",m)),whitespace:qt(ft(h,"whitespace",m)),linebreakReplacement:qt(ft(h,"linebreakReplacement",m)),defining:qt(ft(h,"defining",m)),isolating:qt(ft(h,"isolating",m)),attrs:Object.fromEntries(g.map(b1))}),x=qt(ft(h,"parseHTML",m));x&&(v.parseDOM=x.map(C=>g1(C,g)));const w=ft(h,"renderHTML",m);w&&(v.toDOM=C=>w({node:C,HTMLAttributes:ya(C,g)}));const E=ft(h,"renderText",m);return E&&(v.toText=E),[h.name,v]})),d=Object.fromEntries(l.map(h=>{const g=i.filter(E=>E.type===h.name),m={name:h.name,options:h.options,storage:h.storage,editor:t},b=n.reduce((E,C)=>{const A=ft(C,"extendMarkSchema",m);return{...E,...A?A(h):{}}},{}),v=y1({...b,inclusive:qt(ft(h,"inclusive",m)),excludes:qt(ft(h,"excludes",m)),group:qt(ft(h,"group",m)),spanning:qt(ft(h,"spanning",m)),code:qt(ft(h,"code",m)),attrs:Object.fromEntries(g.map(b1))}),x=qt(ft(h,"parseHTML",m));x&&(v.parseDOM=x.map(E=>g1(E,g)));const w=ft(h,"renderHTML",m);return w&&(v.toDOM=E=>w({mark:E,HTMLAttributes:ya(E,g)})),[h.name,v]}));return new qx({topNode:c,nodes:u,marks:d})}function O2(n){const t=n.filter((e,i)=>n.indexOf(e)!==i);return Array.from(new Set(t))}function Au(n){return n.sort((e,i)=>{const s=ft(e,"priority")||100,l=ft(i,"priority")||100;return s>l?-1:s<l?1:0})}function uw(n){const t=Au(_m(n)),e=O2(t.map(i=>i.name));return e.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${e.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}function fw(n,t,e){const{from:i,to:s}=t,{blockSeparator:l=`

`,textSerializers:c={}}=e||{};let u="";return n.nodesBetween(i,s,(d,h,g,m)=>{var b;d.isBlock&&h>i&&(u+=l);const v=c?.[d.type.name];if(v)return g&&(u+=v({node:d,pos:h,parent:g,index:m,range:t})),!1;d.isText&&(u+=(b=d?.text)==null?void 0:b.slice(Math.max(i,h)-h,s-h))}),u}function dw(n,t){const e={from:0,to:n.content.size};return fw(n,e,t)}function Um(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,t])=>t.spec.toText).map(([t,e])=>[t,e.spec.toText]))}function N2(n,t){const e=me(t,n.schema),{from:i,to:s}=n.selection,l=[];n.doc.nodesBetween(i,s,u=>{l.push(u)});const c=l.reverse().find(u=>u.type.name===e.name);return c?{...c.attrs}:{}}function hw(n,t){const e=xf(typeof t=="string"?t:t.name,n.schema);return e==="node"?N2(n,t):e==="mark"?ow(n,t):{}}function D2(n,t=JSON.stringify){const e={};return n.filter(i=>{const s=t(i);return Object.prototype.hasOwnProperty.call(e,s)?!1:e[s]=!0})}function R2(n){const t=D2(n);return t.length===1?t:t.filter((e,i)=>!t.filter((l,c)=>c!==i).some(l=>e.oldRange.from>=l.oldRange.from&&e.oldRange.to<=l.oldRange.to&&e.newRange.from>=l.newRange.from&&e.newRange.to<=l.newRange.to))}function pw(n){const{mapping:t,steps:e}=n,i=[];return t.maps.forEach((s,l)=>{const c=[];if(s.ranges.length)s.forEach((u,d)=>{c.push({from:u,to:d})});else{const{from:u,to:d}=e[l];if(u===void 0||d===void 0)return;c.push({from:u,to:d})}c.forEach(({from:u,to:d})=>{const h=t.slice(l).map(u,-1),g=t.slice(l).map(d),m=t.invert().map(h,-1),b=t.invert().map(g);i.push({oldRange:{from:m,to:b},newRange:{from:h,to:g}})})}),R2(i)}function jm(n,t,e){const i=[];return n===t?e.resolve(n).marks().forEach(s=>{const l=e.resolve(n),c=Lm(l,s.type);c&&i.push({mark:s,...c})}):e.nodesBetween(n,t,(s,l)=>{!s||s?.nodeSize===void 0||i.push(...s.marks.map(c=>({from:l,to:l+s.nodeSize,mark:c})))}),i}var z2=(n,t,e,i=20)=>{const s=n.doc.resolve(e);let l=i,c=null;for(;l>0&&c===null;){const u=s.node(l);u?.type.name===t?c=u:l-=1}return[c,l]};function Gc(n,t){return t.nodes[n]||t.marks[n]||null}function fu(n,t,e){return Object.fromEntries(Object.entries(e).filter(([i])=>{const s=n.find(l=>l.type===t&&l.name===i);return s?s.attribute.keepOnSplit:!1}))}var L2=(n,t=500)=>{let e="";const i=n.parentOffset;return n.parent.nodesBetween(Math.max(0,i-t),i,(s,l,c,u)=>{var d,h;const g=((h=(d=s.type.spec).toText)==null?void 0:h.call(d,{node:s,pos:l,parent:c,index:u}))||s.textContent||"%leaf%";e+=s.isAtom&&!s.isText?g:g.slice(0,Math.max(0,i-l))}),e};function Gp(n,t,e={}){const{empty:i,ranges:s}=n.selection,l=t?Ki(t,n.schema):null;if(i)return!!(n.storedMarks||n.selection.$from.marks()).filter(m=>l?l.name===m.type.name:!0).find(m=>ku(m.attrs,e,{strict:!1}));let c=0;const u=[];if(s.forEach(({$from:m,$to:b})=>{const v=m.pos,x=b.pos;n.doc.nodesBetween(v,x,(w,E)=>{if(!w.isText&&!w.marks.length)return;const C=Math.max(v,E),A=Math.min(x,E+w.nodeSize),_=A-C;c+=_,u.push(...w.marks.map(V=>({mark:V,from:C,to:A})))})}),c===0)return!1;const d=u.filter(m=>l?l.name===m.mark.type.name:!0).filter(m=>ku(m.mark.attrs,e,{strict:!1})).reduce((m,b)=>m+b.to-b.from,0),h=u.filter(m=>l?m.mark.type!==l&&m.mark.type.excludes(l):!0).reduce((m,b)=>m+b.to-b.from,0);return(d>0?d+h:d)>=c}function B2(n,t,e={}){if(!t)return Ir(n,null,e)||Gp(n,null,e);const i=xf(t,n.schema);return i==="node"?Ir(n,t,e):i==="mark"?Gp(n,t,e):!1}var _2=(n,t)=>{const{$from:e,$to:i,$anchor:s}=n.selection;if(t){const l=Sf(u=>u.type.name===t)(n.selection);if(!l)return!1;const c=n.doc.resolve(l.pos+1);return s.pos+1===c.end()}return!(i.parentOffset<i.parent.nodeSize-2||e.pos!==i.pos)},H2=n=>{const{$from:t,$to:e}=n.selection;return!(t.parentOffset>0||t.pos!==e.pos)};function v1(n,t){return Array.isArray(t)?t.some(e=>(typeof e=="string"?e:e.name)===n.name):t}function x1(n,t){const{nodeExtensions:e}=Ho(t),i=e.find(c=>c.name===n);if(!i)return!1;const s={name:i.name,options:i.options,storage:i.storage},l=qt(ft(i,"group",s));return typeof l!="string"?!1:l.split(" ").includes("list")}function wf(n,{checkChildren:t=!0,ignoreWhitespace:e=!1}={}){var i;if(e){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((i=n.text)!=null?i:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(t){let s=!0;return n.content.forEach(l=>{s!==!1&&(wf(l,{ignoreWhitespace:e,checkChildren:t})||(s=!1))}),s}return!1}function mw(n){return n instanceof ht}var gw=class yw{constructor(t){this.position=t}static fromJSON(t){return new yw(t.position)}toJSON(){return{position:this.position}}};function U2(n,t){const e=t.mapping.mapResult(n.position);return{position:new gw(e.pos),mapResult:e}}function j2(n){return new gw(n)}function bw(n,t,e){const s=n.state.doc.content.size,l=Yi(t,0,s),c=Yi(e,0,s),u=n.coordsAtPos(l),d=n.coordsAtPos(c,-1),h=Math.min(u.top,d.top),g=Math.max(u.bottom,d.bottom),m=Math.min(u.left,d.left),b=Math.max(u.right,d.right),v=b-m,x=g-h,C={top:h,bottom:g,left:m,right:b,width:v,height:x,x:m,y:h};return{...C,toJSON:()=>C}}function I2(n,t,e){var i;const{selection:s}=t;let l=null;if(Bm(s)&&(l=s.$cursor),l){const u=(i=n.storedMarks)!=null?i:l.marks();return l.parent.type.allowsMarkType(e)&&(!!e.isInSet(u)||!u.some(h=>h.type.excludes(e)))}const{ranges:c}=s;return c.some(({$from:u,$to:d})=>{let h=u.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(e):!1;return n.doc.nodesBetween(u.pos,d.pos,(g,m,b)=>{if(h)return!1;if(g.isInline){const v=!b||b.type.allowsMarkType(e),x=!!e.isInSet(g.marks)||!g.marks.some(w=>w.type.excludes(e));h=v&&x}return!h}),h})}var V2=(n,t={})=>({tr:e,state:i,dispatch:s})=>{const{selection:l}=e,{empty:c,ranges:u}=l,d=Ki(n,i.schema);if(s)if(c){const h=ow(i,d);e.addStoredMark(d.create({...h,...t}))}else u.forEach(h=>{const g=h.$from.pos,m=h.$to.pos;i.doc.nodesBetween(g,m,(b,v)=>{const x=Math.max(v,g),w=Math.min(v+b.nodeSize,m);b.marks.find(C=>C.type===d)?b.marks.forEach(C=>{d===C.type&&e.addMark(x,w,d.create({...C.attrs,...t}))}):e.addMark(x,w,d.create(t))})});return I2(i,e,d)},q2=(n,t)=>({tr:e})=>(e.setMeta(n,t),!0),$2=(n,t={})=>({state:e,dispatch:i,chain:s})=>{const l=me(n,e.schema);let c;return e.selection.$anchor.sameParent(e.selection.$head)&&(c=e.selection.$anchor.parent.attrs),l.isTextblock?s().command(({commands:u})=>zv(l,{...c,...t})(e)?!0:u.clearNodes()).command(({state:u})=>zv(l,{...c,...t})(u,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Y2=n=>({tr:t,dispatch:e})=>{if(e){const{doc:i}=t,s=Yi(n,0,i.content.size),l=ht.create(i,s);t.setSelection(l)}return!0},P2=(n,t)=>({tr:e,state:i,dispatch:s})=>{const{selection:l}=i;let c,u;return typeof t=="number"?(c=t,u=t):t&&"from"in t&&"to"in t?(c=t.from,u=t.to):(c=l.from,u=l.to),s&&e.doc.nodesBetween(c,u,(d,h)=>{d.isText||e.setNodeMarkup(h,void 0,{...d.attrs,dir:n})}),!0},G2=n=>({tr:t,dispatch:e})=>{if(e){const{doc:i}=t,{from:s,to:l}=typeof n=="number"?{from:n,to:n}:n,c=St.atStart(i).from,u=St.atEnd(i).to,d=Yi(s,c,u),h=Yi(l,c,u),g=St.create(i,d,h);t.setSelection(g)}return!0},K2=n=>({state:t,dispatch:e})=>{const i=me(n,t.schema);return VM(i)(t,e)};function S1(n,t){const e=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(e){const i=e.filter(s=>t?.includes(s.type.name));n.tr.ensureMarks(i)}}var X2=({keepMarks:n=!0}={})=>({tr:t,state:e,dispatch:i,editor:s})=>{const{selection:l,doc:c}=t,{$from:u,$to:d}=l,h=s.extensionManager.attributes,g=fu(h,u.node().type.name,u.node().attrs);if(l instanceof ht&&l.node.isBlock)return!u.parentOffset||!Pi(c,u.pos)?!1:(i&&(n&&S1(e,s.extensionManager.splittableMarks),t.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const m=d.parentOffset===d.parent.content.size,b=u.depth===0?void 0:E2(u.node(-1).contentMatchAt(u.indexAfter(-1)));let v=m&&b?[{type:b,attrs:g}]:void 0,x=Pi(t.doc,t.mapping.map(u.pos),1,v);if(!v&&!x&&Pi(t.doc,t.mapping.map(u.pos),1,b?[{type:b}]:void 0)&&(x=!0,v=b?[{type:b,attrs:g}]:void 0),i){if(x&&(l instanceof St&&t.deleteSelection(),t.split(t.mapping.map(u.pos),1,v),b&&!m&&!u.parentOffset&&u.parent.type!==b)){const w=t.mapping.map(u.before()),E=t.doc.resolve(w);u.node(-1).canReplaceWith(E.index(),E.index()+1,b)&&t.setNodeMarkup(t.mapping.map(u.before()),b)}n&&S1(e,s.extensionManager.splittableMarks),t.scrollIntoView()}return x},F2=(n,t={})=>({tr:e,state:i,dispatch:s,editor:l})=>{var c;const u=me(n,i.schema),{$from:d,$to:h}=i.selection,g=i.selection.node;if(g&&g.isBlock||d.depth<2||!d.sameParent(h))return!1;const m=d.node(-1);if(m.type!==u)return!1;const b=l.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==u||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let C=F.empty;const A=d.index(-1)?1:d.index(-2)?2:3;for(let j=d.depth-A;j>=d.depth-3;j-=1)C=F.from(d.node(j).copy(C));const _=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,V={...fu(b,d.node().type.name,d.node().attrs),...t},H=((c=u.contentMatch.defaultType)==null?void 0:c.createAndFill(V))||void 0;C=C.append(F.from(u.createAndFill(null,H)||void 0));const $=d.before(d.depth-(A-1));e.replace($,d.after(-_),new nt(C,4-A,0));let N=-1;e.doc.nodesBetween($,e.doc.content.size,(j,W)=>{if(N>-1)return!1;j.isTextblock&&j.content.size===0&&(N=W+1)}),N>-1&&e.setSelection(St.near(e.doc.resolve(N))),e.scrollIntoView()}return!0}const v=h.pos===d.end()?m.contentMatchAt(0).defaultType:null,x={...fu(b,m.type.name,m.attrs),...t},w={...fu(b,d.node().type.name,d.node().attrs),...t};e.delete(d.pos,h.pos);const E=v?[{type:u,attrs:x},{type:v,attrs:w}]:[{type:u,attrs:x}];if(!Pi(e.doc,d.pos,2))return!1;if(s){const{selection:C,storedMarks:A}=i,{splittableMarks:_}=l.extensionManager,V=A||C.$to.parentOffset&&C.$from.marks();if(e.split(d.pos,2,E).scrollIntoView(),!V||!s)return!0;const H=V.filter($=>_.includes($.type.name));e.ensureMarks(H)}return!0},dp=(n,t)=>{const e=Sf(c=>c.type===t)(n.selection);if(!e)return!0;const i=n.doc.resolve(Math.max(0,e.pos-1)).before(e.depth);if(i===void 0)return!0;const s=n.doc.nodeAt(i);return e.node.type===s?.type&&qr(n.doc,e.pos)&&n.join(e.pos),!0},hp=(n,t)=>{const e=Sf(c=>c.type===t)(n.selection);if(!e)return!0;const i=n.doc.resolve(e.start).after(e.depth);if(i===void 0)return!0;const s=n.doc.nodeAt(i);return e.node.type===s?.type&&qr(n.doc,i)&&n.join(i),!0},J2=(n,t,e,i={})=>({editor:s,tr:l,state:c,dispatch:u,chain:d,commands:h,can:g})=>{const{extensions:m,splittableMarks:b}=s.extensionManager,v=me(n,c.schema),x=me(t,c.schema),{selection:w,storedMarks:E}=c,{$from:C,$to:A}=w,_=C.blockRange(A),V=E||w.$to.parentOffset&&w.$from.marks();if(!_)return!1;const H=Sf($=>x1($.type.name,m))(w);if(_.depth>=1&&H&&_.depth-H.depth<=1){if(H.node.type===v)return h.liftListItem(x);if(x1(H.node.type.name,m)&&v.validContent(H.node.content)&&u)return d().command(()=>(l.setNodeMarkup(H.pos,v),!0)).command(()=>dp(l,v)).command(()=>hp(l,v)).run()}return!e||!V||!u?d().command(()=>g().wrapInList(v,i)?!0:h.clearNodes()).wrapInList(v,i).command(()=>dp(l,v)).command(()=>hp(l,v)).run():d().command(()=>{const $=g().wrapInList(v,i),N=V.filter(j=>b.includes(j.type.name));return l.ensureMarks(N),$?!0:h.clearNodes()}).wrapInList(v,i).command(()=>dp(l,v)).command(()=>hp(l,v)).run()},Q2=(n,t={},e={})=>({state:i,commands:s})=>{const{extendEmptyMarkRange:l=!1}=e,c=Ki(n,i.schema);return Gp(i,c,t)?s.unsetMark(c,{extendEmptyMarkRange:l}):s.setMark(c,t)},Z2=(n,t,e={})=>({state:i,commands:s})=>{const l=me(n,i.schema),c=me(t,i.schema),u=Ir(i,l,e);let d;return i.selection.$anchor.sameParent(i.selection.$head)&&(d=i.selection.$anchor.parent.attrs),u?s.setNode(c,d):s.setNode(l,{...d,...e})},W2=(n,t={})=>({state:e,commands:i})=>{const s=me(n,e.schema);return Ir(e,s,t)?i.lift(s):i.wrapIn(s,t)},tN=()=>({state:n,dispatch:t})=>{const e=n.plugins;for(let i=0;i<e.length;i+=1){const s=e[i];let l;if(s.spec.isInputRules&&(l=s.getState(n))){if(t){const c=n.tr,u=l.transform;for(let d=u.steps.length-1;d>=0;d-=1)c.step(u.steps[d].invert(u.docs[d]));if(l.text){const d=c.doc.resolve(l.from).marks();c.replaceWith(l.from,l.to,n.schema.text(l.text,d))}else c.delete(l.from,l.to)}return!0}}return!1},eN=()=>({tr:n,dispatch:t})=>{const{selection:e}=n,{empty:i,ranges:s}=e;return i||t&&s.forEach(l=>{n.removeMark(l.$from.pos,l.$to.pos)}),!0},nN=(n,t={})=>({tr:e,state:i,dispatch:s})=>{var l;const{extendEmptyMarkRange:c=!1}=t,{selection:u}=e,d=Ki(n,i.schema),{$from:h,empty:g,ranges:m}=u;if(!s)return!0;if(g&&c){let{from:b,to:v}=u;const x=(l=h.marks().find(E=>E.type===d))==null?void 0:l.attrs,w=Lm(h,d,x);w&&(b=w.from,v=w.to),e.removeMark(b,v,d)}else m.forEach(b=>{e.removeMark(b.$from.pos,b.$to.pos,d)});return e.removeStoredMark(d),!0},iN=n=>({tr:t,state:e,dispatch:i})=>{const{selection:s}=e;let l,c;return typeof n=="number"?(l=n,c=n):n&&"from"in n&&"to"in n?(l=n.from,c=n.to):(l=s.from,c=s.to),i&&t.doc.nodesBetween(l,c,(u,d)=>{if(u.isText)return;const h={...u.attrs};delete h.dir,t.setNodeMarkup(d,void 0,h)}),!0},rN=(n,t={})=>({tr:e,state:i,dispatch:s})=>{let l=null,c=null;const u=xf(typeof n=="string"?n:n.name,i.schema);if(!u)return!1;u==="node"&&(l=me(n,i.schema)),u==="mark"&&(c=Ki(n,i.schema));let d=!1;return e.selection.ranges.forEach(h=>{const g=h.$from.pos,m=h.$to.pos;let b,v,x,w;e.selection.empty?i.doc.nodesBetween(g,m,(E,C)=>{l&&l===E.type&&(d=!0,x=Math.max(C,g),w=Math.min(C+E.nodeSize,m),b=C,v=E)}):i.doc.nodesBetween(g,m,(E,C)=>{C<g&&l&&l===E.type&&(d=!0,x=Math.max(C,g),w=Math.min(C+E.nodeSize,m),b=C,v=E),C>=g&&C<=m&&(l&&l===E.type&&(d=!0,s&&e.setNodeMarkup(C,void 0,{...E.attrs,...t})),c&&E.marks.length&&E.marks.forEach(A=>{if(c===A.type&&(d=!0,s)){const _=Math.max(C,g),V=Math.min(C+E.nodeSize,m);e.addMark(_,V,c.create({...A.attrs,...t}))}}))}),v&&(b!==void 0&&s&&e.setNodeMarkup(b,void 0,{...v.attrs,...t}),c&&v.marks.length&&v.marks.forEach(E=>{c===E.type&&s&&e.addMark(x,w,c.create({...E.attrs,...t}))}))}),d},sN=(n,t={})=>({state:e,dispatch:i})=>{const s=me(n,e.schema);return LM(s,t)(e,i)},oN=(n,t={})=>({state:e,dispatch:i})=>{const s=me(n,e.schema);return BM(s,t)(e,i)},lN=class{constructor(){this.callbacks={}}on(n,t){return this.callbacks[n]||(this.callbacks[n]=[]),this.callbacks[n].push(t),this}emit(n,...t){const e=this.callbacks[n];return e&&e.forEach(i=>i.apply(this,t)),this}off(n,t){const e=this.callbacks[n];return e&&(t?this.callbacks[n]=e.filter(i=>i!==t):delete this.callbacks[n]),this}once(n,t){const e=(...i)=>{this.off(n,e),t.apply(this,i)};return this.on(n,e)}removeAllListeners(){this.callbacks={}}},Ef=class{constructor(n){var t;this.find=n.find,this.handler=n.handler,this.undoable=(t=n.undoable)!=null?t:!0}},aN=(n,t)=>{if(zm(t))return t.exec(n);const e=t(n);if(!e)return null;const i=[e.text];return i.index=e.index,i.input=n,i.data=e.data,e.replaceWith&&(e.text.includes(e.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(e.replaceWith)),i};function Kc(n){var t;const{editor:e,from:i,to:s,text:l,rules:c,plugin:u}=n,{view:d}=e;if(d.composing)return!1;const h=d.state.doc.resolve(i);if(h.parent.type.spec.code||(t=h.nodeBefore||h.nodeAfter)!=null&&t.marks.find(b=>b.type.spec.code))return!1;let g=!1;const m=L2(h)+l;return c.forEach(b=>{if(g)return;const v=aN(m,b.find);if(!v)return;const x=d.state.tr,w=bf({state:d.state,transaction:x}),E={from:i-(v[0].length-l.length),to:s},{commands:C,chain:A,can:_}=new vf({editor:e,state:w});b.handler({state:w,range:E,match:v,commands:C,chain:A,can:_})===null||!x.steps.length||(b.undoable&&x.setMeta(u,{transform:x,from:i,to:s,text:l}),d.dispatch(x),g=!0)}),g}function cN(n){const{editor:t,rules:e}=n,i=new Qt({state:{init(){return null},apply(s,l,c){const u=s.getMeta(i);if(u)return u;const d=s.getMeta("applyInputRules");return d&&setTimeout(()=>{let{text:g}=d;typeof g=="string"?g=g:g=Hm(F.from(g),c.schema);const{from:m}=d,b=m+g.length;Kc({editor:t,from:m,to:b,text:g,rules:e,plugin:i})}),s.selectionSet||s.docChanged?null:l}},props:{handleTextInput(s,l,c,u){return Kc({editor:t,from:l,to:c,text:u,rules:e,plugin:i})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:l}=s.state.selection;l&&Kc({editor:t,from:l.pos,to:l.pos,text:"",rules:e,plugin:i})}),!1)},handleKeyDown(s,l){if(l.key!=="Enter")return!1;const{$cursor:c}=s.state.selection;return c?Kc({editor:t,from:c.pos,to:c.pos,text:`
`,rules:e,plugin:i}):!1}},isInputRules:!0});return i}function uN(n){return Object.prototype.toString.call(n).slice(8,-1)}function Xc(n){return uN(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function vw(n,t){const e={...n};return Xc(n)&&Xc(t)&&Object.keys(t).forEach(i=>{Xc(t[i])&&Xc(n[i])?e[i]=vw(n[i],t[i]):e[i]=t[i]}),e}var Im=class{constructor(n={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...n},this.name=this.config.name}get options(){return{...qt(ft(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...qt(ft(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(n={}){const t=this.extend({...this.config,addOptions:()=>vw(this.options,n)});return t.name=this.name,t.parent=this.parent,t}extend(n={}){const t=new this.constructor({...this.config,...n});return t.parent=this,this.child=t,t.name="name"in n?n.name:t.parent.name,t}},Rs=class xw extends Im{constructor(){super(...arguments),this.type="mark"}static create(t={}){const e=typeof t=="function"?t():t;return new xw(e)}static handleExit({editor:t,mark:e}){const{tr:i}=t.state,s=t.state.selection.$from;if(s.pos===s.end()){const c=s.marks();if(!!!c.find(h=>h?.type.name===e.name))return!1;const d=c.find(h=>h?.type.name===e.name);return d&&i.removeStoredMark(d),i.insertText(" ",s.pos),t.view.dispatch(i),!0}return!1}configure(t){return super.configure(t)}extend(t){const e=typeof t=="function"?t():t;return super.extend(e)}};function fN(n){return typeof n=="number"}var dN=class{constructor(n){this.find=n.find,this.handler=n.handler}},hN=(n,t,e)=>{if(zm(t))return[...n.matchAll(t)];const i=t(n,e);return i?i.map(s=>{const l=[s.text];return l.index=s.index,l.input=n,l.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(s.replaceWith)),l}):[]};function pN(n){const{editor:t,state:e,from:i,to:s,rule:l,pasteEvent:c,dropEvent:u}=n,{commands:d,chain:h,can:g}=new vf({editor:t,state:e}),m=[];return e.doc.nodesBetween(i,s,(v,x)=>{var w,E,C,A,_;if((E=(w=v.type)==null?void 0:w.spec)!=null&&E.code||!(v.isText||v.isTextblock||v.isInline))return;const V=(_=(A=(C=v.content)==null?void 0:C.size)!=null?A:v.nodeSize)!=null?_:0,H=Math.max(i,x),$=Math.min(s,x+V);if(H>=$)return;const N=v.isText?v.text||"":v.textBetween(H-x,$-x,void 0,"");hN(N,l.find,c).forEach(W=>{if(W.index===void 0)return;const et=H+W.index+1,pt=et+W[0].length,ct={from:e.tr.mapping.map(et),to:e.tr.mapping.map(pt)},wt=l.handler({state:e,range:ct,match:W,commands:d,chain:h,can:g,pasteEvent:c,dropEvent:u});m.push(wt)})}),m.every(v=>v!==null)}var Fc=null,mN=n=>{var t;const e=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=e.clipboardData)==null||t.setData("text/html",n),e};function gN(n){const{editor:t,rules:e}=n;let i=null,s=!1,l=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const d=({state:g,from:m,to:b,rule:v,pasteEvt:x})=>{const w=g.tr,E=bf({state:g,transaction:w});if(!(!pN({editor:t,state:E,from:Math.max(m-1,0),to:b.b-1,rule:v,pasteEvent:x,dropEvent:u})||!w.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return e.map(g=>new Qt({view(m){const b=x=>{var w;i=(w=m.dom.parentElement)!=null&&w.contains(x.target)?m.dom.parentElement:null,i&&(Fc=t)},v=()=>{Fc&&(Fc=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(m,b)=>{if(l=i===m.dom.parentElement,u=b,!l){const v=Fc;v?.isEditable&&setTimeout(()=>{const x=v.state.selection;x&&v.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(m,b)=>{var v;const x=(v=b.clipboardData)==null?void 0:v.getData("text/html");return c=b,s=!!x?.includes("data-pm-slice"),!1}}},appendTransaction:(m,b,v)=>{const x=m[0],w=x.getMeta("uiEvent")==="paste"&&!s,E=x.getMeta("uiEvent")==="drop"&&!l,C=x.getMeta("applyPasteRules"),A=!!C;if(!w&&!E&&!A)return;if(A){let{text:H}=C;typeof H=="string"?H=H:H=Hm(F.from(H),v.schema);const{from:$}=C,N=$+H.length,j=mN(H);return d({rule:g,state:v,from:$,to:{b:N},pasteEvt:j})}const _=b.doc.content.findDiffStart(v.doc.content),V=b.doc.content.findDiffEnd(v.doc.content);if(!(!fN(_)||!V||_===V.b))return d({rule:g,state:v,from:_,to:V,pasteEvt:c})}}))}var Tf=class{constructor(n,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=n,this.extensions=uw(n),this.schema=A2(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((n,t)=>{const e={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Gc(t.name,this.schema)},i=ft(t,"addCommands",e);return i?{...n,...i()}:n},{})}get plugins(){const{editor:n}=this;return Au([...this.extensions].reverse()).flatMap(i=>{const s={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:n,type:Gc(i.name,this.schema)},l=[],c=ft(i,"addKeyboardShortcuts",s);let u={};if(i.type==="mark"&&ft(i,"exitable",s)&&(u.ArrowRight=()=>Rs.handleExit({editor:n,mark:i})),c){const b=Object.fromEntries(Object.entries(c()).map(([v,x])=>[v,()=>x({editor:n})]));u={...u,...b}}const d=DO(u);l.push(d);const h=ft(i,"addInputRules",s);if(v1(i,n.options.enableInputRules)&&h){const b=h();if(b&&b.length){const v=cN({editor:n,rules:b}),x=Array.isArray(v)?v:[v];l.push(...x)}}const g=ft(i,"addPasteRules",s);if(v1(i,n.options.enablePasteRules)&&g){const b=g();if(b&&b.length){const v=gN({editor:n,rules:b});l.push(...v)}}const m=ft(i,"addProseMirrorPlugins",s);if(m){const b=m();l.push(...b)}return l})}get attributes(){return cw(this.extensions)}get nodeViews(){const{editor:n}=this,{nodeExtensions:t}=Ho(this.extensions);return Object.fromEntries(t.filter(e=>!!ft(e,"addNodeView")).map(e=>{const i=this.attributes.filter(d=>d.type===e.name),s={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:n,type:me(e.name,this.schema)},l=ft(e,"addNodeView",s);if(!l)return[];const c=l();if(!c)return[];const u=(d,h,g,m,b)=>{const v=ya(d,i);return c({node:d,view:h,getPos:g,decorations:m,innerDecorations:b,editor:n,extension:e,HTMLAttributes:v})};return[e.name,u]}))}dispatchTransaction(n){const{editor:t}=this;return Au([...this.extensions].reverse()).reduceRight((i,s)=>{const l={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:t,type:Gc(s.name,this.schema)},c=ft(s,"dispatchTransaction",l);return c?u=>{c.call(l,{transaction:u,next:i})}:i},n)}get markViews(){const{editor:n}=this,{markExtensions:t}=Ho(this.extensions);return Object.fromEntries(t.filter(e=>!!ft(e,"addMarkView")).map(e=>{const i=this.attributes.filter(u=>u.type===e.name),s={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:n,type:Ki(e.name,this.schema)},l=ft(e,"addMarkView",s);if(!l)return[];const c=(u,d,h)=>{const g=ya(u,i);return l()({mark:u,view:d,inline:h,editor:n,extension:e,HTMLAttributes:g,updateAttributes:m=>{NN(u,n,m)}})};return[e.name,c]}))}setupExtensions(){const n=this.extensions;this.editor.extensionStorage=Object.fromEntries(n.map(t=>[t.name,t.storage])),n.forEach(t=>{var e;const i={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Gc(t.name,this.schema)};t.type==="mark"&&((e=qt(ft(t,"keepOnSplit",i)))==null||e)&&this.splittableMarks.push(t.name);const s=ft(t,"onBeforeCreate",i),l=ft(t,"onCreate",i),c=ft(t,"onUpdate",i),u=ft(t,"onSelectionUpdate",i),d=ft(t,"onTransaction",i),h=ft(t,"onFocus",i),g=ft(t,"onBlur",i),m=ft(t,"onDestroy",i);s&&this.editor.on("beforeCreate",s),l&&this.editor.on("create",l),c&&this.editor.on("update",c),u&&this.editor.on("selectionUpdate",u),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),g&&this.editor.on("blur",g),m&&this.editor.on("destroy",m)})}};Tf.resolve=uw;Tf.sort=Au;Tf.flatten=_m;var yN={};Rm(yN,{ClipboardTextSerializer:()=>ww,Commands:()=>Ew,Delete:()=>Tw,Drop:()=>Cw,Editable:()=>kw,FocusEvents:()=>Aw,Keymap:()=>Ow,Paste:()=>Nw,Tabindex:()=>Dw,TextDirection:()=>Rw,focusEventsPluginKey:()=>Mw});var ie=class Sw extends Im{constructor(){super(...arguments),this.type="extension"}static create(t={}){const e=typeof t=="function"?t():t;return new Sw(e)}configure(t){return super.configure(t)}extend(t){const e=typeof t=="function"?t():t;return super.extend(e)}},ww=ie.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Qt({key:new te("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:t,schema:e}=n,{doc:i,selection:s}=t,{ranges:l}=s,c=Math.min(...l.map(g=>g.$from.pos)),u=Math.max(...l.map(g=>g.$to.pos)),d=Um(e);return fw(i,{from:c,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),Ew=ie.create({name:"commands",addCommands(){return{...ew}}}),Tw=ie.create({name:"delete",onUpdate({transaction:n,appendedTransactions:t}){var e,i,s;const l=()=>{var c,u,d,h;if((h=(d=(u=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:u.filterTransaction)==null?void 0:d.call(u,n))!=null?h:n.getMeta("y-sync$"))return;const g=lw(n.before,[n,...t]);pw(g).forEach(v=>{g.mapping.mapResult(v.oldRange.from).deletedAfter&&g.mapping.mapResult(v.oldRange.to).deletedBefore&&g.before.nodesBetween(v.oldRange.from,v.oldRange.to,(x,w)=>{const E=w+x.nodeSize-2,C=v.oldRange.from<=w&&E<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:x,from:w,to:E,newFrom:g.mapping.map(w),newTo:g.mapping.map(E),deletedRange:v.oldRange,newRange:v.newRange,partial:!C,editor:this.editor,transaction:n,combinedTransform:g})})});const b=g.mapping;g.steps.forEach((v,x)=>{var w,E;if(v instanceof Kn){const C=b.slice(x).map(v.from,-1),A=b.slice(x).map(v.to),_=b.invert().map(C,-1),V=b.invert().map(A),H=(w=g.doc.nodeAt(C-1))==null?void 0:w.marks.some(N=>N.eq(v.mark)),$=(E=g.doc.nodeAt(A))==null?void 0:E.marks.some(N=>N.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:_,to:V},newRange:{from:C,to:A},partial:!!($||H),editor:this.editor,transaction:n,combinedTransform:g})}})};(s=(i=(e=this.editor.options.coreExtensionOptions)==null?void 0:e.delete)==null?void 0:i.async)==null||s?setTimeout(l,0):l()}}),Cw=ie.create({name:"drop",addProseMirrorPlugins(){return[new Qt({key:new te("tiptapDrop"),props:{handleDrop:(n,t,e,i)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:e,moved:i})}}})]}}),kw=ie.create({name:"editable",addProseMirrorPlugins(){return[new Qt({key:new te("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Mw=new te("focusEvents"),Aw=ie.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Qt({key:Mw,props:{handleDOMEvents:{focus:(t,e)=>{n.isFocused=!0;const i=n.state.tr.setMeta("focus",{event:e}).setMeta("addToHistory",!1);return t.dispatch(i),!1},blur:(t,e)=>{n.isFocused=!1;const i=n.state.tr.setMeta("blur",{event:e}).setMeta("addToHistory",!1);return t.dispatch(i),!1}}}})]}}),Ow=ie.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:u})=>{const{selection:d,doc:h}=u,{empty:g,$anchor:m}=d,{pos:b,parent:v}=m,x=m.parent.isTextblock&&b>0?u.doc.resolve(b-1):m,w=x.parent.type.spec.isolating,E=m.pos-m.parentOffset,C=w&&x.parent.childCount===1?E===m.pos:vt.atStart(h).from===b;return!g||!v.type.isTextblock||v.textContent.length||!C||C&&m.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},s={...i},l={...i,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Mu()||sw()?l:s},addProseMirrorPlugins(){return[new Qt({key:new te("clearDocument"),appendTransaction:(n,t,e)=>{if(n.some(w=>w.getMeta("composition")))return;const i=n.some(w=>w.docChanged)&&!t.doc.eq(e.doc),s=n.some(w=>w.getMeta("preventClearDocument"));if(!i||s)return;const{empty:l,from:c,to:u}=t.selection,d=vt.atStart(t.doc).from,h=vt.atEnd(t.doc).to;if(l||!(c===d&&u===h)||!wf(e.doc))return;const b=e.tr,v=bf({state:e,transaction:b}),{commands:x}=new vf({editor:this.editor,state:v});if(x.clearNodes(),!!b.steps.length)return b}})]}}),Nw=ie.create({name:"paste",addProseMirrorPlugins(){return[new Qt({key:new te("tiptapPaste"),props:{handlePaste:(n,t,e)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:e})}}})]}}),Dw=ie.create({name:"tabindex",addProseMirrorPlugins(){return[new Qt({key:new te("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Rw=ie.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:n}=Ho(this.extensions);return[{types:n.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const e=t.getAttribute("dir");return e&&(e==="ltr"||e==="rtl"||e==="auto")?e:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Qt({key:new te("textDirection"),props:{attributes:()=>{const n=this.options.direction;return n?{dir:n}:{}}}})]}}),bN=class Ql{constructor(t,e,i=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=t,this.editor=e,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let e=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}e=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:e,to:i},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),e=this.resolvedPos.doc.resolve(t);return new Ql(e,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Ql(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Ql(t,this.editor)}get children(){const t=[];return this.node.content.forEach((e,i)=>{const s=e.isBlock&&!e.isTextblock,l=e.isAtom&&!e.isText,c=e.isInline,u=this.pos+i+(l?0:1);if(u<0||u>this.resolvedPos.doc.nodeSize-2)return;const d=this.resolvedPos.doc.resolve(u);if(!s&&!c&&d.depth<=this.depth)return;const h=new Ql(d,this.editor,s,s||c?e:null);s&&(h.actualDepth=this.depth+1),t.push(h)}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,e={}){let i=null,s=this.parent;for(;s&&!i;){if(s.node.type.name===t)if(Object.keys(e).length>0){const l=s.node.attrs,c=Object.keys(e);for(let u=0;u<c.length;u+=1){const d=c[u];if(l[d]!==e[d])break}}else i=s;s=s.parent}return i}querySelector(t,e={}){return this.querySelectorAll(t,e,!0)[0]||null}querySelectorAll(t,e={},i=!1){let s=[];if(!this.children||this.children.length===0)return s;const l=Object.keys(e);return this.children.forEach(c=>{i&&s.length>0||(c.node.type.name===t&&l.every(d=>e[d]===c.node.attrs[d])&&s.push(c),!(i&&s.length>0)&&(s=s.concat(c.querySelectorAll(t,e,i))))}),s}setAttribute(t){const{tr:e}=this.editor.state;e.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(e)}},vN=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function xN(n,t,e){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const s=document.createElement("style");return t&&s.setAttribute("nonce",t),s.setAttribute("data-tiptap-style",""),s.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(s),s}var SN=class extends lN{constructor(n={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:U2,createMappablePosition:j2},this.setOptions(n),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:s,moved:l})=>this.options.onDrop(i,s,l)),this.on("paste",({event:i,slice:s})=>this.options.onPaste(i,s)),this.on("delete",this.options.onDelete);const t=this.createDoc(),e=iw(t,this.options.autofocus);this.editorState=Oo.create({doc:t,schema:this.schema,selection:e||void 0}),this.options.element&&this.mount(this.options.element)}mount(n){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(n),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const n=this.editorView.dom;n?.editor&&delete n.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(n){console.warn("Failed to remove CSS element:",n)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=xN(vN,this.options.injectNonce))}setOptions(n={}){this.options={...this.options,...n},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(n,t=!0){this.setOptions({editable:n}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:n=>{this.editorState=n},dispatch:n=>{this.dispatchTransaction(n)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(n,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in n)return Reflect.get(n,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(n,t){const e=aw(t)?t(n,[...this.state.plugins]):[...this.state.plugins,n],i=this.state.reconfigure({plugins:e});return this.view.updateState(i),i}unregisterPlugin(n){if(this.isDestroyed)return;const t=this.state.plugins;let e=t;if([].concat(n).forEach(s=>{const l=typeof s=="string"?`${s}$`:s.key;e=e.filter(c=>!c.key.startsWith(l))}),t.length===e.length)return;const i=this.state.reconfigure({plugins:e});return this.view.updateState(i),i}createExtensionManager(){var n,t;const i=[...this.options.enableCoreExtensions?[kw,ww.configure({blockSeparator:(t=(n=this.options.coreExtensionOptions)==null?void 0:n.clipboardTextSerializer)==null?void 0:t.blockSeparator}),Ew,Aw,Ow,Dw,Cw,Nw,Tw,Rw.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new Tf(i,this)}createCommandManager(){this.commandManager=new vf({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let n;try{n=Pp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(e=>e.name!=="collaboration"),this.createExtensionManager()}}),n=Pp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return n}createView(n){const{editorProps:t,enableExtensionDispatchTransaction:e}=this.options,i=t.dispatchTransaction||this.dispatchTransaction.bind(this),s=e?this.extensionManager.dispatchTransaction(i):i;this.editorView=new tw(n,{...t,attributes:{role:"textbox",...t?.attributes},dispatchTransaction:s,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const l=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(l),this.prependClass(),this.injectCSS();const c=this.view.dom;c.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(n){this.isCapturingTransaction=!0,n(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(n){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=n;return}n.steps.forEach(h=>{var g;return(g=this.capturedTransaction)==null?void 0:g.step(h)});return}const{state:t,transactions:e}=this.state.applyTransaction(n),i=!this.state.selection.eq(t.selection),s=e.includes(n),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:n,nextState:t}),!s)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:n,appendedTransactions:e.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:n});const c=e.findLast(h=>h.getMeta("focus")||h.getMeta("blur")),u=c?.getMeta("focus"),d=c?.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:c}),d&&this.emit("blur",{editor:this,event:d.event,transaction:c}),!(n.getMeta("preventUpdate")||!e.some(h=>h.docChanged)||l.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:n,appendedTransactions:e.slice(1)})}getAttributes(n){return hw(this.state,n)}isActive(n,t){const e=typeof n=="string"?n:null,i=typeof n=="string"?t:n;return B2(this.state,e,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Hm(this.state.doc.content,this.schema)}getText(n){const{blockSeparator:t=`

`,textSerializers:e={}}=n||{};return dw(this.state.doc,{blockSeparator:t,textSerializers:{...Um(this.schema),...e}})}get isEmpty(){return wf(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var n,t;return(t=(n=this.editorView)==null?void 0:n.isDestroyed)!=null?t:!0}$node(n,t){var e;return((e=this.$doc)==null?void 0:e.querySelector(n,t))||null}$nodes(n,t){var e;return((e=this.$doc)==null?void 0:e.querySelectorAll(n,t))||null}$pos(n){const t=this.state.doc.resolve(n);return new bN(t,this)}get $doc(){return this.$pos(0)}};function Uo(n){return new Ef({find:n.find,handler:({state:t,range:e,match:i})=>{const s=qt(n.getAttributes,void 0,i);if(s===!1||s===null)return null;const{tr:l}=t,c=i[i.length-1],u=i[0];if(c){const d=u.search(/\S/),h=e.from+u.indexOf(c),g=h+c.length;if(jm(e.from,e.to,t.doc).filter(v=>v.mark.type.excluded.find(w=>w===n.type&&w!==v.mark.type)).filter(v=>v.to>h).length)return null;g<e.to&&l.delete(g,e.to),h>e.from&&l.delete(e.from+d,h);const b=e.from+d+c.length;l.addMark(e.from+d,b,n.type.create(s||{})),l.removeStoredMark(n.type)}},undoable:n.undoable})}function wN(n){return new Ef({find:n.find,handler:({state:t,range:e,match:i})=>{const s=qt(n.getAttributes,void 0,i)||{},{tr:l}=t,c=e.from;let u=e.to;const d=n.type.create(s);if(i[1]){const h=i[0].lastIndexOf(i[1]);let g=c+h;g>u?g=u:u=g+i[1].length;const m=i[0][i[0].length-1];l.insertText(m,c+i[0].length-1),l.replaceWith(g,u,d)}else if(i[0]){const h=n.type.isInline?c:c-1;l.insert(h,n.type.create(s)).delete(l.mapping.map(c),l.mapping.map(u))}l.scrollIntoView()},undoable:n.undoable})}function Kp(n){return new Ef({find:n.find,handler:({state:t,range:e,match:i})=>{const s=t.doc.resolve(e.from),l=qt(n.getAttributes,void 0,i)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),n.type))return null;t.tr.delete(e.from,e.to).setBlockType(e.from,e.from,n.type,l)},undoable:n.undoable})}function jo(n){return new Ef({find:n.find,handler:({state:t,range:e,match:i,chain:s})=>{const l=qt(n.getAttributes,void 0,i)||{},c=t.tr.delete(e.from,e.to),d=c.doc.resolve(e.from).blockRange(),h=d&&mm(d,n.type,l);if(!h)return null;if(c.wrap(d,h),n.keepMarks&&n.editor){const{selection:m,storedMarks:b}=t,{splittableMarks:v}=n.editor.extensionManager,x=b||m.$to.parentOffset&&m.$from.marks();if(x){const w=x.filter(E=>v.includes(E.type.name));c.ensureMarks(w)}}if(n.keepAttributes){const m=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(m,l).run()}const g=c.doc.resolve(e.from-1).nodeBefore;g&&g.type===n.type&&qr(c.doc,e.from-1)&&(!n.joinPredicate||n.joinPredicate(i,g))&&c.join(e.from-1)},undoable:n.undoable})}function EN(n,t){const{selection:e}=n,{$from:i}=e;if(e instanceof ht){const l=i.index();return i.parent.canReplaceWith(l,l+1,t)}let s=i.depth;for(;s>=0;){const l=i.index(s);if(i.node(s).contentMatchAt(l).matchType(t))return!0;s-=1}return!1}var TN={};Rm(TN,{createAtomBlockMarkdownSpec:()=>CN,createBlockMarkdownSpec:()=>kN,createInlineMarkdownSpec:()=>ON,parseAttributes:()=>Vm,parseIndentedBlocks:()=>Xp,renderNestedMarkdownContent:()=>$m,serializeAttributes:()=>qm});function Vm(n){if(!n?.trim())return{};const t={},e=[],i=n.replace(/["']([^"']*)["']/g,h=>(e.push(h),`__QUOTED_${e.length-1}__`)),s=i.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const h=s.map(g=>g.trim().slice(1));t.class=h.join(" ")}const l=i.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);l&&(t.id=l[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(i.matchAll(c)).forEach(([,h,g])=>{var m;const b=parseInt(((m=g.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),v=e[b];v&&(t[h]=v.slice(1,-1))});const d=i.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return d&&d.split(/\s+/).filter(Boolean).forEach(g=>{g.match(/^[a-zA-Z][\w-]*$/)&&(t[g]=!0)}),t}function qm(n){if(!n||Object.keys(n).length===0)return"";const t=[];return n.class&&String(n.class).split(/\s+/).filter(Boolean).forEach(i=>t.push(`.${i}`)),n.id&&t.push(`#${n.id}`),Object.entries(n).forEach(([e,i])=>{e==="class"||e==="id"||(i===!0?t.push(e):i!==!1&&i!=null&&t.push(`${e}="${String(i)}"`))}),t.join(" ")}function CN(n){const{nodeName:t,name:e,parseAttributes:i=Vm,serializeAttributes:s=qm,defaultAttributes:l={},requiredAttributes:c=[],allowedAttributes:u}=n,d=e||t,h=g=>{if(!u)return g;const m={};return u.forEach(b=>{b in g&&(m[b]=g[b])}),m};return{parseMarkdown:(g,m)=>{const b={...l,...g.attributes};return m.createNode(t,b,[])},markdownTokenizer:{name:t,level:"block",start(g){var m;const b=new RegExp(`^:::${d}(?:\\s|$)`,"m"),v=(m=g.match(b))==null?void 0:m.index;return v!==void 0?v:-1},tokenize(g,m,b){const v=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),x=g.match(v);if(!x)return;const w=x[1]||"",E=i(w);if(!c.find(A=>!(A in E)))return{type:t,raw:x[0],attributes:E}}},renderMarkdown:g=>{const m=h(g.attrs||{}),b=s(m),v=b?` {${b}}`:"";return`:::${d}${v} :::`}}}function kN(n){const{nodeName:t,name:e,getContent:i,parseAttributes:s=Vm,serializeAttributes:l=qm,defaultAttributes:c={},content:u="block",allowedAttributes:d}=n,h=e||t,g=m=>{if(!d)return m;const b={};return d.forEach(v=>{v in m&&(b[v]=m[v])}),b};return{parseMarkdown:(m,b)=>{let v;if(i){const w=i(m);v=typeof w=="string"?[{type:"text",text:w}]:w}else u==="block"?v=b.parseChildren(m.tokens||[]):v=b.parseInline(m.tokens||[]);const x={...c,...m.attributes};return b.createNode(t,x,v)},markdownTokenizer:{name:t,level:"block",start(m){var b;const v=new RegExp(`^:::${h}`,"m"),x=(b=m.match(v))==null?void 0:b.index;return x!==void 0?x:-1},tokenize(m,b,v){var x;const w=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),E=m.match(w);if(!E)return;const[C,A=""]=E,_=s(A);let V=1;const H=C.length;let $="";const N=/^:::([\w-]*)(\s.*)?/gm,j=m.slice(H);for(N.lastIndex=0;;){const W=N.exec(j);if(W===null)break;const et=W.index,pt=W[1];if(!((x=W[2])!=null&&x.endsWith(":::"))){if(pt)V+=1;else if(V-=1,V===0){const ct=j.slice(0,et);$=ct.trim();const wt=m.slice(0,H+et+W[0].length);let mt=[];if($)if(u==="block")for(mt=v.blockTokens(ct),mt.forEach(yt=>{yt.text&&(!yt.tokens||yt.tokens.length===0)&&(yt.tokens=v.inlineTokens(yt.text))});mt.length>0;){const yt=mt[mt.length-1];if(yt.type==="paragraph"&&(!yt.text||yt.text.trim()===""))mt.pop();else break}else mt=v.inlineTokens($);return{type:t,raw:wt,attributes:_,content:$,tokens:mt}}}}}},renderMarkdown:(m,b)=>{const v=g(m.attrs||{}),x=l(v),w=x?` {${x}}`:"",E=b.renderChildren(m.content||[],`

`);return`:::${h}${w}

${E}

:::`}}}function MN(n){if(!n.trim())return{};const t={},e=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let i=e.exec(n);for(;i!==null;){const[,s,l,c]=i;t[s]=l||c,i=e.exec(n)}return t}function AN(n){return Object.entries(n).filter(([,t])=>t!=null).map(([t,e])=>`${t}="${e}"`).join(" ")}function ON(n){const{nodeName:t,name:e,getContent:i,parseAttributes:s=MN,serializeAttributes:l=AN,defaultAttributes:c={},selfClosing:u=!1,allowedAttributes:d}=n,h=e||t,g=b=>{if(!d)return b;const v={};return d.forEach(x=>{const w=typeof x=="string"?x:x.name,E=typeof x=="string"?void 0:x.skipIfDefault;if(w in b){const C=b[w];if(E!==void 0&&C===E)return;v[w]=C}}),v},m=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(b,v)=>{const x={...c,...b.attributes};if(u)return v.createNode(t,x);const w=i?i(b):b.content||"";return w?v.createNode(t,x,[v.createTextNode(w)]):v.createNode(t,x,[])},markdownTokenizer:{name:t,level:"inline",start(b){const v=u?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),x=b.match(v),w=x?.index;return w!==void 0?w:-1},tokenize(b,v,x){const w=u?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),E=b.match(w);if(!E)return;let C="",A="";if(u){const[,V]=E;A=V}else{const[,V,H]=E;A=V,C=H||""}const _=s(A.trim());return{type:t,raw:E[0],content:C.trim(),attributes:_}}},renderMarkdown:b=>{let v="";i?v=i(b):b.content&&b.content.length>0&&(v=b.content.filter(C=>C.type==="text").map(C=>C.text).join(""));const x=g(b.attrs||{}),w=l(x),E=w?` ${w}`:"";return u?`[${h}${E}]`:`[${h}${E}]${v}[/${h}]`}}}function Xp(n,t,e){var i,s,l,c;const u=n.split(`
`),d=[];let h="",g=0;const m=t.baseIndentSize||2;for(;g<u.length;){const b=u[g],v=b.match(t.itemPattern);if(!v){if(d.length>0)break;if(b.trim()===""){g+=1,h=`${h}${b}
`;continue}else return}const x=t.extractItemData(v),{indentLevel:w,mainContent:E}=x;h=`${h}${b}
`;const C=[E];for(g+=1;g<u.length;){const H=u[g];if(H.trim()===""){const N=u.slice(g+1).findIndex(et=>et.trim()!=="");if(N===-1)break;if((((s=(i=u[g+1+N].match(/^(\s*)/))==null?void 0:i[1])==null?void 0:s.length)||0)>w){C.push(H),h=`${h}${H}
`,g+=1;continue}else break}if((((c=(l=H.match(/^(\s*)/))==null?void 0:l[1])==null?void 0:c.length)||0)>w)C.push(H),h=`${h}${H}
`,g+=1;else break}let A;const _=C.slice(1);if(_.length>0){const H=_.map($=>$.slice(w+m)).join(`
`);H.trim()&&(t.customNestedParser?A=t.customNestedParser(H):A=e.blockTokens(H))}const V=t.createToken(x,A);d.push(V)}if(d.length!==0)return{items:d,raw:h}}function $m(n,t,e,i){if(!n||!Array.isArray(n.content))return"";const s=typeof e=="function"?e(i):e,[l,...c]=n.content,u=t.renderChildren([l]),d=[`${s}${u}`];return c&&c.length>0&&c.forEach(h=>{const g=t.renderChildren([h]);if(g){const m=g.split(`
`).map(b=>b?t.indent(b):"").join(`
`);d.push(m)}}),d.join(`
`)}function NN(n,t,e={}){const{state:i}=t,{doc:s,tr:l}=i,c=n;s.descendants((u,d)=>{const h=l.mapping.map(d),g=l.mapping.map(d)+u.nodeSize;let m=null;if(u.marks.forEach(v=>{if(v!==c)return!1;m=v}),!m)return;let b=!1;if(Object.keys(e).forEach(v=>{e[v]!==m.attrs[v]&&(b=!0)}),b){const v=n.type.create({...n.attrs,...e});l.removeMark(h,g,n.type),l.addMark(h,g,v)}}),l.docChanged&&t.view.dispatch(l)}var wn=class zw extends Im{constructor(){super(...arguments),this.type="node"}static create(t={}){const e=typeof t=="function"?t():t;return new zw(e)}configure(t){return super.configure(t)}extend(t){const e=typeof t=="function"?t():t;return super.extend(e)}};function Ns(n){return new dN({find:n.find,handler:({state:t,range:e,match:i,pasteEvent:s})=>{const l=qt(n.getAttributes,void 0,i,s);if(l===!1||l===null)return null;const{tr:c}=t,u=i[i.length-1],d=i[0];let h=e.to;if(u){const g=d.search(/\S/),m=e.from+d.indexOf(u),b=m+u.length;if(jm(e.from,e.to,t.doc).filter(x=>x.mark.type.excluded.find(E=>E===n.type&&E!==x.mark.type)).filter(x=>x.to>m).length)return null;b<e.to&&c.delete(b,e.to),m>e.from&&c.delete(e.from+g,m),h=e.from+g+u.length,c.addMark(e.from+g,h,n.type.create(l||{})),c.removeStoredMark(n.type)}}})}const{getOwnPropertyNames:DN,getOwnPropertySymbols:RN}=Object,{hasOwnProperty:zN}=Object.prototype;function pp(n,t){return function(i,s,l){return n(i,s,l)&&t(i,s,l)}}function Jc(n){return function(e,i,s){if(!e||!i||typeof e!="object"||typeof i!="object")return n(e,i,s);const{cache:l}=s,c=l.get(e),u=l.get(i);if(c&&u)return c===i&&u===e;l.set(e,i),l.set(i,e);const d=n(e,i,s);return l.delete(e),l.delete(i),d}}function LN(n){return n?.[Symbol.toStringTag]}function w1(n){return DN(n).concat(RN(n))}const BN=Object.hasOwn||((n,t)=>zN.call(n,t));function zs(n,t){return n===t||!n&&!t&&n!==n&&t!==t}const _N="__v",HN="__o",UN="_owner",{getOwnPropertyDescriptor:E1,keys:T1}=Object;function jN(n,t){return n.byteLength===t.byteLength&&Ou(new Uint8Array(n),new Uint8Array(t))}function IN(n,t,e){let i=n.length;if(t.length!==i)return!1;for(;i-- >0;)if(!e.equals(n[i],t[i],i,i,n,t,e))return!1;return!0}function VN(n,t){return n.byteLength===t.byteLength&&Ou(new Uint8Array(n.buffer,n.byteOffset,n.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function qN(n,t){return zs(n.getTime(),t.getTime())}function $N(n,t){return n.name===t.name&&n.message===t.message&&n.cause===t.cause&&n.stack===t.stack}function YN(n,t){return n===t}function C1(n,t,e){const i=n.size;if(i!==t.size)return!1;if(!i)return!0;const s=new Array(i),l=n.entries();let c,u,d=0;for(;(c=l.next())&&!c.done;){const h=t.entries();let g=!1,m=0;for(;(u=h.next())&&!u.done;){if(s[m]){m++;continue}const b=c.value,v=u.value;if(e.equals(b[0],v[0],d,m,n,t,e)&&e.equals(b[1],v[1],b[0],v[0],n,t,e)){g=s[m]=!0;break}m++}if(!g)return!1;d++}return!0}const PN=zs;function GN(n,t,e){const i=T1(n);let s=i.length;if(T1(t).length!==s)return!1;for(;s-- >0;)if(!Lw(n,t,e,i[s]))return!1;return!0}function Pl(n,t,e){const i=w1(n);let s=i.length;if(w1(t).length!==s)return!1;let l,c,u;for(;s-- >0;)if(l=i[s],!Lw(n,t,e,l)||(c=E1(n,l),u=E1(t,l),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function KN(n,t){return zs(n.valueOf(),t.valueOf())}function XN(n,t){return n.source===t.source&&n.flags===t.flags}function k1(n,t,e){const i=n.size;if(i!==t.size)return!1;if(!i)return!0;const s=new Array(i),l=n.values();let c,u;for(;(c=l.next())&&!c.done;){const d=t.values();let h=!1,g=0;for(;(u=d.next())&&!u.done;){if(!s[g]&&e.equals(c.value,u.value,c.value,u.value,n,t,e)){h=s[g]=!0;break}g++}if(!h)return!1}return!0}function Ou(n,t){let e=n.byteLength;if(t.byteLength!==e||n.byteOffset!==t.byteOffset)return!1;for(;e-- >0;)if(n[e]!==t[e])return!1;return!0}function FN(n,t){return n.hostname===t.hostname&&n.pathname===t.pathname&&n.protocol===t.protocol&&n.port===t.port&&n.hash===t.hash&&n.username===t.username&&n.password===t.password}function Lw(n,t,e,i){return(i===UN||i===HN||i===_N)&&(n.$$typeof||t.$$typeof)?!0:BN(t,i)&&e.equals(n[i],t[i],i,i,n,t,e)}const JN="[object ArrayBuffer]",QN="[object Arguments]",ZN="[object Boolean]",WN="[object DataView]",tD="[object Date]",eD="[object Error]",nD="[object Map]",iD="[object Number]",rD="[object Object]",sD="[object RegExp]",oD="[object Set]",lD="[object String]",aD={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},cD="[object URL]",uD=Object.prototype.toString;function fD({areArrayBuffersEqual:n,areArraysEqual:t,areDataViewsEqual:e,areDatesEqual:i,areErrorsEqual:s,areFunctionsEqual:l,areMapsEqual:c,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:h,areRegExpsEqual:g,areSetsEqual:m,areTypedArraysEqual:b,areUrlsEqual:v,unknownTagComparators:x}){return function(E,C,A){if(E===C)return!0;if(E==null||C==null)return!1;const _=typeof E;if(_!==typeof C)return!1;if(_!=="object")return _==="number"?u(E,C,A):_==="function"?l(E,C,A):!1;const V=E.constructor;if(V!==C.constructor)return!1;if(V===Object)return d(E,C,A);if(Array.isArray(E))return t(E,C,A);if(V===Date)return i(E,C,A);if(V===RegExp)return g(E,C,A);if(V===Map)return c(E,C,A);if(V===Set)return m(E,C,A);const H=uD.call(E);if(H===tD)return i(E,C,A);if(H===sD)return g(E,C,A);if(H===nD)return c(E,C,A);if(H===oD)return m(E,C,A);if(H===rD)return typeof E.then!="function"&&typeof C.then!="function"&&d(E,C,A);if(H===cD)return v(E,C,A);if(H===eD)return s(E,C,A);if(H===QN)return d(E,C,A);if(aD[H])return b(E,C,A);if(H===JN)return n(E,C,A);if(H===WN)return e(E,C,A);if(H===ZN||H===iD||H===lD)return h(E,C,A);if(x){let $=x[H];if(!$){const N=LN(E);N&&($=x[N])}if($)return $(E,C,A)}return!1}}function dD({circular:n,createCustomConfig:t,strict:e}){let i={areArrayBuffersEqual:jN,areArraysEqual:e?Pl:IN,areDataViewsEqual:VN,areDatesEqual:qN,areErrorsEqual:$N,areFunctionsEqual:YN,areMapsEqual:e?pp(C1,Pl):C1,areNumbersEqual:PN,areObjectsEqual:e?Pl:GN,arePrimitiveWrappersEqual:KN,areRegExpsEqual:XN,areSetsEqual:e?pp(k1,Pl):k1,areTypedArraysEqual:e?pp(Ou,Pl):Ou,areUrlsEqual:FN,unknownTagComparators:void 0};if(t&&(i=Object.assign({},i,t(i))),n){const s=Jc(i.areArraysEqual),l=Jc(i.areMapsEqual),c=Jc(i.areObjectsEqual),u=Jc(i.areSetsEqual);i=Object.assign({},i,{areArraysEqual:s,areMapsEqual:l,areObjectsEqual:c,areSetsEqual:u})}return i}function hD(n){return function(t,e,i,s,l,c,u){return n(t,e,u)}}function pD({circular:n,comparator:t,createState:e,equals:i,strict:s}){if(e)return function(u,d){const{cache:h=n?new WeakMap:void 0,meta:g}=e();return t(u,d,{cache:h,equals:i,meta:g,strict:s})};if(n)return function(u,d){return t(u,d,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};const l={cache:void 0,equals:i,meta:void 0,strict:s};return function(u,d){return t(u,d,l)}}const mD=Yr();Yr({strict:!0});Yr({circular:!0});Yr({circular:!0,strict:!0});Yr({createInternalComparator:()=>zs});Yr({strict:!0,createInternalComparator:()=>zs});Yr({circular:!0,createInternalComparator:()=>zs});Yr({circular:!0,createInternalComparator:()=>zs,strict:!0});function Yr(n={}){const{circular:t=!1,createInternalComparator:e,createState:i,strict:s=!1}=n,l=dD(n),c=fD(l),u=e?e(c):hD(c);return pD({circular:t,comparator:c,createState:i,equals:u,strict:s})}var mp={exports:{}},gp={};var M1;function gD(){if(M1)return gp;M1=1;var n=Sa(),t=Cx();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var i=typeof Object.is=="function"?Object.is:e,s=t.useSyncExternalStore,l=n.useRef,c=n.useEffect,u=n.useMemo,d=n.useDebugValue;return gp.useSyncExternalStoreWithSelector=function(h,g,m,b,v){var x=l(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=u(function(){function C($){if(!A){if(A=!0,_=$,$=b($),v!==void 0&&w.hasValue){var N=w.value;if(v(N,$))return V=N}return V=$}if(N=V,i(_,$))return N;var j=b($);return v!==void 0&&v(N,j)?(_=$,N):(_=$,V=j)}var A=!1,_,V,H=m===void 0?null:m;return[function(){return C(g())},H===null?void 0:function(){return C(H())}]},[g,m,b,v]);var E=s(h,x[0],x[1]);return c(function(){w.hasValue=!0,w.value=E},[E]),d(E),E},gp}var A1;function yD(){return A1||(A1=1,mp.exports=gD()),mp.exports}var bD=yD();const Bw=["top","right","bottom","left"],O1=["start","end"],N1=Bw.reduce((n,t)=>n.concat(t,t+"-"+O1[0],t+"-"+O1[1]),[]),pi=Math.min,Ge=Math.max,Nu=Math.round,ui=n=>({x:n,y:n}),vD={left:"right",right:"left",bottom:"top",top:"bottom"},xD={start:"end",end:"start"};function Fp(n,t,e){return Ge(n,pi(t,e))}function Xi(n,t){return typeof n=="function"?n(t):n}function jn(n){return n.split("-")[0]}function Xn(n){return n.split("-")[1]}function _w(n){return n==="x"?"y":"x"}function Ym(n){return n==="y"?"height":"width"}const SD=new Set(["top","bottom"]);function ci(n){return SD.has(jn(n))?"y":"x"}function Pm(n){return _w(ci(n))}function Hw(n,t,e){e===void 0&&(e=!1);const i=Xn(n),s=Pm(n),l=Ym(s);let c=s==="x"?i===(e?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=Ru(c)),[c,Ru(c)]}function wD(n){const t=Ru(n);return[Du(n),t,Du(t)]}function Du(n){return n.replace(/start|end/g,t=>xD[t])}const D1=["left","right"],R1=["right","left"],ED=["top","bottom"],TD=["bottom","top"];function CD(n,t,e){switch(n){case"top":case"bottom":return e?t?R1:D1:t?D1:R1;case"left":case"right":return t?ED:TD;default:return[]}}function kD(n,t,e,i){const s=Xn(n);let l=CD(jn(n),e==="start",i);return s&&(l=l.map(c=>c+"-"+s),t&&(l=l.concat(l.map(Du)))),l}function Ru(n){return n.replace(/left|right|bottom|top/g,t=>vD[t])}function MD(n){return{top:0,right:0,bottom:0,left:0,...n}}function Gm(n){return typeof n!="number"?MD(n):{top:n,right:n,bottom:n,left:n}}function Io(n){const{x:t,y:e,width:i,height:s}=n;return{width:i,height:s,top:e,left:t,right:t+i,bottom:e+s,x:t,y:e}}function z1(n,t,e){let{reference:i,floating:s}=n;const l=ci(t),c=Pm(t),u=Ym(c),d=jn(t),h=l==="y",g=i.x+i.width/2-s.width/2,m=i.y+i.height/2-s.height/2,b=i[u]/2-s[u]/2;let v;switch(d){case"top":v={x:g,y:i.y-s.height};break;case"bottom":v={x:g,y:i.y+i.height};break;case"right":v={x:i.x+i.width,y:m};break;case"left":v={x:i.x-s.width,y:m};break;default:v={x:i.x,y:i.y}}switch(Xn(t)){case"start":v[c]-=b*(e&&h?-1:1);break;case"end":v[c]+=b*(e&&h?-1:1);break}return v}const AD=async(n,t,e)=>{const{placement:i="bottom",strategy:s="absolute",middleware:l=[],platform:c}=e,u=l.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:n,floating:t,strategy:s}),{x:g,y:m}=z1(h,i,d),b=i,v={},x=0;for(let w=0;w<u.length;w++){const{name:E,fn:C}=u[w],{x:A,y:_,data:V,reset:H}=await C({x:g,y:m,initialPlacement:i,placement:b,strategy:s,middlewareData:v,rects:h,platform:c,elements:{reference:n,floating:t}});g=A??g,m=_??m,v={...v,[E]:{...v[E],...V}},H&&x<=50&&(x++,typeof H=="object"&&(H.placement&&(b=H.placement),H.rects&&(h=H.rects===!0?await c.getElementRects({reference:n,floating:t,strategy:s}):H.rects),{x:g,y:m}=z1(h,b,d)),w=-1)}return{x:g,y:m,placement:b,strategy:s,middlewareData:v}};async function Vo(n,t){var e;t===void 0&&(t={});const{x:i,y:s,platform:l,rects:c,elements:u,strategy:d}=n,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:b=!1,padding:v=0}=Xi(t,n),x=Gm(v),E=u[b?m==="floating"?"reference":"floating":m],C=Io(await l.getClippingRect({element:(e=await(l.isElement==null?void 0:l.isElement(E)))==null||e?E:E.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:h,rootBoundary:g,strategy:d})),A=m==="floating"?{x:i,y:s,width:c.floating.width,height:c.floating.height}:c.reference,_=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),V=await(l.isElement==null?void 0:l.isElement(_))?await(l.getScale==null?void 0:l.getScale(_))||{x:1,y:1}:{x:1,y:1},H=Io(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:A,offsetParent:_,strategy:d}):A);return{top:(C.top-H.top+x.top)/V.y,bottom:(H.bottom-C.bottom+x.bottom)/V.y,left:(C.left-H.left+x.left)/V.x,right:(H.right-C.right+x.right)/V.x}}const OD=n=>({name:"arrow",options:n,async fn(t){const{x:e,y:i,placement:s,rects:l,platform:c,elements:u,middlewareData:d}=t,{element:h,padding:g=0}=Xi(n,t)||{};if(h==null)return{};const m=Gm(g),b={x:e,y:i},v=Pm(s),x=Ym(v),w=await c.getDimensions(h),E=v==="y",C=E?"top":"left",A=E?"bottom":"right",_=E?"clientHeight":"clientWidth",V=l.reference[x]+l.reference[v]-b[v]-l.floating[x],H=b[v]-l.reference[v],$=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let N=$?$[_]:0;(!N||!await(c.isElement==null?void 0:c.isElement($)))&&(N=u.floating[_]||l.floating[x]);const j=V/2-H/2,W=N/2-w[x]/2-1,et=pi(m[C],W),pt=pi(m[A],W),ct=et,wt=N-w[x]-pt,mt=N/2-w[x]/2+j,yt=Fp(ct,mt,wt),D=!d.arrow&&Xn(s)!=null&&mt!==yt&&l.reference[x]/2-(mt<ct?et:pt)-w[x]/2<0,Y=D?mt<ct?mt-ct:mt-wt:0;return{[v]:b[v]+Y,data:{[v]:yt,centerOffset:mt-yt-Y,...D&&{alignmentOffset:Y}},reset:D}}});function ND(n,t,e){return(n?[...e.filter(s=>Xn(s)===n),...e.filter(s=>Xn(s)!==n)]:e.filter(s=>jn(s)===s)).filter(s=>n?Xn(s)===n||(t?Du(s)!==s:!1):!0)}const DD=function(n){return n===void 0&&(n={}),{name:"autoPlacement",options:n,async fn(t){var e,i,s;const{rects:l,middlewareData:c,placement:u,platform:d,elements:h}=t,{crossAxis:g=!1,alignment:m,allowedPlacements:b=N1,autoAlignment:v=!0,...x}=Xi(n,t),w=m!==void 0||b===N1?ND(m||null,v,b):b,E=await Vo(t,x),C=((e=c.autoPlacement)==null?void 0:e.index)||0,A=w[C];if(A==null)return{};const _=Hw(A,l,await(d.isRTL==null?void 0:d.isRTL(h.floating)));if(u!==A)return{reset:{placement:w[0]}};const V=[E[jn(A)],E[_[0]],E[_[1]]],H=[...((i=c.autoPlacement)==null?void 0:i.overflows)||[],{placement:A,overflows:V}],$=w[C+1];if($)return{data:{index:C+1,overflows:H},reset:{placement:$}};const N=H.map(et=>{const pt=Xn(et.placement);return[et.placement,pt&&g?et.overflows.slice(0,2).reduce((ct,wt)=>ct+wt,0):et.overflows[0],et.overflows]}).sort((et,pt)=>et[1]-pt[1]),W=((s=N.filter(et=>et[2].slice(0,Xn(et[0])?2:3).every(pt=>pt<=0))[0])==null?void 0:s[0])||N[0][0];return W!==u?{data:{index:C+1,overflows:H},reset:{placement:W}}:{}}}},RD=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,i;const{placement:s,middlewareData:l,rects:c,initialPlacement:u,platform:d,elements:h}=t,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:b,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:w=!0,...E}=Xi(n,t);if((e=l.arrow)!=null&&e.alignmentOffset)return{};const C=jn(s),A=ci(u),_=jn(u)===u,V=await(d.isRTL==null?void 0:d.isRTL(h.floating)),H=b||(_||!w?[Ru(u)]:wD(u)),$=x!=="none";!b&&$&&H.push(...kD(u,w,x,V));const N=[u,...H],j=await Vo(t,E),W=[];let et=((i=l.flip)==null?void 0:i.overflows)||[];if(g&&W.push(j[C]),m){const mt=Hw(s,c,V);W.push(j[mt[0]],j[mt[1]])}if(et=[...et,{placement:s,overflows:W}],!W.every(mt=>mt<=0)){var pt,ct;const mt=(((pt=l.flip)==null?void 0:pt.index)||0)+1,yt=N[mt];if(yt&&(!(m==="alignment"?A!==ci(yt):!1)||et.every(G=>ci(G.placement)===A?G.overflows[0]>0:!0)))return{data:{index:mt,overflows:et},reset:{placement:yt}};let D=(ct=et.filter(Y=>Y.overflows[0]<=0).sort((Y,G)=>Y.overflows[1]-G.overflows[1])[0])==null?void 0:ct.placement;if(!D)switch(v){case"bestFit":{var wt;const Y=(wt=et.filter(G=>{if($){const xt=ci(G.placement);return xt===A||xt==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(xt=>xt>0).reduce((xt,Tt)=>xt+Tt,0)]).sort((G,xt)=>G[1]-xt[1])[0])==null?void 0:wt[0];Y&&(D=Y);break}case"initialPlacement":D=u;break}if(s!==D)return{reset:{placement:D}}}return{}}}};function L1(n,t){return{top:n.top-t.height,right:n.right-t.width,bottom:n.bottom-t.height,left:n.left-t.width}}function B1(n){return Bw.some(t=>n[t]>=0)}const zD=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(t){const{rects:e}=t,{strategy:i="referenceHidden",...s}=Xi(n,t);switch(i){case"referenceHidden":{const l=await Vo(t,{...s,elementContext:"reference"}),c=L1(l,e.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:B1(c)}}}case"escaped":{const l=await Vo(t,{...s,altBoundary:!0}),c=L1(l,e.floating);return{data:{escapedOffsets:c,escaped:B1(c)}}}default:return{}}}}};function Uw(n){const t=pi(...n.map(l=>l.left)),e=pi(...n.map(l=>l.top)),i=Ge(...n.map(l=>l.right)),s=Ge(...n.map(l=>l.bottom));return{x:t,y:e,width:i-t,height:s-e}}function LD(n){const t=n.slice().sort((s,l)=>s.y-l.y),e=[];let i=null;for(let s=0;s<t.length;s++){const l=t[s];!i||l.y-i.y>i.height/2?e.push([l]):e[e.length-1].push(l),i=l}return e.map(s=>Io(Uw(s)))}const BD=function(n){return n===void 0&&(n={}),{name:"inline",options:n,async fn(t){const{placement:e,elements:i,rects:s,platform:l,strategy:c}=t,{padding:u=2,x:d,y:h}=Xi(n,t),g=Array.from(await(l.getClientRects==null?void 0:l.getClientRects(i.reference))||[]),m=LD(g),b=Io(Uw(g)),v=Gm(u);function x(){if(m.length===2&&m[0].left>m[1].right&&d!=null&&h!=null)return m.find(E=>d>E.left-v.left&&d<E.right+v.right&&h>E.top-v.top&&h<E.bottom+v.bottom)||b;if(m.length>=2){if(ci(e)==="y"){const et=m[0],pt=m[m.length-1],ct=jn(e)==="top",wt=et.top,mt=pt.bottom,yt=ct?et.left:pt.left,D=ct?et.right:pt.right,Y=D-yt,G=mt-wt;return{top:wt,bottom:mt,left:yt,right:D,width:Y,height:G,x:yt,y:wt}}const E=jn(e)==="left",C=Ge(...m.map(et=>et.right)),A=pi(...m.map(et=>et.left)),_=m.filter(et=>E?et.left===A:et.right===C),V=_[0].top,H=_[_.length-1].bottom,$=A,N=C,j=N-$,W=H-V;return{top:V,bottom:H,left:$,right:N,width:j,height:W,x:$,y:V}}return b}const w=await l.getElementRects({reference:{getBoundingClientRect:x},floating:i.floating,strategy:c});return s.reference.x!==w.reference.x||s.reference.y!==w.reference.y||s.reference.width!==w.reference.width||s.reference.height!==w.reference.height?{reset:{rects:w}}:{}}}},_D=new Set(["left","top"]);async function HD(n,t){const{placement:e,platform:i,elements:s}=n,l=await(i.isRTL==null?void 0:i.isRTL(s.floating)),c=jn(e),u=Xn(e),d=ci(e)==="y",h=_D.has(c)?-1:1,g=l&&d?-1:1,m=Xi(t,n);let{mainAxis:b,crossAxis:v,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof x=="number"&&(v=u==="end"?x*-1:x),d?{x:v*g,y:b*h}:{x:b*h,y:v*g}}const UD=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,i;const{x:s,y:l,placement:c,middlewareData:u}=t,d=await HD(t,n);return c===((e=u.offset)==null?void 0:e.placement)&&(i=u.arrow)!=null&&i.alignmentOffset?{}:{x:s+d.x,y:l+d.y,data:{...d,placement:c}}}}},jD=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:e,y:i,placement:s}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:E=>{let{x:C,y:A}=E;return{x:C,y:A}}},...d}=Xi(n,t),h={x:e,y:i},g=await Vo(t,d),m=ci(jn(s)),b=_w(m);let v=h[b],x=h[m];if(l){const E=b==="y"?"top":"left",C=b==="y"?"bottom":"right",A=v+g[E],_=v-g[C];v=Fp(A,v,_)}if(c){const E=m==="y"?"top":"left",C=m==="y"?"bottom":"right",A=x+g[E],_=x-g[C];x=Fp(A,x,_)}const w=u.fn({...t,[b]:v,[m]:x});return{...w,data:{x:w.x-e,y:w.y-i,enabled:{[b]:l,[m]:c}}}}}},ID=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(t){var e,i;const{placement:s,rects:l,platform:c,elements:u}=t,{apply:d=()=>{},...h}=Xi(n,t),g=await Vo(t,h),m=jn(s),b=Xn(s),v=ci(s)==="y",{width:x,height:w}=l.floating;let E,C;m==="top"||m==="bottom"?(E=m,C=b===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(C=m,E=b==="end"?"top":"bottom");const A=w-g.top-g.bottom,_=x-g.left-g.right,V=pi(w-g[E],A),H=pi(x-g[C],_),$=!t.middlewareData.shift;let N=V,j=H;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(j=_),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(N=A),$&&!b){const et=Ge(g.left,0),pt=Ge(g.right,0),ct=Ge(g.top,0),wt=Ge(g.bottom,0);v?j=x-2*(et!==0||pt!==0?et+pt:Ge(g.left,g.right)):N=w-2*(ct!==0||wt!==0?ct+wt:Ge(g.top,g.bottom))}await d({...t,availableWidth:j,availableHeight:N});const W=await c.getDimensions(u.floating);return x!==W.width||w!==W.height?{reset:{rects:!0}}:{}}}};function Cf(){return typeof window<"u"}function Yo(n){return jw(n)?(n.nodeName||"").toLowerCase():"#document"}function Sn(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function Fi(n){var t;return(t=(jw(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function jw(n){return Cf()?n instanceof Node||n instanceof Sn(n).Node:!1}function Fn(n){return Cf()?n instanceof Element||n instanceof Sn(n).Element:!1}function mi(n){return Cf()?n instanceof HTMLElement||n instanceof Sn(n).HTMLElement:!1}function _1(n){return!Cf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Sn(n).ShadowRoot}const VD=new Set(["inline","contents"]);function Ca(n){const{overflow:t,overflowX:e,overflowY:i,display:s}=Jn(n);return/auto|scroll|overlay|hidden|clip/.test(t+i+e)&&!VD.has(s)}const qD=new Set(["table","td","th"]);function $D(n){return qD.has(Yo(n))}const YD=[":popover-open",":modal"];function kf(n){return YD.some(t=>{try{return n.matches(t)}catch{return!1}})}const PD=["transform","translate","scale","rotate","perspective"],GD=["transform","translate","scale","rotate","perspective","filter"],KD=["paint","layout","strict","content"];function Km(n){const t=Xm(),e=Fn(n)?Jn(n):n;return PD.some(i=>e[i]?e[i]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||GD.some(i=>(e.willChange||"").includes(i))||KD.some(i=>(e.contain||"").includes(i))}function XD(n){let t=Vr(n);for(;mi(t)&&!qo(t);){if(Km(t))return t;if(kf(t))return null;t=Vr(t)}return null}function Xm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FD=new Set(["html","body","#document"]);function qo(n){return FD.has(Yo(n))}function Jn(n){return Sn(n).getComputedStyle(n)}function Mf(n){return Fn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Vr(n){if(Yo(n)==="html")return n;const t=n.assignedSlot||n.parentNode||_1(n)&&n.host||Fi(n);return _1(t)?t.host:t}function Iw(n){const t=Vr(n);return qo(t)?n.ownerDocument?n.ownerDocument.body:n.body:mi(t)&&Ca(t)?t:Iw(t)}function Vw(n,t,e){var i;t===void 0&&(t=[]);const s=Iw(n),l=s===((i=n.ownerDocument)==null?void 0:i.body),c=Sn(s);return l?(Jp(c),t.concat(c,c.visualViewport||[],Ca(s)?s:[],[])):t.concat(s,Vw(s,[]))}function Jp(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function qw(n){const t=Jn(n);let e=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=mi(n),l=s?n.offsetWidth:e,c=s?n.offsetHeight:i,u=Nu(e)!==l||Nu(i)!==c;return u&&(e=l,i=c),{width:e,height:i,$:u}}function $w(n){return Fn(n)?n:n.contextElement}function Ro(n){const t=$w(n);if(!mi(t))return ui(1);const e=t.getBoundingClientRect(),{width:i,height:s,$:l}=qw(t);let c=(l?Nu(e.width):e.width)/i,u=(l?Nu(e.height):e.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const JD=ui(0);function Yw(n){const t=Sn(n);return!Xm()||!t.visualViewport?JD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function QD(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==Sn(n)?!1:t}function ba(n,t,e,i){t===void 0&&(t=!1),e===void 0&&(e=!1);const s=n.getBoundingClientRect(),l=$w(n);let c=ui(1);t&&(i?Fn(i)&&(c=Ro(i)):c=Ro(n));const u=QD(l,e,i)?Yw(l):ui(0);let d=(s.left+u.x)/c.x,h=(s.top+u.y)/c.y,g=s.width/c.x,m=s.height/c.y;if(l){const b=Sn(l),v=i&&Fn(i)?Sn(i):i;let x=b,w=Jp(x);for(;w&&i&&v!==x;){const E=Ro(w),C=w.getBoundingClientRect(),A=Jn(w),_=C.left+(w.clientLeft+parseFloat(A.paddingLeft))*E.x,V=C.top+(w.clientTop+parseFloat(A.paddingTop))*E.y;d*=E.x,h*=E.y,g*=E.x,m*=E.y,d+=_,h+=V,x=Sn(w),w=Jp(x)}}return Io({width:g,height:m,x:d,y:h})}function Af(n,t){const e=Mf(n).scrollLeft;return t?t.left+e:ba(Fi(n)).left+e}function Pw(n,t){const e=n.getBoundingClientRect(),i=e.left+t.scrollLeft-Af(n,e),s=e.top+t.scrollTop;return{x:i,y:s}}function ZD(n){let{elements:t,rect:e,offsetParent:i,strategy:s}=n;const l=s==="fixed",c=Fi(i),u=t?kf(t.floating):!1;if(i===c||u&&l)return e;let d={scrollLeft:0,scrollTop:0},h=ui(1);const g=ui(0),m=mi(i);if((m||!m&&!l)&&((Yo(i)!=="body"||Ca(c))&&(d=Mf(i)),mi(i))){const v=ba(i);h=Ro(i),g.x=v.x+i.clientLeft,g.y=v.y+i.clientTop}const b=c&&!m&&!l?Pw(c,d):ui(0);return{width:e.width*h.x,height:e.height*h.y,x:e.x*h.x-d.scrollLeft*h.x+g.x+b.x,y:e.y*h.y-d.scrollTop*h.y+g.y+b.y}}function WD(n){return Array.from(n.getClientRects())}function tR(n){const t=Fi(n),e=Mf(n),i=n.ownerDocument.body,s=Ge(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),l=Ge(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let c=-e.scrollLeft+Af(n);const u=-e.scrollTop;return Jn(i).direction==="rtl"&&(c+=Ge(t.clientWidth,i.clientWidth)-s),{width:s,height:l,x:c,y:u}}const H1=25;function eR(n,t){const e=Sn(n),i=Fi(n),s=e.visualViewport;let l=i.clientWidth,c=i.clientHeight,u=0,d=0;if(s){l=s.width,c=s.height;const g=Xm();(!g||g&&t==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}const h=Af(i);if(h<=0){const g=i.ownerDocument,m=g.body,b=getComputedStyle(m),v=g.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,x=Math.abs(i.clientWidth-m.clientWidth-v);x<=H1&&(l-=x)}else h<=H1&&(l+=h);return{width:l,height:c,x:u,y:d}}const nR=new Set(["absolute","fixed"]);function iR(n,t){const e=ba(n,!0,t==="fixed"),i=e.top+n.clientTop,s=e.left+n.clientLeft,l=mi(n)?Ro(n):ui(1),c=n.clientWidth*l.x,u=n.clientHeight*l.y,d=s*l.x,h=i*l.y;return{width:c,height:u,x:d,y:h}}function U1(n,t,e){let i;if(t==="viewport")i=eR(n,e);else if(t==="document")i=tR(Fi(n));else if(Fn(t))i=iR(t,e);else{const s=Yw(n);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Io(i)}function Gw(n,t){const e=Vr(n);return e===t||!Fn(e)||qo(e)?!1:Jn(e).position==="fixed"||Gw(e,t)}function rR(n,t){const e=t.get(n);if(e)return e;let i=Vw(n,[]).filter(u=>Fn(u)&&Yo(u)!=="body"),s=null;const l=Jn(n).position==="fixed";let c=l?Vr(n):n;for(;Fn(c)&&!qo(c);){const u=Jn(c),d=Km(c);!d&&u.position==="fixed"&&(s=null),(l?!d&&!s:!d&&u.position==="static"&&!!s&&nR.has(s.position)||Ca(c)&&!d&&Gw(n,c))?i=i.filter(g=>g!==c):s=u,c=Vr(c)}return t.set(n,i),i}function sR(n){let{element:t,boundary:e,rootBoundary:i,strategy:s}=n;const c=[...e==="clippingAncestors"?kf(t)?[]:rR(t,this._c):[].concat(e),i],u=c[0],d=c.reduce((h,g)=>{const m=U1(t,g,s);return h.top=Ge(m.top,h.top),h.right=pi(m.right,h.right),h.bottom=pi(m.bottom,h.bottom),h.left=Ge(m.left,h.left),h},U1(t,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function oR(n){const{width:t,height:e}=qw(n);return{width:t,height:e}}function lR(n,t,e){const i=mi(t),s=Fi(t),l=e==="fixed",c=ba(n,!0,l,t);let u={scrollLeft:0,scrollTop:0};const d=ui(0);function h(){d.x=Af(s)}if(i||!i&&!l)if((Yo(t)!=="body"||Ca(s))&&(u=Mf(t)),i){const v=ba(t,!0,l,t);d.x=v.x+t.clientLeft,d.y=v.y+t.clientTop}else s&&h();l&&!i&&s&&h();const g=s&&!i&&!l?Pw(s,u):ui(0),m=c.left+u.scrollLeft-d.x-g.x,b=c.top+u.scrollTop-d.y-g.y;return{x:m,y:b,width:c.width,height:c.height}}function yp(n){return Jn(n).position==="static"}function j1(n,t){if(!mi(n)||Jn(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return Fi(n)===e&&(e=e.ownerDocument.body),e}function Kw(n,t){const e=Sn(n);if(kf(n))return e;if(!mi(n)){let s=Vr(n);for(;s&&!qo(s);){if(Fn(s)&&!yp(s))return s;s=Vr(s)}return e}let i=j1(n,t);for(;i&&$D(i)&&yp(i);)i=j1(i,t);return i&&qo(i)&&yp(i)&&!Km(i)?e:i||XD(n)||e}const aR=async function(n){const t=this.getOffsetParent||Kw,e=this.getDimensions,i=await e(n.floating);return{reference:lR(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function cR(n){return Jn(n).direction==="rtl"}const uR={convertOffsetParentRelativeRectToViewportRelativeRect:ZD,getDocumentElement:Fi,getClippingRect:sR,getOffsetParent:Kw,getElementRects:aR,getClientRects:WD,getDimensions:oR,getScale:Ro,isElement:Fn,isRTL:cR},Xw=UD,Fw=DD,Jw=jD,Qw=RD,Zw=ID,Ww=zD,tE=OD,eE=BD,nE=(n,t,e)=>{const i=new Map,s={platform:uR,...e},l={...s.platform,_c:i};return AD(n,t,{...s,platform:l})};let Qp,Zp;if(typeof WeakMap<"u"){let n=new WeakMap;Qp=t=>n.get(t),Zp=(t,e)=>(n.set(t,e),e)}else{const n=[];let e=0;Qp=i=>{for(let s=0;s<n.length;s+=2)if(n[s]==i)return n[s+1]},Zp=(i,s)=>(e==10&&(e=0),n[e++]=i,n[e++]=s)}var qi=class{constructor(n,t,e,i){this.width=n,this.height=t,this.map=e,this.problems=i}findCell(n){for(let t=0;t<this.map.length;t++){const e=this.map[t];if(e!=n)continue;const i=t%this.width,s=t/this.width|0;let l=i+1,c=s+1;for(let u=1;l<this.width&&this.map[t+u]==e;u++)l++;for(let u=1;c<this.height&&this.map[t+this.width*u]==e;u++)c++;return{left:i,top:s,right:l,bottom:c}}throw new RangeError(`No cell with offset ${n} found`)}colCount(n){for(let t=0;t<this.map.length;t++)if(this.map[t]==n)return t%this.width;throw new RangeError(`No cell with offset ${n} found`)}nextCell(n,t,e){const{left:i,right:s,top:l,bottom:c}=this.findCell(n);return t=="horiz"?(e<0?i==0:s==this.width)?null:this.map[l*this.width+(e<0?i-1:s)]:(e<0?l==0:c==this.height)?null:this.map[i+this.width*(e<0?l-1:c)]}rectBetween(n,t){const{left:e,right:i,top:s,bottom:l}=this.findCell(n),{left:c,right:u,top:d,bottom:h}=this.findCell(t);return{left:Math.min(e,c),top:Math.min(s,d),right:Math.max(i,u),bottom:Math.max(l,h)}}cellsInRect(n){const t=[],e={};for(let i=n.top;i<n.bottom;i++)for(let s=n.left;s<n.right;s++){const l=i*this.width+s,c=this.map[l];e[c]||(e[c]=!0,!(s==n.left&&s&&this.map[l-1]==c||i==n.top&&i&&this.map[l-this.width]==c)&&t.push(c))}return t}positionAt(n,t,e){for(let i=0,s=0;;i++){const l=s+e.child(i).nodeSize;if(i==n){let c=t+n*this.width;const u=(n+1)*this.width;for(;c<u&&this.map[c]<s;)c++;return c==u?l-1:this.map[c]}s=l}}static get(n){return Qp(n)||Zp(n,fR(n))}};function fR(n){if(n.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+n.type.name);const t=dR(n),e=n.childCount,i=[];let s=0,l=null;const c=[];for(let h=0,g=t*e;h<g;h++)i[h]=0;for(let h=0,g=0;h<e;h++){const m=n.child(h);g++;for(let x=0;;x++){for(;s<i.length&&i[s]!=0;)s++;if(x==m.childCount)break;const w=m.child(x),{colspan:E,rowspan:C,colwidth:A}=w.attrs;for(let _=0;_<C;_++){if(_+h>=e){(l||(l=[])).push({type:"overlong_rowspan",pos:g,n:C-_});break}const V=s+_*t;for(let H=0;H<E;H++){i[V+H]==0?i[V+H]=g:(l||(l=[])).push({type:"collision",row:h,pos:g,n:E-H});const $=A&&A[H];if($){const N=(V+H)%t*2,j=c[N];j==null||j!=$&&c[N+1]==1?(c[N]=$,c[N+1]=1):j==$&&c[N+1]++}}}s+=E,g+=w.nodeSize}const b=(h+1)*t;let v=0;for(;s<b;)i[s++]==0&&v++;v&&(l||(l=[])).push({type:"missing",row:h,n:v}),g++}(t===0||e===0)&&(l||(l=[])).push({type:"zero_sized"});const u=new qi(t,e,i,l);let d=!1;for(let h=0;!d&&h<c.length;h+=2)c[h]!=null&&c[h+1]<e&&(d=!0);return d&&hR(u,c,n),u}function dR(n){let t=-1,e=!1;for(let i=0;i<n.childCount;i++){const s=n.child(i);let l=0;if(e)for(let c=0;c<i;c++){const u=n.child(c);for(let d=0;d<u.childCount;d++){const h=u.child(d);c+h.attrs.rowspan>i&&(l+=h.attrs.colspan)}}for(let c=0;c<s.childCount;c++){const u=s.child(c);l+=u.attrs.colspan,u.attrs.rowspan>1&&(e=!0)}t==-1?t=l:t!=l&&(t=Math.max(t,l))}return t}function hR(n,t,e){n.problems||(n.problems=[]);const i={};for(let s=0;s<n.map.length;s++){const l=n.map[s];if(i[l])continue;i[l]=!0;const c=e.nodeAt(l);if(!c)throw new RangeError(`No cell with offset ${l} found`);let u=null;const d=c.attrs;for(let h=0;h<d.colspan;h++){const g=t[(s+h)%n.width*2];g!=null&&(!d.colwidth||d.colwidth[h]!=g)&&((u||(u=pR(d)))[h]=g)}u&&n.problems.unshift({type:"colwidth mismatch",pos:l,colwidth:u})}}function pR(n){if(n.colwidth)return n.colwidth.slice();const t=[];for(let e=0;e<n.colspan;e++)t.push(0);return t}function Fm(n){let t=n.cached.tableNodeTypes;if(!t){t=n.cached.tableNodeTypes={};for(const e in n.nodes){const i=n.nodes[e],s=i.spec.tableRole;s&&(t[s]=i)}}return t}new te("selectingCells");function mR(n){for(let t=n.depth-1;t>0;t--)if(n.node(t).type.spec.tableRole=="row")return n.node(0).resolve(n.before(t+1));return null}function iE(n){const t=n.selection.$head;for(let e=t.depth;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return!0;return!1}function gR(n){const t=n.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const e=mR(t.$head)||yR(t.$head);if(e)return e;throw new RangeError(`No cell found around position ${t.head}`)}function yR(n){for(let t=n.nodeAfter,e=n.pos;t;t=t.firstChild,e++){const i=t.type.spec.tableRole;if(i=="cell"||i=="header_cell")return n.doc.resolve(e)}for(let t=n.nodeBefore,e=n.pos;t;t=t.lastChild,e--){const i=t.type.spec.tableRole;if(i=="cell"||i=="header_cell")return n.doc.resolve(e-t.nodeSize)}}function I1(n){return n.parent.type.spec.tableRole=="row"&&!!n.nodeAfter}function rE(n,t){return n.depth==t.depth&&n.pos>=t.start(-1)&&n.pos<=t.end(-1)}function sE(n,t,e){const i=n.node(-1),s=qi.get(i),l=n.start(-1),c=s.nextCell(n.pos-l,t,e);return c==null?null:n.node(0).resolve(l+c)}function V1(n,t,e=1){const i={...n,colspan:n.colspan-e};return i.colwidth&&(i.colwidth=i.colwidth.slice(),i.colwidth.splice(t,e),i.colwidth.some(s=>s>0)||(i.colwidth=null)),i}var fi=class ji extends vt{constructor(t,e=t){const i=t.node(-1),s=qi.get(i),l=t.start(-1),c=s.rectBetween(t.pos-l,e.pos-l),u=t.node(0),d=s.cellsInRect(c).filter(g=>g!=e.pos-l);d.unshift(e.pos-l);const h=d.map(g=>{const m=i.nodeAt(g);if(!m)throw new RangeError(`No cell with offset ${g} found`);const b=l+g+1;return new sS(u.resolve(b),u.resolve(b+m.content.size))});super(h[0].$from,h[0].$to,h),this.$anchorCell=t,this.$headCell=e}map(t,e){const i=t.resolve(e.map(this.$anchorCell.pos)),s=t.resolve(e.map(this.$headCell.pos));if(I1(i)&&I1(s)&&rE(i,s)){const l=this.$anchorCell.node(-1)!=i.node(-1);return l&&this.isRowSelection()?ji.rowSelection(i,s):l&&this.isColSelection()?ji.colSelection(i,s):new ji(i,s)}return St.between(i,s)}content(){const t=this.$anchorCell.node(-1),e=qi.get(t),i=this.$anchorCell.start(-1),s=e.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i),l={},c=[];for(let d=s.top;d<s.bottom;d++){const h=[];for(let g=d*e.width+s.left,m=s.left;m<s.right;m++,g++){const b=e.map[g];if(l[b])continue;l[b]=!0;const v=e.findCell(b);let x=t.nodeAt(b);if(!x)throw new RangeError(`No cell with offset ${b} found`);const w=s.left-v.left,E=v.right-s.right;if(w>0||E>0){let C=x.attrs;if(w>0&&(C=V1(C,0,w)),E>0&&(C=V1(C,C.colspan-E,E)),v.left<s.left){if(x=x.type.createAndFill(C),!x)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(C)}`)}else x=x.type.create(C,x.content)}if(v.top<s.top||v.bottom>s.bottom){const C={...x.attrs,rowspan:Math.min(v.bottom,s.bottom)-Math.max(v.top,s.top)};v.top<s.top?x=x.type.createAndFill(C):x=x.type.create(C,x.content)}h.push(x)}c.push(t.child(d).copy(F.from(h)))}const u=this.isColSelection()&&this.isRowSelection()?t:c;return new nt(F.from(u),1,1)}replace(t,e=nt.empty){const i=t.steps.length,s=this.ranges;for(let c=0;c<s.length;c++){const{$from:u,$to:d}=s[c],h=t.mapping.slice(i);t.replace(h.map(u.pos),h.map(d.pos),c?nt.empty:e)}const l=vt.findFrom(t.doc.resolve(t.mapping.slice(i).map(this.to)),-1);l&&t.setSelection(l)}replaceWith(t,e){this.replace(t,new nt(F.from(e),0,0))}forEachCell(t){const e=this.$anchorCell.node(-1),i=qi.get(e),s=this.$anchorCell.start(-1),l=i.cellsInRect(i.rectBetween(this.$anchorCell.pos-s,this.$headCell.pos-s));for(let c=0;c<l.length;c++)t(e.nodeAt(l[c]),s+l[c])}isColSelection(){const t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(t,e)>0)return!1;const i=t+this.$anchorCell.nodeAfter.attrs.rowspan,s=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(i,s)==this.$headCell.node(-1).childCount}static colSelection(t,e=t){const i=t.node(-1),s=qi.get(i),l=t.start(-1),c=s.findCell(t.pos-l),u=s.findCell(e.pos-l),d=t.node(0);return c.top<=u.top?(c.top>0&&(t=d.resolve(l+s.map[c.left])),u.bottom<s.height&&(e=d.resolve(l+s.map[s.width*(s.height-1)+u.right-1]))):(u.top>0&&(e=d.resolve(l+s.map[u.left])),c.bottom<s.height&&(t=d.resolve(l+s.map[s.width*(s.height-1)+c.right-1]))),new ji(t,e)}isRowSelection(){const t=this.$anchorCell.node(-1),e=qi.get(t),i=this.$anchorCell.start(-1),s=e.colCount(this.$anchorCell.pos-i),l=e.colCount(this.$headCell.pos-i);if(Math.min(s,l)>0)return!1;const c=s+this.$anchorCell.nodeAfter.attrs.colspan,u=l+this.$headCell.nodeAfter.attrs.colspan;return Math.max(c,u)==e.width}eq(t){return t instanceof ji&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,e=t){const i=t.node(-1),s=qi.get(i),l=t.start(-1),c=s.findCell(t.pos-l),u=s.findCell(e.pos-l),d=t.node(0);return c.left<=u.left?(c.left>0&&(t=d.resolve(l+s.map[c.top*s.width])),u.right<s.width&&(e=d.resolve(l+s.map[s.width*(u.top+1)-1]))):(u.left>0&&(e=d.resolve(l+s.map[u.top*s.width])),c.right<s.width&&(t=d.resolve(l+s.map[s.width*(c.top+1)-1]))),new ji(t,e)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,e){return new ji(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,i=e){return new ji(t.resolve(e),t.resolve(i))}getBookmark(){return new bR(this.$anchorCell.pos,this.$headCell.pos)}};fi.prototype.visible=!1;vt.jsonID("cell",fi);var bR=class oE{constructor(t,e){this.anchor=t,this.head=e}map(t){return new oE(t.map(this.anchor),t.map(this.head))}resolve(t){const e=t.resolve(this.anchor),i=t.resolve(this.head);return e.parent.type.spec.tableRole=="row"&&i.parent.type.spec.tableRole=="row"&&e.index()<e.parent.childCount&&i.index()<i.parent.childCount&&rE(e,i)?new fi(e,i):vt.near(i,1)}};new te("fix-tables");function lE(n){const t=n.selection,e=gR(n),i=e.node(-1),s=e.start(-1),l=qi.get(i);return{...t instanceof fi?l.rectBetween(t.$anchorCell.pos-s,t.$headCell.pos-s):l.findCell(e.pos-s),tableStart:s,map:l,table:i}}function vR(n){return function(t,e){if(!iE(t))return!1;if(e){const i=Fm(t.schema),s=lE(t),l=t.tr,c=s.map.cellsInRect(n=="column"?{left:s.left,top:0,right:s.right,bottom:s.map.height}:n=="row"?{left:0,top:s.top,right:s.map.width,bottom:s.bottom}:s),u=c.map(d=>s.table.nodeAt(d));for(let d=0;d<c.length;d++)u[d].type==i.header_cell&&l.setNodeMarkup(s.tableStart+c[d],i.cell,u[d].attrs);if(l.steps.length===0)for(let d=0;d<c.length;d++)l.setNodeMarkup(s.tableStart+c[d],i.header_cell,u[d].attrs);e(l)}return!0}}function q1(n,t,e){const i=t.map.cellsInRect({left:0,top:0,right:n=="row"?t.map.width:1,bottom:n=="column"?t.map.height:1});for(let s=0;s<i.length;s++){const l=t.table.nodeAt(i[s]);if(l&&l.type!==e.header_cell)return!1}return!0}function Jm(n,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?vR(n):function(e,i){if(!iE(e))return!1;if(i){const s=Fm(e.schema),l=lE(e),c=e.tr,u=q1("row",l,s),d=q1("column",l,s),h=(n==="column"?u:n==="row"&&d)?1:0,g=n=="column"?{left:0,top:h,right:1,bottom:l.map.height}:n=="row"?{left:h,top:0,right:l.map.width,bottom:1}:l,m=n=="column"?d?s.cell:s.header_cell:n=="row"?u?s.cell:s.header_cell:s.cell;l.map.cellsInRect(g).forEach(b=>{const v=b+l.tableStart,x=c.doc.nodeAt(v);x&&c.setNodeMarkup(v,m,x.attrs)}),i(c)}return!0}}Jm("row",{useDeprecatedLogic:!0});Jm("column",{useDeprecatedLogic:!0});Jm("cell",{useDeprecatedLogic:!0});function Qc(n,t){const e=n.selection;if(!(e instanceof fi))return!1;if(t){const i=n.tr,s=Fm(n.schema).cell.createAndFill().content;e.forEachCell((l,c)=>{l.content.eq(s)||i.replace(i.mapping.map(c+1),i.mapping.map(c+l.nodeSize-1),new nt(s,0,0))}),i.docChanged&&t(i)}return!0}Dm({ArrowLeft:Zc("horiz",-1),ArrowRight:Zc("horiz",1),ArrowUp:Zc("vert",-1),ArrowDown:Zc("vert",1),"Shift-ArrowLeft":Wc("horiz",-1),"Shift-ArrowRight":Wc("horiz",1),"Shift-ArrowUp":Wc("vert",-1),"Shift-ArrowDown":Wc("vert",1),Backspace:Qc,"Mod-Backspace":Qc,Delete:Qc,"Mod-Delete":Qc});function du(n,t,e){return e.eq(n.selection)?!1:(t&&t(n.tr.setSelection(e).scrollIntoView()),!0)}function Zc(n,t){return(e,i,s)=>{if(!s)return!1;const l=e.selection;if(l instanceof fi)return du(e,i,vt.near(l.$headCell,t));if(n!="horiz"&&!l.empty)return!1;const c=aE(s,n,t);if(c==null)return!1;if(n=="horiz")return du(e,i,vt.near(e.doc.resolve(l.head+t),t));{const u=e.doc.resolve(c),d=sE(u,n,t);let h;return d?h=vt.near(d,1):t<0?h=vt.near(e.doc.resolve(u.before(-1)),-1):h=vt.near(e.doc.resolve(u.after(-1)),1),du(e,i,h)}}}function Wc(n,t){return(e,i,s)=>{if(!s)return!1;const l=e.selection;let c;if(l instanceof fi)c=l;else{const d=aE(s,n,t);if(d==null)return!1;c=new fi(e.doc.resolve(d))}const u=sE(c.$headCell,n,t);return u?du(e,i,new fi(c.$anchorCell,u)):!1}}function aE(n,t,e){if(!(n.state.selection instanceof St))return null;const{$head:i}=n.state.selection;for(let s=i.depth-1;s>=0;s--){const l=i.node(s);if((e<0?i.index(s):i.indexAfter(s))!=(e<0?0:l.childCount))return null;if(l.type.spec.tableRole=="cell"||l.type.spec.tableRole=="header_cell"){const c=i.before(s),u=t=="vert"?e>0?"down":"up":e>0?"right":"left";return n.endOfTextblock(u)?c:null}}return null}new te("tableColumnResizing");function xR(n,t){const e=Math.min(n.top,t.top),i=Math.max(n.bottom,t.bottom),s=Math.min(n.left,t.left),c=Math.max(n.right,t.right)-s,u=i-e,d=s,h=e;return new DOMRect(d,h,c,u)}var SR=class{constructor({editor:n,element:t,view:e,updateDelay:i=250,resizeDelay:s=60,shouldShow:l,appendTo:c,getReferencedVirtualElement:u,options:d}){this.preventHide=!1,this.isVisible=!1,this.scrollTarget=window,this.floatingUIOptions={strategy:"absolute",placement:"top",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1,onShow:void 0,onHide:void 0,onUpdate:void 0,onDestroy:void 0},this.shouldShow=({view:g,state:m,from:b,to:v})=>{const{doc:x,selection:w}=m,{empty:E}=w,C=!x.textBetween(b,v).length&&Bm(m.selection),A=this.element.contains(document.activeElement);return!(!(g.hasFocus()||A)||E||C||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:g})=>{var m;if(this.editor.isDestroyed){this.destroy();return}if(this.preventHide){this.preventHide=!1;return}g?.relatedTarget&&((m=this.element.parentNode)!=null&&m.contains(g.relatedTarget))||g?.relatedTarget!==this.editor.view.dom&&this.hide()},this.handleDebouncedUpdate=(g,m)=>{const b=!m?.selection.eq(g.state.selection),v=!m?.doc.eq(g.state.doc);!b&&!v||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(g,b,v,m)},this.updateDelay))},this.updateHandler=(g,m,b,v)=>{const{composing:x}=g;if(x||!m&&!b)return;if(!this.getShouldShow(v)){this.hide();return}this.updatePosition(),this.show()},this.transactionHandler=({transaction:g})=>{const m=g.getMeta("bubbleMenu");m==="updatePosition"?this.updatePosition():m&&typeof m=="object"&&m.type==="updateOptions"&&this.updateOptions(m.options)};var h;this.editor=n,this.element=t,this.view=e,this.updateDelay=i,this.resizeDelay=s,this.appendTo=c,this.scrollTarget=(h=d?.scrollTarget)!=null?h:window,this.getReferencedVirtualElement=u,this.floatingUIOptions={...this.floatingUIOptions,...d},this.element.tabIndex=0,l&&(this.shouldShow=l),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.editor.on("transaction",this.transactionHandler),window.addEventListener("resize",this.resizeHandler),this.scrollTarget.addEventListener("scroll",this.resizeHandler),this.update(e,e.state),this.getShouldShow()&&(this.show(),this.updatePosition())}get middlewares(){const n=[];return this.floatingUIOptions.flip&&n.push(Qw(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&n.push(Jw(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&n.push(Xw(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&n.push(tE(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&n.push(Zw(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&n.push(Fw(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&n.push(Ww(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&n.push(eE(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),n}get virtualElement(){var n,t,e;const{selection:i}=this.editor.state,s=(n=this.getReferencedVirtualElement)==null?void 0:n.call(this);if(s)return s;if(!((e=(t=this.view)==null?void 0:t.dom)!=null&&e.parentNode))return;const l=bw(this.view,i.from,i.to);let c={getBoundingClientRect:()=>l,getClientRects:()=>[l]};if(i instanceof ht){let u=this.view.nodeDOM(i.from);const d=u.dataset.nodeViewWrapper?u:u.querySelector("[data-node-view-wrapper]");d&&(u=d),u&&(c={getBoundingClientRect:()=>u.getBoundingClientRect(),getClientRects:()=>[u.getBoundingClientRect()]})}if(i instanceof fi){const{$anchorCell:u,$headCell:d}=i,h=u?u.pos:d.pos,g=d?d.pos:u.pos,m=this.view.nodeDOM(h),b=this.view.nodeDOM(g);if(!m||!b)return;const v=m===b?m.getBoundingClientRect():xR(m.getBoundingClientRect(),b.getBoundingClientRect());c={getBoundingClientRect:()=>v,getClientRects:()=>[v]}}return c}updatePosition(){const n=this.virtualElement;n&&nE(n,this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:t,y:e,strategy:i,middlewareData:s})=>{var l,c;if((l=s.hide)!=null&&l.referenceHidden||(c=s.hide)!=null&&c.escaped){this.element.style.visibility="hidden";return}this.element.style.visibility="visible",this.element.style.width="max-content",this.element.style.position=i,this.element.style.left=`${t}px`,this.element.style.top=`${e}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(n,t){const{state:e}=n,i=e.selection.from!==e.selection.to;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(n,t);return}const s=!t?.selection.eq(n.state.selection),l=!t?.doc.eq(n.state.doc);this.updateHandler(n,s,l,t)}getShouldShow(n){var t;const{state:e}=this.view,{selection:i}=e,{ranges:s}=i,l=Math.min(...s.map(d=>d.$from.pos)),c=Math.max(...s.map(d=>d.$to.pos));return((t=this.shouldShow)==null?void 0:t.call(this,{editor:this.editor,element:this.element,view:this.view,state:e,oldState:n,from:l,to:c}))||!1}show(){var n;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const t=typeof this.appendTo=="function"?this.appendTo():this.appendTo;(n=t??this.view.dom.parentElement)==null||n.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}updateOptions(n){var t;if(n.updateDelay!==void 0&&(this.updateDelay=n.updateDelay),n.resizeDelay!==void 0&&(this.resizeDelay=n.resizeDelay),n.appendTo!==void 0&&(this.appendTo=n.appendTo),n.getReferencedVirtualElement!==void 0&&(this.getReferencedVirtualElement=n.getReferencedVirtualElement),n.shouldShow!==void 0&&n.shouldShow&&(this.shouldShow=n.shouldShow),n.options!==void 0){const e=(t=n.options.scrollTarget)!=null?t:window;e!==this.scrollTarget&&(this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.scrollTarget=e,this.scrollTarget.addEventListener("scroll",this.resizeHandler)),this.floatingUIOptions={...this.floatingUIOptions,...n.options}}}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),window.removeEventListener("resize",this.resizeHandler),this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.editor.off("transaction",this.transactionHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},cE=n=>new Qt({key:typeof n.pluginKey=="string"?new te(n.pluginKey):n.pluginKey,view:t=>new SR({view:t,...n})});ie.create({name:"bubbleMenu",addOptions(){return{element:null,pluginKey:"bubbleMenu",updateDelay:void 0,appendTo:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[cE({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,options:this.options.options,appendTo:this.options.appendTo,getReferencedVirtualElement:this.options.getReferencedVirtualElement,shouldShow:this.options.shouldShow})]:[]}});var wR=class{constructor({editor:n,element:t,view:e,updateDelay:i=250,resizeDelay:s=60,options:l,appendTo:c,shouldShow:u}){this.preventHide=!1,this.isVisible=!1,this.scrollTarget=window,this.shouldShow=({view:h,state:g})=>{const{selection:m}=g,{$anchor:b,empty:v}=m,x=b.depth===1,w=b.parent.isTextblock&&!b.parent.type.spec.code&&!b.parent.textContent&&b.parent.childCount===0&&!this.getTextContent(b.parent);return!(!h.hasFocus()||!v||!x||!w||!this.editor.isEditable)},this.floatingUIOptions={strategy:"absolute",placement:"right",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1},this.updateHandler=(h,g,m,b)=>{const{composing:v}=h;if(v||!g&&!m)return;if(!this.getShouldShow(b)){this.hide();return}this.updatePosition(),this.show()},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:h})=>{var g;if(this.preventHide){this.preventHide=!1;return}h?.relatedTarget&&((g=this.element.parentNode)!=null&&g.contains(h.relatedTarget))||h?.relatedTarget!==this.editor.view.dom&&this.hide()},this.transactionHandler=({transaction:h})=>{const g=h.getMeta("floatingMenu");g==="updatePosition"?this.updatePosition():g&&typeof g=="object"&&g.type==="updateOptions"&&this.updateOptions(g.options)},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)};var d;this.editor=n,this.element=t,this.view=e,this.updateDelay=i,this.resizeDelay=s,this.appendTo=c,this.scrollTarget=(d=l?.scrollTarget)!=null?d:window,this.floatingUIOptions={...this.floatingUIOptions,...l},this.element.tabIndex=0,u&&(this.shouldShow=u),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.editor.on("transaction",this.transactionHandler),window.addEventListener("resize",this.resizeHandler),this.scrollTarget.addEventListener("scroll",this.resizeHandler),this.update(e,e.state),this.getShouldShow()&&(this.show(),this.updatePosition())}getTextContent(n){return dw(n,{textSerializers:Um(this.editor.schema)})}get middlewares(){const n=[];return this.floatingUIOptions.flip&&n.push(Qw(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&n.push(Jw(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&n.push(Xw(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&n.push(tE(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&n.push(Zw(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&n.push(Fw(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&n.push(Ww(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&n.push(eE(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),n}getShouldShow(n){var t;const{state:e}=this.view,{selection:i}=e,{ranges:s}=i,l=Math.min(...s.map(d=>d.$from.pos)),c=Math.max(...s.map(d=>d.$to.pos));return(t=this.shouldShow)==null?void 0:t.call(this,{editor:this.editor,view:this.view,state:e,oldState:n,from:l,to:c})}updateOptions(n){var t;if(n.updateDelay!==void 0&&(this.updateDelay=n.updateDelay),n.resizeDelay!==void 0&&(this.resizeDelay=n.resizeDelay),n.appendTo!==void 0&&(this.appendTo=n.appendTo),n.shouldShow!==void 0&&n.shouldShow&&(this.shouldShow=n.shouldShow),n.options!==void 0){const e=(t=n.options.scrollTarget)!=null?t:window;e!==this.scrollTarget&&(this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.scrollTarget=e,this.scrollTarget.addEventListener("scroll",this.resizeHandler)),this.floatingUIOptions={...this.floatingUIOptions,...n.options}}}updatePosition(){const{selection:n}=this.editor.state,t=bw(this.view,n.from,n.to);nE({getBoundingClientRect:()=>t,getClientRects:()=>[t]},this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:i,y:s,strategy:l,middlewareData:c})=>{var u,d;if((u=c.hide)!=null&&u.referenceHidden||(d=c.hide)!=null&&d.escaped){this.element.style.visibility="hidden";return}this.element.style.visibility="visible",this.element.style.width="max-content",this.element.style.position=l,this.element.style.left=`${i}px`,this.element.style.top=`${s}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(n,t){const e=!t?.selection.eq(n.state.selection),i=!t?.doc.eq(n.state.doc);this.updateHandler(n,e,i,t)}show(){var n;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const t=typeof this.appendTo=="function"?this.appendTo():this.appendTo;(n=t??this.view.dom.parentElement)==null||n.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),window.removeEventListener("resize",this.resizeHandler),this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.editor.off("transaction",this.transactionHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},uE=n=>new Qt({key:typeof n.pluginKey=="string"?new te(n.pluginKey):n.pluginKey,view:t=>new wR({view:t,...n})});ie.create({name:"floatingMenu",addOptions(){return{element:null,options:{},pluginKey:"floatingMenu",updateDelay:void 0,resizeDelay:void 0,appendTo:void 0,shouldShow:null}},addCommands(){return{updateFloatingMenuPosition:()=>({tr:n,dispatch:t})=>(t&&n.setMeta("floatingMenu","updatePosition"),!0)}},addProseMirrorPlugins(){return this.options.element?[uE({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,resizeDelay:this.options.resizeDelay,options:this.options.options,appendTo:this.options.appendTo,shouldShow:this.options.shouldShow})]:[]}});var ER=(...n)=>t=>{n.forEach(e=>{typeof e=="function"?e(t):e&&(e.current=t)})},TR=({contentComponent:n})=>{const t=kx.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return rt.jsx(rt.Fragment,{children:Object.values(t)})};function CR(){const n=new Set;let t={};return{subscribe(e){return n.add(e),()=>{n.delete(e)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(e,i){t={...t,[e]:Tx.createPortal(i.reactElement,i.element,e)},n.forEach(s=>s())},removeRenderer(e){const i={...t};delete i[e],t=i,n.forEach(s=>s())}}}var kR=class extends Z.Component{constructor(n){var t;super(n),this.editorContentRef=Z.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=n.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var n;const t=this.props.editor;if(t&&!t.isDestroyed&&((n=t.view.dom)!=null&&n.parentNode)){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:e}),t.contentComponent=CR(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(i=>i.hasContentComponentInitialized?i:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var n;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((n=t.view.dom)!=null&&n.parentNode))return;const e=document.createElement("div");e.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:e})}catch{}}}render(){const{editor:n,innerRef:t,...e}=this.props;return rt.jsxs(rt.Fragment,{children:[rt.jsx("div",{ref:ER(t,this.editorContentRef),...e}),n?.contentComponent&&rt.jsx(TR,{contentComponent:n.contentComponent})]})}},MR=tt.forwardRef((n,t)=>{const e=Z.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return Z.createElement(kR,{key:e,innerRef:t,...n})}),fE=Z.memo(MR),AR=typeof window<"u"?tt.useLayoutEffect:tt.useEffect,OR=class{constructor(n){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=n,this.lastSnapshot={editor:n,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(n){return this.subscribers.add(n),()=>{this.subscribers.delete(n)}}watch(n){if(this.editor=n,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},e=this.editor;return e.on("transaction",t),()=>{e.off("transaction",t)}}}};function NR(n){var t;const[e]=tt.useState(()=>new OR(n.editor)),i=bD.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getServerSnapshot,n.selector,(t=n.equalityFn)!=null?t:mD);return AR(()=>e.watch(n.editor),[n.editor,e]),tt.useDebugValue(i),i}var DR=!1,Wp=typeof window>"u",RR=Wp||!!(typeof window<"u"&&window.next),zR=class dE{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(e=>e())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Wp||RR?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...i)=>{var s,l;return(l=(s=this.options.current).onBeforeCreate)==null?void 0:l.call(s,...i)},onBlur:(...i)=>{var s,l;return(l=(s=this.options.current).onBlur)==null?void 0:l.call(s,...i)},onCreate:(...i)=>{var s,l;return(l=(s=this.options.current).onCreate)==null?void 0:l.call(s,...i)},onDestroy:(...i)=>{var s,l;return(l=(s=this.options.current).onDestroy)==null?void 0:l.call(s,...i)},onFocus:(...i)=>{var s,l;return(l=(s=this.options.current).onFocus)==null?void 0:l.call(s,...i)},onSelectionUpdate:(...i)=>{var s,l;return(l=(s=this.options.current).onSelectionUpdate)==null?void 0:l.call(s,...i)},onTransaction:(...i)=>{var s,l;return(l=(s=this.options.current).onTransaction)==null?void 0:l.call(s,...i)},onUpdate:(...i)=>{var s,l;return(l=(s=this.options.current).onUpdate)==null?void 0:l.call(s,...i)},onContentError:(...i)=>{var s,l;return(l=(s=this.options.current).onContentError)==null?void 0:l.call(s,...i)},onDrop:(...i)=>{var s,l;return(l=(s=this.options.current).onDrop)==null?void 0:l.call(s,...i)},onPaste:(...i)=>{var s,l;return(l=(s=this.options.current).onPaste)==null?void 0:l.call(s,...i)},onDelete:(...i)=>{var s,l;return(l=(s=this.options.current).onDelete)==null?void 0:l.call(s,...i)}};return new SN(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,e){return Object.keys(t).every(i=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(i)?!0:i==="extensions"&&t.extensions&&e.extensions?t.extensions.length!==e.extensions.length?!1:t.extensions.every((s,l)=>{var c;return s===((c=e.extensions)==null?void 0:c[l])}):t[i]===e[i])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?dE.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((i,s)=>i===t[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,e=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){e&&e.setOptions(this.options.current);return}e&&!e.isDestroyed&&(e.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function LR(n={},t=[]){const e=tt.useRef(n);e.current=n;const[i]=tt.useState(()=>new zR(e)),s=kx.useSyncExternalStore(i.subscribe,i.getEditor,i.getServerSnapshot);return tt.useDebugValue(s),tt.useEffect(i.onRender(t)),NR({editor:s,selector:({transactionNumber:l})=>n.shouldRerenderOnTransaction===!1||n.shouldRerenderOnTransaction===void 0?null:n.immediatelyRender&&l===0?0:l+1}),s}var Qm=tt.createContext({editor:null});Qm.Consumer;var hE=()=>tt.useContext(Qm),BR=tt.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),_R=()=>tt.useContext(BR);Z.forwardRef((n,t)=>{const{onDragStart:e}=_R(),i=n.as||"div";return rt.jsx(i,{...n,ref:t,"data-node-view-wrapper":"",onDragStart:e,style:{whiteSpace:"normal",...n.style}})});Z.createContext({markViewContentRef:()=>{}});var HR=Z.forwardRef(({pluginKey:n="bubbleMenu",editor:t,updateDelay:e,resizeDelay:i,appendTo:s,shouldShow:l=null,getReferencedVirtualElement:c,options:u,children:d,...h},g)=>{const m=tt.useRef(document.createElement("div"));typeof g=="function"?g(m.current):g&&(g.current=m.current);const{editor:b}=hE(),v=t||b,x={updateDelay:e,resizeDelay:i,appendTo:s,pluginKey:n,shouldShow:l,getReferencedVirtualElement:c,options:u},w=tt.useRef(x);w.current=x;const[E,C]=tt.useState(!1),A=tt.useRef(!0);return tt.useEffect(()=>{if(v?.isDestroyed)return;if(!v){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const _=m.current;_.style.visibility="hidden",_.style.position="absolute";const V=cE({...w.current,editor:v,element:_});v.registerPlugin(V);const H=w.current.pluginKey;return A.current=!0,C(!0),()=>{C(!1),v.unregisterPlugin(H),window.requestAnimationFrame(()=>{_.parentNode&&_.parentNode.removeChild(_)})}},[v]),tt.useEffect(()=>{if(!(!E||!v||v.isDestroyed)){if(A.current){A.current=!1;return}v.view.dispatch(v.state.tr.setMeta("bubbleMenu",{type:"updateOptions",options:w.current}))}},[E,v,e,i,l,u,s,c]),dm.createPortal(rt.jsx("div",{...h,children:d}),m.current)}),UR=Z.forwardRef(({pluginKey:n="floatingMenu",editor:t,updateDelay:e,resizeDelay:i,appendTo:s,shouldShow:l=null,options:c,children:u,...d},h)=>{const g=tt.useRef(document.createElement("div"));typeof h=="function"?h(g.current):h&&(h.current=g.current);const{editor:m}=hE(),b=t||m,v={updateDelay:e,resizeDelay:i,appendTo:s,pluginKey:n,shouldShow:l,options:c},x=tt.useRef(v);x.current=v;const[w,E]=tt.useState(!1),C=tt.useRef(!0);return tt.useEffect(()=>{if(b?.isDestroyed)return;if(!b){console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");return}const A=g.current;A.style.visibility="hidden",A.style.position="absolute";const _=uE({...x.current,editor:b,element:A});b.registerPlugin(_);const V=x.current.pluginKey;return C.current=!0,E(!0),()=>{E(!1),b.unregisterPlugin(V),window.requestAnimationFrame(()=>{A.parentNode&&A.parentNode.removeChild(A)})}},[b]),tt.useEffect(()=>{if(!(!w||!b||b.isDestroyed)){if(C.current){C.current=!1;return}b.view.dispatch(b.state.tr.setMeta("floatingMenu",{type:"updateOptions",options:x.current}))}},[w,b,e,i,l,c,s]),dm.createPortal(rt.jsx("div",{...d,children:u}),g.current)}),Zm=tt.createContext({editor:null,isReady:!1});Zm.displayName="TiptapContext";var Of=()=>tt.useContext(Zm);function pE({instance:n,children:t}){var e;const[i,s]=tt.useState((e=n?.isInitialized)!=null?e:!1);tt.useEffect(()=>{if(!n){s(!1);return}if(n.isInitialized){s(!0);return}const u=()=>{s(!0)};return n.on("create",u),()=>{n.off("create",u)}},[n]);const l=tt.useMemo(()=>({editor:n,isReady:i}),[n,i]),c=tt.useMemo(()=>({editor:n}),[n]);return rt.jsx(Qm.Provider,{value:c,children:rt.jsx(Zm.Provider,{value:l,children:t})})}pE.displayName="Tiptap";function mE({...n}){const{editor:t}=Of();return rt.jsx(fE,{editor:t,...n})}mE.displayName="Tiptap.Content";function gE({children:n}){const{isReady:t}=Of();return t?null:n}gE.displayName="Tiptap.Loading";function yE({children:n,...t}){const{editor:e}=Of();return e?rt.jsx(HR,{editor:e,...t,children:n}):null}yE.displayName="Tiptap.BubbleMenu";function bE({children:n,...t}){const{editor:e}=Of();return e?rt.jsx(UR,{...t,editor:e,children:n}):null}bE.displayName="Tiptap.FloatingMenu";Object.assign(pE,{Content:mE,Loading:gE,BubbleMenu:yE,FloatingMenu:bE});var zu=(n,t)=>{if(n==="slot")return 0;if(n instanceof Function)return n(t);const{children:e,...i}=t??{};if(n==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[n,i,e]},jR=/^\s*>\s$/,IR=wn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return zu("blockquote",{...ge(this.options.HTMLAttributes,n),children:zu("slot",{})})},parseMarkdown:(n,t)=>t.createNode("blockquote",void 0,t.parseChildren(n.tokens||[])),renderMarkdown:(n,t)=>{if(!n.content)return"";const e=">",i=[];return n.content.forEach(s=>{const u=t.renderChildren([s]).split(`
`).map(d=>d.trim()===""?e:`${e} ${d}`);i.push(u.join(`
`))}),i.join(`
${e}
`)},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[jo({find:jR,type:this.type})]}}),VR=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,qR=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,$R=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,YR=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,PR=Rs.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return zu("strong",{...ge(this.options.HTMLAttributes,n),children:zu("slot",{})})},markdownTokenName:"strong",parseMarkdown:(n,t)=>t.applyMark("bold",t.parseInline(n.tokens||[])),renderMarkdown:(n,t)=>`**${t.renderChildren(n)}**`,addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Uo({find:VR,type:this.type}),Uo({find:$R,type:this.type})]},addPasteRules(){return[Ns({find:qR,type:this.type}),Ns({find:YR,type:this.type})]}}),GR=/(^|[^`])`([^`]+)`(?!`)$/,KR=/(^|[^`])`([^`]+)`(?!`)/g,XR=Rs.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",ge(this.options.HTMLAttributes,n),0]},markdownTokenName:"codespan",parseMarkdown:(n,t)=>t.applyMark("code",[{type:"text",text:n.text||""}]),renderMarkdown:(n,t)=>n.content?`\`${t.renderChildren(n.content)}\``:"",addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Uo({find:GR,type:this.type})]},addPasteRules(){return[Ns({find:KR,type:this.type})]}}),bp=4,FR=/^```([a-z]+)?[\s\n]$/,JR=/^~~~([a-z]+)?[\s\n]$/,QR=wn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:bp,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var t;const{languageClassPrefix:e}=this.options;if(!e)return null;const l=[...((t=n.firstElementChild)==null?void 0:t.classList)||[]].filter(c=>c.startsWith(e)).map(c=>c.replace(e,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:t}){return["pre",ge(this.options.HTMLAttributes,t),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(n,t)=>{var e;return((e=n.raw)==null?void 0:e.startsWith("```"))===!1&&n.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:n.lang||null},n.text?[t.createTextNode(n.text)]:[])},renderMarkdown:(n,t)=>{var e;let i="";const s=((e=n.attrs)==null?void 0:e.language)||"";return n.content?i=[`\`\`\`${s}`,t.renderChildren(n.content),"```"].join(`
`):i=`\`\`\`${s}

\`\`\``,i},addCommands(){return{setCodeBlock:n=>({commands:t})=>t.setNode(this.name,n),toggleCodeBlock:n=>({commands:t})=>t.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:t}=this.editor.state.selection,e=t.pos===1;return!n||t.parent.type.name!==this.name?!1:e||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:n})=>{var t;if(!this.options.enableTabIndentation)return!1;const e=(t=this.options.tabSize)!=null?t:bp,{state:i}=n,{selection:s}=i,{$from:l,empty:c}=s;if(l.parent.type!==this.type)return!1;const u=" ".repeat(e);return c?n.commands.insertContent(u):n.commands.command(({tr:d})=>{const{from:h,to:g}=s,v=i.doc.textBetween(h,g,`
`,`
`).split(`
`).map(x=>u+x).join(`
`);return d.replaceWith(h,g,i.schema.text(v)),!0})},"Shift-Tab":({editor:n})=>{var t;if(!this.options.enableTabIndentation)return!1;const e=(t=this.options.tabSize)!=null?t:bp,{state:i}=n,{selection:s}=i,{$from:l,empty:c}=s;return l.parent.type!==this.type?!1:c?n.commands.command(({tr:u})=>{var d;const{pos:h}=l,g=l.start(),m=l.end(),v=i.doc.textBetween(g,m,`
`,`
`).split(`
`);let x=0,w=0;const E=h-g;for(let $=0;$<v.length;$+=1){if(w+v[$].length>=E){x=$;break}w+=v[$].length+1}const A=((d=v[x].match(/^ */))==null?void 0:d[0])||"",_=Math.min(A.length,e);if(_===0)return!0;let V=g;for(let $=0;$<x;$+=1)V+=v[$].length+1;return u.delete(V,V+_),h-V<=_&&u.setSelection(St.create(u.doc,V)),!0}):n.commands.command(({tr:u})=>{const{from:d,to:h}=s,b=i.doc.textBetween(d,h,`
`,`
`).split(`
`).map(v=>{var x;const w=((x=v.match(/^ */))==null?void 0:x[0])||"",E=Math.min(w.length,e);return v.slice(E)}).join(`
`);return u.replaceWith(d,h,i.schema.text(b)),!0})},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=n,{selection:e}=t,{$from:i,empty:s}=e;if(!s||i.parent.type!==this.type)return!1;const l=i.parentOffset===i.parent.nodeSize-2,c=i.parent.textContent.endsWith(`

`);return!l||!c?!1:n.chain().command(({tr:u})=>(u.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=n,{selection:e,doc:i}=t,{$from:s,empty:l}=e;if(!l||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const u=s.after();return u===void 0?!1:i.nodeAt(u)?n.commands.command(({tr:h})=>(h.setSelection(vt.near(i.resolve(u))),!0)):n.commands.exitCode()}}},addInputRules(){return[Kp({find:FR,type:this.type,getAttributes:n=>({language:n[1]})}),Kp({find:JR,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Qt({key:new te("codeBlockVSCodeHandler"),props:{handlePaste:(n,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const e=t.clipboardData.getData("text/plain"),i=t.clipboardData.getData("vscode-editor-data"),s=i?JSON.parse(i):void 0,l=s?.mode;if(!e||!l)return!1;const{tr:c,schema:u}=n.state,d=u.text(e.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:l},d)),c.selection.$from.parent.type!==this.type&&c.setSelection(St.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),n.dispatch(c),!0}}})]}}),ZR=wn.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(n,t)=>n.content?t.renderChildren(n.content,`

`):""}),WR=wn.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",ge(this.options.HTMLAttributes,n)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:n,chain:t,state:e,editor:i})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:s,storedMarks:l}=e;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:u}=i.extensionManager,d=l||s.$to.parentOffset&&s.$from.marks();return t().insertContent({type:this.name}).command(({tr:h,dispatch:g})=>{if(g&&d&&c){const m=d.filter(b=>u.includes(b.type.name));h.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),tz=wn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:t}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,ge(this.options.HTMLAttributes,t),0]},parseMarkdown:(n,t)=>t.createNode("heading",{level:n.depth||1},t.parseInline(n.tokens||[])),renderMarkdown:(n,t)=>{var e;const i=(e=n.attrs)!=null&&e.level?parseInt(n.attrs.level,10):1,s="#".repeat(i);return n.content?`${s} ${t.renderChildren(n.content)}`:""},addCommands(){return{setHeading:n=>({commands:t})=>this.options.levels.includes(n.level)?t.setNode(this.name,n):!1,toggleHeading:n=>({commands:t})=>this.options.levels.includes(n.level)?t.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,t)=>({...n,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(n=>Kp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}}),ez=wn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",ge(this.options.HTMLAttributes,n)]},markdownTokenName:"hr",parseMarkdown:(n,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:n,state:t})=>{if(!EN(t,t.schema.nodes[this.name]))return!1;const{selection:e}=t,{$to:i}=e,s=n();return mw(e)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:l,tr:c,dispatch:u})=>{if(u){const{$to:d}=c.selection,h=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?c.setSelection(St.create(c.doc,d.pos+1)):d.nodeAfter.isBlock?c.setSelection(ht.create(c.doc,d.pos)):c.setSelection(St.create(c.doc,d.pos));else{const g=l.schema.nodes[this.options.nextNodeType]||d.parent.type.contentMatch.defaultType,m=g?.create();m&&(c.insert(h,m),c.setSelection(St.create(c.doc,h+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[wN({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),nz=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,iz=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,rz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,sz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,oz=Rs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",ge(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(n,t)=>t.applyMark("italic",t.parseInline(n.tokens||[])),renderMarkdown:(n,t)=>`*${t.renderChildren(n)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Uo({find:nz,type:this.type}),Uo({find:rz,type:this.type})]},addPasteRules(){return[Ns({find:iz,type:this.type}),Ns({find:sz,type:this.type})]}});const lz="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",az="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",tm="numeric",em="ascii",nm="alpha",ia="asciinumeric",Zl="alphanumeric",im="domain",vE="emoji",cz="scheme",uz="slashscheme",vp="whitespace";function fz(n,t){return n in t||(t[n]=[]),t[n]}function xs(n,t,e){t[tm]&&(t[ia]=!0,t[Zl]=!0),t[em]&&(t[ia]=!0,t[nm]=!0),t[ia]&&(t[Zl]=!0),t[nm]&&(t[Zl]=!0),t[Zl]&&(t[im]=!0),t[vE]&&(t[im]=!0);for(const i in t){const s=fz(i,e);s.indexOf(n)<0&&s.push(n)}}function dz(n,t){const e={};for(const i in t)t[i].indexOf(n)>=0&&(e[i]=!0);return e}function an(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}an.groups={};an.prototype={accepts(){return!!this.t},go(n){const t=this,e=t.j[n];if(e)return e;for(let i=0;i<t.jr.length;i++){const s=t.jr[i][0],l=t.jr[i][1];if(l&&s.test(n))return l}return t.jd},has(n,t=!1){return t?n in this.j:!!this.go(n)},ta(n,t,e,i){for(let s=0;s<n.length;s++)this.tt(n[s],t,e,i)},tr(n,t,e,i){i=i||an.groups;let s;return t&&t.j?s=t:(s=new an(t),e&&i&&xs(t,e,i)),this.jr.push([n,s]),s},ts(n,t,e,i){let s=this;const l=n.length;if(!l)return s;for(let c=0;c<l-1;c++)s=s.tt(n[c]);return s.tt(n[l-1],t,e,i)},tt(n,t,e,i){i=i||an.groups;const s=this;if(t&&t.j)return s.j[n]=t,t;const l=t;let c,u=s.go(n);if(u?(c=new an,Object.assign(c.j,u.j),c.jr.push.apply(c.jr,u.jr),c.jd=u.jd,c.t=u.t):c=new an,l){if(i)if(c.t&&typeof c.t=="string"){const d=Object.assign(dz(c.t,i),e);xs(l,d,i)}else e&&xs(l,e,i);c.t=l}return s.j[n]=c,c}};const Ot=(n,t,e,i,s)=>n.ta(t,e,i,s),oe=(n,t,e,i,s)=>n.tr(t,e,i,s),$1=(n,t,e,i,s)=>n.ts(t,e,i,s),Q=(n,t,e,i,s)=>n.tt(t,e,i,s),Ii="WORD",rm="UWORD",xE="ASCIINUMERICAL",SE="ALPHANUMERICAL",va="LOCALHOST",sm="TLD",om="UTLD",hu="SCHEME",Ao="SLASH_SCHEME",Wm="NUM",lm="WS",tg="NL",ra="OPENBRACE",sa="CLOSEBRACE",Lu="OPENBRACKET",Bu="CLOSEBRACKET",_u="OPENPAREN",Hu="CLOSEPAREN",Uu="OPENANGLEBRACKET",ju="CLOSEANGLEBRACKET",Iu="FULLWIDTHLEFTPAREN",Vu="FULLWIDTHRIGHTPAREN",qu="LEFTCORNERBRACKET",$u="RIGHTCORNERBRACKET",Yu="LEFTWHITECORNERBRACKET",Pu="RIGHTWHITECORNERBRACKET",Gu="FULLWIDTHLESSTHAN",Ku="FULLWIDTHGREATERTHAN",Xu="AMPERSAND",Fu="APOSTROPHE",Ju="ASTERISK",Mr="AT",Qu="BACKSLASH",Zu="BACKTICK",Wu="CARET",Nr="COLON",eg="COMMA",tf="DOLLAR",si="DOT",ef="EQUALS",ng="EXCLAMATION",Ln="HYPHEN",oa="PERCENT",nf="PIPE",rf="PLUS",sf="POUND",la="QUERY",ig="QUOTE",wE="FULLWIDTHMIDDLEDOT",rg="SEMI",oi="SLASH",aa="TILDE",of="UNDERSCORE",EE="EMOJI",lf="SYM";var TE=Object.freeze({__proto__:null,ALPHANUMERICAL:SE,AMPERSAND:Xu,APOSTROPHE:Fu,ASCIINUMERICAL:xE,ASTERISK:Ju,AT:Mr,BACKSLASH:Qu,BACKTICK:Zu,CARET:Wu,CLOSEANGLEBRACKET:ju,CLOSEBRACE:sa,CLOSEBRACKET:Bu,CLOSEPAREN:Hu,COLON:Nr,COMMA:eg,DOLLAR:tf,DOT:si,EMOJI:EE,EQUALS:ef,EXCLAMATION:ng,FULLWIDTHGREATERTHAN:Ku,FULLWIDTHLEFTPAREN:Iu,FULLWIDTHLESSTHAN:Gu,FULLWIDTHMIDDLEDOT:wE,FULLWIDTHRIGHTPAREN:Vu,HYPHEN:Ln,LEFTCORNERBRACKET:qu,LEFTWHITECORNERBRACKET:Yu,LOCALHOST:va,NL:tg,NUM:Wm,OPENANGLEBRACKET:Uu,OPENBRACE:ra,OPENBRACKET:Lu,OPENPAREN:_u,PERCENT:oa,PIPE:nf,PLUS:rf,POUND:sf,QUERY:la,QUOTE:ig,RIGHTCORNERBRACKET:$u,RIGHTWHITECORNERBRACKET:Pu,SCHEME:hu,SEMI:rg,SLASH:oi,SLASH_SCHEME:Ao,SYM:lf,TILDE:aa,TLD:sm,UNDERSCORE:of,UTLD:om,UWORD:rm,WORD:Ii,WS:lm});const _i=/[a-z]/,Gl=new RegExp("\\p{L}","u"),xp=new RegExp("\\p{Emoji}","u"),Hi=/\d/,Sp=/\s/,Y1="\r",wp=`
`,hz="",pz="",Ep="";let tu=null,eu=null;function mz(n=[]){const t={};an.groups=t;const e=new an;tu==null&&(tu=P1(lz)),eu==null&&(eu=P1(az)),Q(e,"'",Fu),Q(e,"{",ra),Q(e,"}",sa),Q(e,"[",Lu),Q(e,"]",Bu),Q(e,"(",_u),Q(e,")",Hu),Q(e,"<",Uu),Q(e,">",ju),Q(e,"",Iu),Q(e,"",Vu),Q(e,"",qu),Q(e,"",$u),Q(e,"",Yu),Q(e,"",Pu),Q(e,"",Gu),Q(e,"",Ku),Q(e,"&",Xu),Q(e,"*",Ju),Q(e,"@",Mr),Q(e,"`",Zu),Q(e,"^",Wu),Q(e,":",Nr),Q(e,",",eg),Q(e,"$",tf),Q(e,".",si),Q(e,"=",ef),Q(e,"!",ng),Q(e,"-",Ln),Q(e,"%",oa),Q(e,"|",nf),Q(e,"+",rf),Q(e,"#",sf),Q(e,"?",la),Q(e,'"',ig),Q(e,"/",oi),Q(e,";",rg),Q(e,"~",aa),Q(e,"_",of),Q(e,"\\",Qu),Q(e,"",wE);const i=oe(e,Hi,Wm,{[tm]:!0});oe(i,Hi,i);const s=oe(i,_i,xE,{[ia]:!0}),l=oe(i,Gl,SE,{[Zl]:!0}),c=oe(e,_i,Ii,{[em]:!0});oe(c,Hi,s),oe(c,_i,c),oe(s,Hi,s),oe(s,_i,s);const u=oe(e,Gl,rm,{[nm]:!0});oe(u,_i),oe(u,Hi,l),oe(u,Gl,u),oe(l,Hi,l),oe(l,_i),oe(l,Gl,l);const d=Q(e,wp,tg,{[vp]:!0}),h=Q(e,Y1,lm,{[vp]:!0}),g=oe(e,Sp,lm,{[vp]:!0});Q(e,Ep,g),Q(h,wp,d),Q(h,Ep,g),oe(h,Sp,g),Q(g,Y1),Q(g,wp),oe(g,Sp,g),Q(g,Ep,g);const m=oe(e,xp,EE,{[vE]:!0});Q(m,"#"),oe(m,xp,m),Q(m,hz,m);const b=Q(m,pz);Q(b,"#"),oe(b,xp,m);const v=[[_i,c],[Hi,s]],x=[[_i,null],[Gl,u],[Hi,l]];for(let w=0;w<tu.length;w++)Er(e,tu[w],sm,Ii,v);for(let w=0;w<eu.length;w++)Er(e,eu[w],om,rm,x);xs(sm,{tld:!0,ascii:!0},t),xs(om,{utld:!0,alpha:!0},t),Er(e,"file",hu,Ii,v),Er(e,"mailto",hu,Ii,v),Er(e,"http",Ao,Ii,v),Er(e,"https",Ao,Ii,v),Er(e,"ftp",Ao,Ii,v),Er(e,"ftps",Ao,Ii,v),xs(hu,{scheme:!0,ascii:!0},t),xs(Ao,{slashscheme:!0,ascii:!0},t),n=n.sort((w,E)=>w[0]>E[0]?1:-1);for(let w=0;w<n.length;w++){const E=n[w][0],A=n[w][1]?{[cz]:!0}:{[uz]:!0};E.indexOf("-")>=0?A[im]=!0:_i.test(E)?Hi.test(E)?A[ia]=!0:A[em]=!0:A[tm]=!0,$1(e,E,E,A)}return $1(e,"localhost",va,{ascii:!0}),e.jd=new an(lf),{start:e,tokens:Object.assign({groups:t},TE)}}function CE(n,t){const e=gz(t.replace(/[A-Z]/g,u=>u.toLowerCase())),i=e.length,s=[];let l=0,c=0;for(;c<i;){let u=n,d=null,h=0,g=null,m=-1,b=-1;for(;c<i&&(d=u.go(e[c]));)u=d,u.accepts()?(m=0,b=0,g=u):m>=0&&(m+=e[c].length,b++),h+=e[c].length,l+=e[c].length,c++;l-=m,c-=b,h-=m,s.push({t:g.t,v:t.slice(l-h,l),s:l-h,e:l})}return s}function gz(n){const t=[],e=n.length;let i=0;for(;i<e;){let s=n.charCodeAt(i),l,c=s<55296||s>56319||i+1===e||(l=n.charCodeAt(i+1))<56320||l>57343?n[i]:n.slice(i,i+2);t.push(c),i+=c.length}return t}function Er(n,t,e,i,s){let l;const c=t.length;for(let u=0;u<c-1;u++){const d=t[u];n.j[d]?l=n.j[d]:(l=new an(i),l.jr=s.slice(),n.j[d]=l),n=l}return l=new an(e),l.jr=s.slice(),n.j[t[c-1]]=l,l}function P1(n){const t=[],e=[];let i=0,s="0123456789";for(;i<n.length;){let l=0;for(;s.indexOf(n[i+l])>=0;)l++;if(l>0){t.push(e.join(""));for(let c=parseInt(n.substring(i,i+l),10);c>0;c--)e.pop();i+=l}else e.push(n[i]),i++}return t}const xa={defaultProtocol:"http",events:null,format:G1,formatHref:G1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function sg(n,t=null){let e=Object.assign({},xa);n&&(e=Object.assign(e,n instanceof sg?n.o:n));const i=e.ignoreTags,s=[];for(let l=0;l<i.length;l++)s.push(i[l].toUpperCase());this.o=e,t&&(this.defaultRender=t),this.ignoreTags=s}sg.prototype={o:xa,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,t,e){const i=t!=null;let s=this.o[n];return s&&(typeof s=="object"?(s=e.t in s?s[e.t]:xa[n],typeof s=="function"&&i&&(s=s(t,e))):typeof s=="function"&&i&&(s=s(t,e.t,e)),s)},getObj(n,t,e){let i=this.o[n];return typeof i=="function"&&t!=null&&(i=i(t,e.t,e)),i},render(n){const t=n.render(this);return(this.get("render",null,n)||this.defaultRender)(t,n.t,n)}};function G1(n){return n}function kE(n,t){this.t="token",this.v=n,this.tk=t}kE.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const t=this.toString(),e=n.get("truncate",t,this),i=n.get("format",t,this);return e&&i.length>e?i.substring(0,e)+"":i},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=xa.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const t=this,e=this.toHref(n.get("defaultProtocol")),i=n.get("formatHref",e,this),s=n.get("tagName",e,t),l=this.toFormattedString(n),c={},u=n.get("className",e,t),d=n.get("target",e,t),h=n.get("rel",e,t),g=n.getObj("attributes",e,t),m=n.getObj("events",e,t);return c.href=i,u&&(c.class=u),d&&(c.target=d),h&&(c.rel=h),g&&Object.assign(c,g),{tagName:s,attributes:c,content:l,eventListeners:m}}};function Nf(n,t){class e extends kE{constructor(s,l){super(s,l),this.t=n}}for(const i in t)e.prototype[i]=t[i];return e.t=n,e}const K1=Nf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),X1=Nf("text"),yz=Nf("nl"),nu=Nf("url",{isLink:!0,toHref(n=xa.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==va&&n[1].t===Nr}}),zn=n=>new an(n);function bz({groups:n}){const t=n.domain.concat([Xu,Ju,Mr,Qu,Zu,Wu,tf,ef,Ln,Wm,oa,nf,rf,sf,oi,lf,aa,of]),e=[Fu,Nr,eg,si,ng,oa,la,ig,rg,Uu,ju,ra,sa,Bu,Lu,_u,Hu,Iu,Vu,qu,$u,Yu,Pu,Gu,Ku],i=[Xu,Fu,Ju,Qu,Zu,Wu,tf,ef,Ln,ra,sa,oa,nf,rf,sf,la,oi,lf,aa,of],s=zn(),l=Q(s,aa);Ot(l,i,l),Ot(l,n.domain,l);const c=zn(),u=zn(),d=zn();Ot(s,n.domain,c),Ot(s,n.scheme,u),Ot(s,n.slashscheme,d),Ot(c,i,l),Ot(c,n.domain,c);const h=Q(c,Mr);Q(l,Mr,h),Q(u,Mr,h),Q(d,Mr,h);const g=Q(l,si);Ot(g,i,l),Ot(g,n.domain,l);const m=zn();Ot(h,n.domain,m),Ot(m,n.domain,m);const b=Q(m,si);Ot(b,n.domain,m);const v=zn(K1);Ot(b,n.tld,v),Ot(b,n.utld,v),Q(h,va,v);const x=Q(m,Ln);Q(x,Ln,x),Ot(x,n.domain,m),Ot(v,n.domain,m),Q(v,si,b),Q(v,Ln,x);const w=Q(v,Nr);Ot(w,n.numeric,K1);const E=Q(c,Ln),C=Q(c,si);Q(E,Ln,E),Ot(E,n.domain,c),Ot(C,i,l),Ot(C,n.domain,c);const A=zn(nu);Ot(C,n.tld,A),Ot(C,n.utld,A),Ot(A,n.domain,c),Ot(A,i,l),Q(A,si,C),Q(A,Ln,E),Q(A,Mr,h);const _=Q(A,Nr),V=zn(nu);Ot(_,n.numeric,V);const H=zn(nu),$=zn();Ot(H,t,H),Ot(H,e,$),Ot($,t,H),Ot($,e,$),Q(A,oi,H),Q(V,oi,H);const N=Q(u,Nr),j=Q(d,Nr),W=Q(j,oi),et=Q(W,oi);Ot(u,n.domain,c),Q(u,si,C),Q(u,Ln,E),Ot(d,n.domain,c),Q(d,si,C),Q(d,Ln,E),Ot(N,n.domain,H),Q(N,oi,H),Q(N,la,H),Ot(et,n.domain,H),Ot(et,t,H),Q(et,oi,H);const pt=[[ra,sa],[Lu,Bu],[_u,Hu],[Uu,ju],[Iu,Vu],[qu,$u],[Yu,Pu],[Gu,Ku]];for(let ct=0;ct<pt.length;ct++){const[wt,mt]=pt[ct],yt=Q(H,wt);Q($,wt,yt),Q(yt,mt,H);const D=zn(nu);Ot(yt,t,D);const Y=zn();Ot(yt,e),Ot(D,t,D),Ot(D,e,Y),Ot(Y,t,D),Ot(Y,e,Y),Q(D,mt,H),Q(Y,mt,H)}return Q(s,va,A),Q(s,tg,yz),{start:s,tokens:TE}}function vz(n,t,e){let i=e.length,s=0,l=[],c=[];for(;s<i;){let u=n,d=null,h=null,g=0,m=null,b=-1;for(;s<i&&!(d=u.go(e[s].t));)c.push(e[s++]);for(;s<i&&(h=d||u.go(e[s].t));)d=null,u=h,u.accepts()?(b=0,m=u):b>=0&&b++,s++,g++;if(b<0)s-=g,s<i&&(c.push(e[s]),s++);else{c.length>0&&(l.push(Tp(X1,t,c)),c=[]),s-=b,g-=b;const v=m.t,x=e.slice(s-g,s);l.push(Tp(v,t,x))}}return c.length>0&&l.push(Tp(X1,t,c)),l}function Tp(n,t,e){const i=e[0].s,s=e[e.length-1].e,l=t.slice(i,s);return new n(l,e)}const xz=typeof console<"u"&&console&&console.warn||(()=>{}),Sz="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Jt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function wz(){return an.groups={},Jt.scanner=null,Jt.parser=null,Jt.tokenQueue=[],Jt.pluginQueue=[],Jt.customSchemes=[],Jt.initialized=!1,Jt}function F1(n,t=!1){if(Jt.initialized&&xz(`linkifyjs: already initialized - will not register custom scheme "${n}" ${Sz}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Jt.customSchemes.push([n,t])}function Ez(){Jt.scanner=mz(Jt.customSchemes);for(let n=0;n<Jt.tokenQueue.length;n++)Jt.tokenQueue[n][1]({scanner:Jt.scanner});Jt.parser=bz(Jt.scanner.tokens);for(let n=0;n<Jt.pluginQueue.length;n++)Jt.pluginQueue[n][1]({scanner:Jt.scanner,parser:Jt.parser});return Jt.initialized=!0,Jt}function og(n){return Jt.initialized||Ez(),vz(Jt.parser.start,n,CE(Jt.scanner.start,n))}og.scan=CE;function ME(n,t=null,e=null){if(t&&typeof t=="object"){if(e)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);e=t,t=null}const i=new sg(e),s=og(n),l=[];for(let c=0;c<s.length;c++){const u=s[c];u.isLink&&(!t||u.t===t)&&i.check(u)&&l.push(u.toFormattedObject(i))}return l}var lg="[\0- -\u2029]",Tz=new RegExp(lg),Cz=new RegExp(`${lg}$`),kz=new RegExp(lg,"g");function Mz(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function Az(n){return new Qt({key:new te("autolink"),appendTransaction:(t,e,i)=>{const s=t.some(h=>h.docChanged)&&!e.doc.eq(i.doc),l=t.some(h=>h.getMeta("preventAutolink"));if(!s||l)return;const{tr:c}=i,u=lw(e.doc,[...t]);if(pw(u).forEach(({newRange:h})=>{const g=T2(i.doc,h,v=>v.isTextblock);let m,b;if(g.length>1)m=g[0],b=i.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(g.length){const v=i.doc.textBetween(h.from,h.to," "," ");if(!Cz.test(v))return;m=g[0],b=i.doc.textBetween(m.pos,h.to,void 0," ")}if(m&&b){const v=b.split(Tz).filter(Boolean);if(v.length<=0)return!1;const x=v[v.length-1],w=m.pos+b.lastIndexOf(x);if(!x)return!1;const E=og(x).map(C=>C.toObject(n.defaultProtocol));if(!Mz(E))return!1;E.filter(C=>C.isLink).map(C=>({...C,from:w+C.start+1,to:w+C.end+1})).filter(C=>i.schema.marks.code?!i.doc.rangeHasMark(C.from,C.to,i.schema.marks.code):!0).filter(C=>n.validate(C.value)).filter(C=>n.shouldAutoLink(C.value)).forEach(C=>{jm(C.from,C.to,i.doc).some(A=>A.mark.type===n.type)||c.addMark(C.from,C.to,n.type.create({href:C.href}))})}}),!!c.steps.length)return c}})}function Oz(n){return new Qt({key:new te("handleClickLink"),props:{handleClick:(t,e,i)=>{var s,l;if(i.button!==0||!t.editable)return!1;let c=null;if(i.target instanceof HTMLAnchorElement)c=i.target;else{const d=i.target;if(!d)return!1;const h=n.editor.view.dom;c=d.closest("a"),c&&!h.contains(c)&&(c=null)}if(!c)return!1;let u=!1;if(n.enableClickSelection&&(u=n.editor.commands.extendMarkRange(n.type.name)),n.openOnClick){const d=hw(t.state,n.type.name),h=(s=c.href)!=null?s:d.href,g=(l=c.target)!=null?l:d.target;h&&(window.open(h,g),u=!0)}return u}}})}function Nz(n){return new Qt({key:new te("handlePasteLink"),props:{handlePaste:(t,e,i)=>{const{shouldAutoLink:s}=n,{state:l}=t,{selection:c}=l,{empty:u}=c;if(u)return!1;let d="";i.content.forEach(g=>{d+=g.textContent});const h=ME(d,{defaultProtocol:n.defaultProtocol}).find(g=>g.isLink&&g.value===d);return!d||!h||s!==void 0&&!s(h.value)?!1:n.editor.commands.setMark(n.type,{href:h.href})}}})}function ms(n,t){const e=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(i=>{const s=typeof i=="string"?i:i.scheme;s&&e.push(s)}),!n||n.replace(kz,"").match(new RegExp(`^(?:(?:${e.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Dz=Rs.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){F1(n);return}F1(n.scheme,n.optionalSlashes)})},onDestroy(){wz()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,t)=>!!ms(n,t.protocols),validate:n=>!!n,shouldAutoLink:n=>{const t=/^[a-z][a-z0-9+.-]*:\/\//i.test(n),e=/^[a-z][a-z0-9+.-]*:/i.test(n);if(t||e&&!n.includes("@"))return!0;const s=(n.includes("@")?n.split("@").pop():n).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(s)||!/\./.test(s))}}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const t=n.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:e=>!!ms(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:t=>!!ms(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ge(this.options.HTMLAttributes,n),0]:["a",ge(this.options.HTMLAttributes,{...n,href:""}),0]},markdownTokenName:"link",parseMarkdown:(n,t)=>t.applyMark("link",t.parseInline(n.tokens||[]),{href:n.href,title:n.title||null}),renderMarkdown:(n,t)=>{var e;const i=((e=n.attrs)==null?void 0:e.href)||"";return`[${t.renderChildren(n)}](${i})`},addCommands(){return{setLink:n=>({chain:t})=>{const{href:e}=n;return this.options.isAllowedUri(e,{defaultValidate:i=>!!ms(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:t})=>{const{href:e}=n||{};return e&&!this.options.isAllowedUri(e,{defaultValidate:i=>!!ms(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ns({find:n=>{const t=[];if(n){const{protocols:e,defaultProtocol:i}=this.options,s=ME(n).filter(l=>l.isLink&&this.options.isAllowedUri(l.value,{defaultValidate:c=>!!ms(c,e),protocols:e,defaultProtocol:i}));s.length&&s.forEach(l=>{this.options.shouldAutoLink(l.value)&&t.push({text:l.value,data:{href:l.href},index:l.start})})}return t},type:this.type,getAttributes:n=>{var t;return{href:(t=n.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:t,defaultProtocol:e}=this.options;return this.options.autolink&&n.push(Az({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:i=>this.options.isAllowedUri(i,{defaultValidate:s=>!!ms(s,t),protocols:t,defaultProtocol:e}),shouldAutoLink:this.options.shouldAutoLink})),n.push(Oz({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&n.push(Nz({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),n}}),Rz=Object.defineProperty,zz=(n,t)=>{for(var e in t)Rz(n,e,{get:t[e],enumerable:!0})},Lz="listItem",J1="textStyle",Q1=/^\s*([-+*])\s$/,AE=wn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",ge(this.options.HTMLAttributes,n),0]},markdownTokenName:"list",parseMarkdown:(n,t)=>n.type!=="list"||n.ordered?[]:{type:"bulletList",content:n.items?t.parseChildren(n.items):[]},renderMarkdown:(n,t)=>n.content?t.renderChildren(n.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:n,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Lz,this.editor.getAttributes(J1)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=jo({find:Q1,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=jo({find:Q1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(J1),editor:this.editor})),[n]}}),OE=wn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",ge(this.options.HTMLAttributes,n),0]},markdownTokenName:"list_item",parseMarkdown:(n,t)=>{if(n.type!=="list_item")return[];let e=[];if(n.tokens&&n.tokens.length>0)if(n.tokens.some(s=>s.type==="paragraph"))e=t.parseChildren(n.tokens);else{const s=n.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(e=[{type:"paragraph",content:t.parseInline(s.tokens)}],n.tokens.length>1){const c=n.tokens.slice(1),u=t.parseChildren(c);e.push(...u)}}else e=t.parseChildren(n.tokens)}return e.length===0&&(e=[{type:"paragraph",content:[]}]),{type:"listItem",content:e}},renderMarkdown:(n,t,e)=>$m(n,t,i=>{var s,l;return i.parentType==="bulletList"?"- ":i.parentType==="orderedList"?`${(((l=(s=i.meta)==null?void 0:s.parentAttrs)==null?void 0:l.start)||1)+i.index}. `:"- "},e),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Bz={};zz(Bz,{findListItemPos:()=>ka,getNextListDepth:()=>ag,handleBackspace:()=>am,handleDelete:()=>cm,hasListBefore:()=>NE,hasListItemAfter:()=>_z,hasListItemBefore:()=>DE,listItemHasSubList:()=>RE,nextListIsDeeper:()=>zE,nextListIsHigher:()=>LE});var ka=(n,t)=>{const{$from:e}=t.selection,i=me(n,t.schema);let s=null,l=e.depth,c=e.pos,u=null;for(;l>0&&u===null;)s=e.node(l),s.type===i?u=l:(l-=1,c-=1);return u===null?null:{$pos:t.doc.resolve(c),depth:u}},ag=(n,t)=>{const e=ka(n,t);if(!e)return!1;const[,i]=z2(t,n,e.$pos.pos+4);return i},NE=(n,t,e)=>{const{$anchor:i}=n.selection,s=Math.max(0,i.pos-2),l=n.doc.resolve(s).node();return!(!l||!e.includes(l.type.name))},DE=(n,t)=>{var e;const{$anchor:i}=t.selection,s=t.doc.resolve(i.pos-2);return!(s.index()===0||((e=s.nodeBefore)==null?void 0:e.type.name)!==n)},RE=(n,t,e)=>{if(!e)return!1;const i=me(n,t.schema);let s=!1;return e.descendants(l=>{l.type===i&&(s=!0)}),s},am=(n,t,e)=>{if(n.commands.undoInputRule())return!0;if(n.state.selection.from!==n.state.selection.to)return!1;if(!Ir(n.state,t)&&NE(n.state,t,e)){const{$anchor:u}=n.state.selection,d=n.state.doc.resolve(u.before()-1),h=[];d.node().descendants((b,v)=>{b.type.name===t&&h.push({node:b,pos:v})});const g=h.at(-1);if(!g)return!1;const m=n.state.doc.resolve(d.start()+g.pos+1);return n.chain().cut({from:u.start()-1,to:u.end()+1},m.end()).joinForward().run()}if(!Ir(n.state,t)||!H2(n.state))return!1;const i=ka(t,n.state);if(!i)return!1;const l=n.state.doc.resolve(i.$pos.pos-2).node(i.depth),c=RE(t,n.state,l);return DE(t,n.state)&&!c?n.commands.joinItemBackward():n.chain().liftListItem(t).run()},zE=(n,t)=>{const e=ag(n,t),i=ka(n,t);return!i||!e?!1:e>i.depth},LE=(n,t)=>{const e=ag(n,t),i=ka(n,t);return!i||!e?!1:e<i.depth},cm=(n,t)=>{if(!Ir(n.state,t)||!_2(n.state,t))return!1;const{selection:e}=n.state,{$from:i,$to:s}=e;return!e.empty&&i.sameParent(s)?!1:zE(t,n.state)?n.chain().focus(n.state.selection.from+4).lift(t).joinBackward().run():LE(t,n.state)?n.chain().joinForward().joinBackward().run():n.commands.joinItemForward()},_z=(n,t)=>{var e;const{$anchor:i}=t.selection,s=t.doc.resolve(i.pos-i.parentOffset-2);return!(s.index()===s.parent.childCount-1||((e=s.nodeAfter)==null?void 0:e.type.name)!==n)},BE=ie.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:n})=>{let t=!1;return this.options.listTypes.forEach(({itemName:e})=>{n.state.schema.nodes[e]!==void 0&&cm(n,e)&&(t=!0)}),t},"Mod-Delete":({editor:n})=>{let t=!1;return this.options.listTypes.forEach(({itemName:e})=>{n.state.schema.nodes[e]!==void 0&&cm(n,e)&&(t=!0)}),t},Backspace:({editor:n})=>{let t=!1;return this.options.listTypes.forEach(({itemName:e,wrapperNames:i})=>{n.state.schema.nodes[e]!==void 0&&am(n,e,i)&&(t=!0)}),t},"Mod-Backspace":({editor:n})=>{let t=!1;return this.options.listTypes.forEach(({itemName:e,wrapperNames:i})=>{n.state.schema.nodes[e]!==void 0&&am(n,e,i)&&(t=!0)}),t}}}}),Z1=/^(\s*)(\d+)\.\s+(.*)$/,Hz=/^\s/;function Uz(n){const t=[];let e=0,i=0;for(;e<n.length;){const s=n[e],l=s.match(Z1);if(!l)break;const[,c,u,d]=l,h=c.length;let g=d,m=e+1;const b=[s];for(;m<n.length;){const v=n[m];if(v.match(Z1))break;if(v.trim()==="")b.push(v),g+=`
`,m+=1;else if(v.match(Hz))b.push(v),g+=`
${v.slice(h+2)}`,m+=1;else break}t.push({indent:h,number:parseInt(u,10),content:g.trim(),raw:b.join(`
`)}),i=m,e=m}return[t,i]}function _E(n,t,e){var i;const s=[];let l=0;for(;l<n.length;){const c=n[l];if(c.indent===t){const u=c.content.split(`
`),d=((i=u[0])==null?void 0:i.trim())||"",h=[];d&&h.push({type:"paragraph",raw:d,tokens:e.inlineTokens(d)});const g=u.slice(1).join(`
`).trim();if(g){const v=e.blockTokens(g);h.push(...v)}let m=l+1;const b=[];for(;m<n.length&&n[m].indent>t;)b.push(n[m]),m+=1;if(b.length>0){const v=Math.min(...b.map(w=>w.indent)),x=_E(b,v,e);h.push({type:"list",ordered:!0,start:b[0].number,items:x,raw:b.map(w=>w.raw).join(`
`)})}s.push({type:"list_item",raw:c.raw,tokens:h}),l=m}else l+=1}return s}function jz(n,t){return n.map(e=>{if(e.type!=="list_item")return t.parseChildren([e])[0];const i=[];return e.tokens&&e.tokens.length>0&&e.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")i.push(...t.parseChildren([s]));else if(s.type==="text"&&s.tokens){const l=t.parseChildren([s]);i.push({type:"paragraph",content:l})}else{const l=t.parseChildren([s]);l.length>0&&i.push(...l)}}),{type:"listItem",content:i}})}var Iz="listItem",W1="textStyle",tx=/^(\d+)\.\s$/,HE=wn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:t,...e}=n;return t===1?["ol",ge(this.options.HTMLAttributes,e),0]:["ol",ge(this.options.HTMLAttributes,n),0]},markdownTokenName:"list",parseMarkdown:(n,t)=>{if(n.type!=="list"||!n.ordered)return[];const e=n.start||1,i=n.items?jz(n.items,t):[];return e!==1?{type:"orderedList",attrs:{start:e},content:i}:{type:"orderedList",content:i}},renderMarkdown:(n,t)=>n.content?t.renderChildren(n.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:n=>{const t=n.match(/^(\s*)(\d+)\.\s+/),e=t?.index;return e!==void 0?e:-1},tokenize:(n,t,e)=>{var i;const s=n.split(`
`),[l,c]=Uz(s);if(l.length===0)return;const u=_E(l,0,e);return u.length===0?void 0:{type:"list",ordered:!0,start:((i=l[0])==null?void 0:i.number)||1,items:u,raw:s.slice(0,c).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Iz,this.editor.getAttributes(W1)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=jo({find:tx,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=jo({find:tx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(W1)}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1],editor:this.editor})),[n]}}),Vz=/^\s*(\[([( |x])?\])\s$/,qz=wn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const t=n.getAttribute("data-checked");return t===""||t==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:t}){return["li",ge(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(n,t)=>{const e=[];if(n.tokens&&n.tokens.length>0?e.push(t.createNode("paragraph",{},t.parseInline(n.tokens))):n.text?e.push(t.createNode("paragraph",{},[t.createNode("text",{text:n.text})])):e.push(t.createNode("paragraph",{},[])),n.nestedTokens&&n.nestedTokens.length>0){const i=t.parseChildren(n.nestedTokens);e.push(...i)}return t.createNode("taskItem",{checked:n.checked||!1},e)},renderMarkdown:(n,t)=>{var e;const s=`- [${(e=n.attrs)!=null&&e.checked?"x":" "}] `;return $m(n,t,s)},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:t,getPos:e,editor:i})=>{const s=document.createElement("li"),l=document.createElement("label"),c=document.createElement("span"),u=document.createElement("input"),d=document.createElement("div"),h=m=>{var b,v;u.ariaLabel=((v=(b=this.options.a11y)==null?void 0:b.checkboxLabel)==null?void 0:v.call(b,m,u.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};h(n),l.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",m=>m.preventDefault()),u.addEventListener("change",m=>{if(!i.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:b}=m.target;i.isEditable&&typeof e=="function"&&i.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:v})=>{const x=e();if(typeof x!="number")return!1;const w=v.doc.nodeAt(x);return v.setNodeMarkup(x,void 0,{...w?.attrs,checked:b}),!0}).run(),!i.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,b)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,b])=>{s.setAttribute(m,b)}),s.dataset.checked=n.attrs.checked,u.checked=n.attrs.checked,l.append(u,c),s.append(l,d),Object.entries(t).forEach(([m,b])=>{s.setAttribute(m,b)});let g=new Set(Object.keys(t));return{dom:s,contentDOM:d,update:m=>{if(m.type!==this.type)return!1;s.dataset.checked=m.attrs.checked,u.checked=m.attrs.checked,h(m);const b=i.extensionManager.attributes,v=ya(m,b),x=new Set(Object.keys(v)),w=this.options.HTMLAttributes;return g.forEach(E=>{x.has(E)||(E in w?s.setAttribute(E,w[E]):s.removeAttribute(E))}),Object.entries(v).forEach(([E,C])=>{C==null?E in w?s.setAttribute(E,w[E]):s.removeAttribute(E):s.setAttribute(E,C)}),g=x,!0}}}},addInputRules(){return[jo({find:Vz,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),$z=wn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",ge(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},parseMarkdown:(n,t)=>t.createNode("taskList",{},t.parseChildren(n.items||[])),renderMarkdown:(n,t)=>n.content?t.renderChildren(n.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(n){var t;const e=(t=n.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return e!==void 0?e:-1},tokenize(n,t,e){const i=l=>{const c=Xp(l,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,d)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:e.inlineTokens(u.mainContent),nestedTokens:d}),customNestedParser:i},e);return c?[{type:"taskList",raw:c.raw,items:c.items}]:e.blockTokens(l)},s=Xp(n,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:e.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:i},e);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});ie.create({name:"listKit",addExtensions(){const n=[];return this.options.bulletList!==!1&&n.push(AE.configure(this.options.bulletList)),this.options.listItem!==!1&&n.push(OE.configure(this.options.listItem)),this.options.listKeymap!==!1&&n.push(BE.configure(this.options.listKeymap)),this.options.orderedList!==!1&&n.push(HE.configure(this.options.orderedList)),this.options.taskItem!==!1&&n.push(qz.configure(this.options.taskItem)),this.options.taskList!==!1&&n.push($z.configure(this.options.taskList)),n}});var ex="&nbsp;",Yz="",Pz=wn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",ge(this.options.HTMLAttributes,n),0]},parseMarkdown:(n,t)=>{const e=n.tokens||[];if(e.length===1&&e[0].type==="image")return t.parseChildren([e[0]]);const i=t.parseInline(e);return i.length===1&&i[0].type==="text"&&(i[0].text===ex||i[0].text===Yz)?t.createNode("paragraph",void 0,[]):t.createNode("paragraph",void 0,i)},renderMarkdown:(n,t)=>{if(!n)return"";const e=Array.isArray(n.content)?n.content:[];return e.length===0?ex:t.renderChildren(e)},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Gz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Kz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Xz=Rs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",ge(this.options.HTMLAttributes,n),0]},markdownTokenName:"del",parseMarkdown:(n,t)=>t.applyMark("strike",t.parseInline(n.tokens||[])),renderMarkdown:(n,t)=>`~~${t.renderChildren(n)}~~`,addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Uo({find:Gz,type:this.type})]},addPasteRules(){return[Ns({find:Kz,type:this.type})]}}),Fz=wn.create({name:"text",group:"inline",parseMarkdown:n=>({type:"text",text:n.text||""}),renderMarkdown:n=>n.text||""}),Jz=Rs.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",ge(this.options.HTMLAttributes,n),0]},parseMarkdown(n,t){return t.applyMark(this.name||"underline",t.parseInline(n.tokens||[]))},renderMarkdown(n,t){return`++${t.renderChildren(n)}++`},markdownTokenizer:{name:"underline",level:"inline",start(n){return n.indexOf("++")},tokenize(n,t,e){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(n);if(!s)return;const l=s[2].trim();return{type:"underline",raw:s[0],text:l,tokens:e.inlineTokens(l)}}},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Qz(n={}){return new Qt({view(t){return new Zz(t,n)}})}class Zz{constructor(t,e){var i;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=e.width)!==null&&i!==void 0?i:1,this.color=e.color===!1?void 0:e.color||"black",this.class=e.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let l=c=>{this[s](c)};return t.dom.addEventListener(s,l),{name:s,handler:l}})}destroy(){this.handlers.forEach(({name:t,handler:e})=>this.editorView.dom.removeEventListener(t,e))}update(t,e){this.cursorPos!=null&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),e=!t.parent.inlineContent,i,s=this.editorView.dom,l=s.getBoundingClientRect(),c=l.width/s.offsetWidth,u=l.height/s.offsetHeight;if(e){let m=t.nodeBefore,b=t.nodeAfter;if(m||b){let v=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(v){let x=v.getBoundingClientRect(),w=m?x.bottom:x.top;m&&b&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let E=this.width/2*u;i={left:x.left,right:x.right,top:w-E,bottom:w+E}}}}if(!i){let m=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*c;i={left:m.left-b,right:m.left+b,top:m.top,bottom:m.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",e),this.element.classList.toggle("prosemirror-dropcursor-inline",!e);let h,g;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,g=-pageYOffset;else{let m=d.getBoundingClientRect(),b=m.width/d.offsetWidth,v=m.height/d.offsetHeight;h=m.left-d.scrollLeft*b,g=m.top-d.scrollTop*v}this.element.style.left=(i.left-h)/c+"px",this.element.style.top=(i.top-g)/u+"px",this.element.style.width=(i.right-i.left)/c+"px",this.element.style.height=(i.bottom-i.top)/u+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),i=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),s=i&&i.type.spec.disableDropCursor,l=typeof s=="function"?s(this.editorView,e,t):s;if(e&&!l){let c=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=Wx(this.editorView.state.doc,c,this.editorView.dragging.slice);u!=null&&(c=u)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class le extends vt{constructor(t){super(t,t)}map(t,e){let i=t.resolve(e.map(this.head));return le.valid(i)?new le(i):vt.near(i)}content(){return nt.empty}eq(t){return t instanceof le&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new le(t.resolve(e.pos))}getBookmark(){return new cg(this.anchor)}static valid(t){let e=t.parent;if(e.isTextblock||!Wz(t)||!t3(t))return!1;let i=e.type.spec.allowGapCursor;if(i!=null)return i;let s=e.contentMatchAt(t.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(t,e,i=!1){t:for(;;){if(!i&&le.valid(t))return t;let s=t.pos,l=null;for(let c=t.depth;;c--){let u=t.node(c);if(e>0?t.indexAfter(c)<u.childCount:t.index(c)>0){l=u.child(e>0?t.indexAfter(c):t.index(c)-1);break}else if(c==0)return null;s+=e;let d=t.doc.resolve(s);if(le.valid(d))return d}for(;;){let c=e>0?l.firstChild:l.lastChild;if(!c){if(l.isAtom&&!l.isText&&!ht.isSelectable(l)){t=t.doc.resolve(s+l.nodeSize*e),i=!1;continue t}break}l=c,s+=e;let u=t.doc.resolve(s);if(le.valid(u))return u}return null}}}le.prototype.visible=!1;le.findFrom=le.findGapCursorFrom;vt.jsonID("gapcursor",le);class cg{constructor(t){this.pos=t}map(t){return new cg(t.map(this.pos))}resolve(t){let e=t.resolve(this.pos);return le.valid(e)?new le(e):vt.near(e)}}function UE(n){return n.isAtom||n.spec.isolating||n.spec.createGapCursor}function Wz(n){for(let t=n.depth;t>=0;t--){let e=n.index(t),i=n.node(t);if(e==0){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(e-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||UE(s.type))return!0;if(s.inlineContent)return!1}}return!0}function t3(n){for(let t=n.depth;t>=0;t--){let e=n.indexAfter(t),i=n.node(t);if(e==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(e);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||UE(s.type))return!0;if(s.inlineContent)return!1}}return!0}function e3(){return new Qt({props:{decorations:s3,createSelectionBetween(n,t,e){return t.pos==e.pos&&le.valid(e)?new le(e):null},handleClick:i3,handleKeyDown:n3,handleDOMEvents:{beforeinput:r3}}})}const n3=Dm({ArrowLeft:iu("horiz",-1),ArrowRight:iu("horiz",1),ArrowUp:iu("vert",-1),ArrowDown:iu("vert",1)});function iu(n,t){const e=n=="vert"?t>0?"down":"up":t>0?"right":"left";return function(i,s,l){let c=i.selection,u=t>0?c.$to:c.$from,d=c.empty;if(c instanceof St){if(!l.endOfTextblock(e)||u.depth==0)return!1;d=!1,u=i.doc.resolve(t>0?u.after():u.before())}let h=le.findGapCursorFrom(u,t,d);return h?(s&&s(i.tr.setSelection(new le(h))),!0):!1}}function i3(n,t,e){if(!n||!n.editable)return!1;let i=n.state.doc.resolve(t);if(!le.valid(i))return!1;let s=n.posAtCoords({left:e.clientX,top:e.clientY});return s&&s.inside>-1&&ht.isSelectable(n.state.doc.nodeAt(s.inside))?!1:(n.dispatch(n.state.tr.setSelection(new le(i))),!0)}function r3(n,t){if(t.inputType!="insertCompositionText"||!(n.state.selection instanceof le))return!1;let{$from:e}=n.state.selection,i=e.parent.contentMatchAt(e.index()).findWrapping(n.state.schema.nodes.text);if(!i)return!1;let s=F.empty;for(let c=i.length-1;c>=0;c--)s=F.from(i[c].createAndFill(null,s));let l=n.state.tr.replace(e.pos,e.pos,new nt(s,0,0));return l.setSelection(St.near(l.doc.resolve(e.pos+1))),n.dispatch(l),!1}function s3(n){if(!(n.selection instanceof le))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",ne.create(n.doc,[Ke.widget(n.selection.head,t,{key:"gapcursor"})])}var af=200,Ce=function(){};Ce.prototype.append=function(t){return t.length?(t=Ce.from(t),!this.length&&t||t.length<af&&this.leafAppend(t)||this.length<af&&t.leafPrepend(this)||this.appendInner(t)):this};Ce.prototype.prepend=function(t){return t.length?Ce.from(t).append(this):this};Ce.prototype.appendInner=function(t){return new o3(this,t)};Ce.prototype.slice=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=this.length),t>=e?Ce.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))};Ce.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Ce.prototype.forEach=function(t,e,i){e===void 0&&(e=0),i===void 0&&(i=this.length),e<=i?this.forEachInner(t,e,i,0):this.forEachInvertedInner(t,e,i,0)};Ce.prototype.map=function(t,e,i){e===void 0&&(e=0),i===void 0&&(i=this.length);var s=[];return this.forEach(function(l,c){return s.push(t(l,c))},e,i),s};Ce.from=function(t){return t instanceof Ce?t:t&&t.length?new jE(t):Ce.empty};var jE=(function(n){function t(i){n.call(this),this.values=i}n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t;var e={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(s,l){return s==0&&l==this.length?this:new t(this.values.slice(s,l))},t.prototype.getInner=function(s){return this.values[s]},t.prototype.forEachInner=function(s,l,c,u){for(var d=l;d<c;d++)if(s(this.values[d],u+d)===!1)return!1},t.prototype.forEachInvertedInner=function(s,l,c,u){for(var d=l-1;d>=c;d--)if(s(this.values[d],u+d)===!1)return!1},t.prototype.leafAppend=function(s){if(this.length+s.length<=af)return new t(this.values.concat(s.flatten()))},t.prototype.leafPrepend=function(s){if(this.length+s.length<=af)return new t(s.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(t.prototype,e),t})(Ce);Ce.empty=new jE([]);var o3=(function(n){function t(e,i){n.call(this),this.left=e,this.right=i,this.length=e.length+i.length,this.depth=Math.max(e.depth,i.depth)+1}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},t.prototype.forEachInner=function(i,s,l,c){var u=this.left.length;if(s<u&&this.left.forEachInner(i,s,Math.min(l,u),c)===!1||l>u&&this.right.forEachInner(i,Math.max(s-u,0),Math.min(this.length,l)-u,c+u)===!1)return!1},t.prototype.forEachInvertedInner=function(i,s,l,c){var u=this.left.length;if(s>u&&this.right.forEachInvertedInner(i,s-u,Math.max(l,u)-u,c+u)===!1||l<u&&this.left.forEachInvertedInner(i,Math.min(s,u),l,c)===!1)return!1},t.prototype.sliceInner=function(i,s){if(i==0&&s==this.length)return this;var l=this.left.length;return s<=l?this.left.slice(i,s):i>=l?this.right.slice(i-l,s-l):this.left.slice(i,l).append(this.right.slice(0,s-l))},t.prototype.leafAppend=function(i){var s=this.right.leafAppend(i);if(s)return new t(this.left,s)},t.prototype.leafPrepend=function(i){var s=this.left.leafPrepend(i);if(s)return new t(s,this.right)},t.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new t(this.left,new t(this.right,i)):new t(this,i)},t})(Ce);const l3=500;class Gn{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let s,l;e&&(s=this.remapping(i,this.items.length),l=s.maps.length);let c=t.tr,u,d,h=[],g=[];return this.items.forEach((m,b)=>{if(!m.step){s||(s=this.remapping(i,b+1),l=s.maps.length),l--,g.push(m);return}if(s){g.push(new li(m.map));let v=m.step.map(s.slice(l)),x;v&&c.maybeStep(v).doc&&(x=c.mapping.maps[c.mapping.maps.length-1],h.push(new li(x,void 0,void 0,h.length+g.length))),l--,x&&s.appendMap(x,l)}else c.maybeStep(m.step);if(m.selection)return u=s?m.selection.map(s.slice(l)):m.selection,d=new Gn(this.items.slice(0,i).append(g.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:c,selection:u}}addTransform(t,e,i,s){let l=[],c=this.eventCount,u=this.items,d=!s&&u.length?u.get(u.length-1):null;for(let g=0;g<t.steps.length;g++){let m=t.steps[g].invert(t.docs[g]),b=new li(t.mapping.maps[g],m,e),v;(v=d&&d.merge(b))&&(b=v,g?l.pop():u=u.slice(0,u.length-1)),l.push(b),e&&(c++,e=void 0),s||(d=b)}let h=c-i.depth;return h>c3&&(u=a3(u,h),c-=h),new Gn(u.append(l),c)}remapping(t,e){let i=new fa;return this.items.forEach((s,l)=>{let c=s.mirrorOffset!=null&&l-s.mirrorOffset>=t?i.maps.length-s.mirrorOffset:void 0;i.appendMap(s.map,c)},t,e),i}addMaps(t){return this.eventCount==0?this:new Gn(this.items.append(t.map(e=>new li(e))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let i=[],s=Math.max(0,this.items.length-e),l=t.mapping,c=t.steps.length,u=this.eventCount;this.items.forEach(b=>{b.selection&&u--},s);let d=e;this.items.forEach(b=>{let v=l.getMirror(--d);if(v==null)return;c=Math.min(c,v);let x=l.maps[v];if(b.step){let w=t.steps[v].invert(t.docs[v]),E=b.selection&&b.selection.map(l.slice(d+1,v));E&&u++,i.push(new li(x,w,E))}else i.push(new li(x))},s);let h=[];for(let b=e;b<c;b++)h.push(new li(l.maps[b]));let g=this.items.slice(0,s).append(h).append(i),m=new Gn(g,u);return m.emptyItemCount()>l3&&(m=m.compress(this.items.length-i.length)),m}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(t=this.items.length){let e=this.remapping(0,t),i=e.maps.length,s=[],l=0;return this.items.forEach((c,u)=>{if(u>=t)s.push(c),c.selection&&l++;else if(c.step){let d=c.step.map(e.slice(i)),h=d&&d.getMap();if(i--,h&&e.appendMap(h,i),d){let g=c.selection&&c.selection.map(e.slice(i));g&&l++;let m=new li(h.invert(),d,g),b,v=s.length-1;(b=s.length&&s[v].merge(m))?s[v]=b:s.push(m)}}else c.map&&i--},this.items.length,0),new Gn(Ce.from(s.reverse()),l)}}Gn.empty=new Gn(Ce.empty,0);function a3(n,t){let e;return n.forEach((i,s)=>{if(i.selection&&t--==0)return e=s,!1}),n.slice(e)}class li{constructor(t,e,i,s){this.map=t,this.step=e,this.selection=i,this.mirrorOffset=s}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new li(e.getMap().invert(),e,this.selection)}}}class Ar{constructor(t,e,i,s,l){this.done=t,this.undone=e,this.prevRanges=i,this.prevTime=s,this.prevComposition=l}}const c3=20;function u3(n,t,e,i){let s=e.getMeta(Cs),l;if(s)return s.historyState;e.getMeta(h3)&&(n=new Ar(n.done,n.undone,null,0,-1));let c=e.getMeta("appendedTransaction");if(e.steps.length==0)return n;if(c&&c.getMeta(Cs))return c.getMeta(Cs).redo?new Ar(n.done.addTransform(e,void 0,i,pu(t)),n.undone,nx(e.mapping.maps),n.prevTime,n.prevComposition):new Ar(n.done,n.undone.addTransform(e,void 0,i,pu(t)),null,n.prevTime,n.prevComposition);if(e.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let u=e.getMeta("composition"),d=n.prevTime==0||!c&&n.prevComposition!=u&&(n.prevTime<(e.time||0)-i.newGroupDelay||!f3(e,n.prevRanges)),h=c?Cp(n.prevRanges,e.mapping):nx(e.mapping.maps);return new Ar(n.done.addTransform(e,d?t.selection.getBookmark():void 0,i,pu(t)),Gn.empty,h,e.time,u??n.prevComposition)}else return(l=e.getMeta("rebased"))?new Ar(n.done.rebased(e,l),n.undone.rebased(e,l),Cp(n.prevRanges,e.mapping),n.prevTime,n.prevComposition):new Ar(n.done.addMaps(e.mapping.maps),n.undone.addMaps(e.mapping.maps),Cp(n.prevRanges,e.mapping),n.prevTime,n.prevComposition)}function f3(n,t){if(!t)return!1;if(!n.docChanged)return!0;let e=!1;return n.mapping.maps[0].forEach((i,s)=>{for(let l=0;l<t.length;l+=2)i<=t[l+1]&&s>=t[l]&&(e=!0)}),e}function nx(n){let t=[];for(let e=n.length-1;e>=0&&t.length==0;e--)n[e].forEach((i,s,l,c)=>t.push(l,c));return t}function Cp(n,t){if(!n)return null;let e=[];for(let i=0;i<n.length;i+=2){let s=t.map(n[i],1),l=t.map(n[i+1],-1);s<=l&&e.push(s,l)}return e}function d3(n,t,e){let i=pu(t),s=Cs.get(t).spec.config,l=(e?n.undone:n.done).popEvent(t,i);if(!l)return null;let c=l.selection.resolve(l.transform.doc),u=(e?n.done:n.undone).addTransform(l.transform,t.selection.getBookmark(),s,i),d=new Ar(e?u:l.remaining,e?l.remaining:u,null,0,-1);return l.transform.setSelection(c).setMeta(Cs,{redo:e,historyState:d})}let kp=!1,ix=null;function pu(n){let t=n.plugins;if(ix!=t){kp=!1,ix=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){kp=!0;break}}return kp}const Cs=new te("history"),h3=new te("closeHistory");function p3(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Qt({key:Cs,state:{init(){return new Ar(Gn.empty,Gn.empty,null,0,-1)},apply(t,e,i){return u3(e,i,t,n)}},config:n,props:{handleDOMEvents:{beforeinput(t,e){let i=e.inputType,s=i=="historyUndo"?VE:i=="historyRedo"?qE:null;return!s||!t.editable?!1:(e.preventDefault(),s(t.state,t.dispatch))}}}})}function IE(n,t){return(e,i)=>{let s=Cs.getState(e);if(!s||(n?s.undone:s.done).eventCount==0)return!1;if(i){let l=d3(s,e,n);l&&i(t?l.scrollIntoView():l)}return!0}}const VE=IE(!1,!0),qE=IE(!0,!0);ie.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:n=>n.length,wordCounter:n=>n.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=n=>{const t=n?.node||this.editor.state.doc;if((n?.mode||this.options.mode)==="textSize"){const i=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(i)}return t.nodeSize},this.storage.words=n=>{const t=n?.node||this.editor.state.doc,e=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(e)}},addProseMirrorPlugins(){let n=!1;return[new Qt({key:new te("characterCount"),appendTransaction:(t,e,i)=>{if(n)return;const s=this.options.limit;if(s==null||s===0){n=!0;return}const l=this.storage.characters({node:i.doc});if(l>s){const c=l-s,u=0,d=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const h=i.tr.deleteRange(u,d);return n=!0,h}n=!0},filterTransaction:(t,e)=>{const i=this.options.limit;if(!t.docChanged||i===0||i===null||i===void 0)return!0;const s=this.storage.characters({node:e.doc}),l=this.storage.characters({node:t.doc});if(l<=i||s>i&&l>i&&l<=s)return!0;if(s>i&&l>i&&l>s||!t.getMeta("paste"))return!1;const u=t.selection.$head.pos,d=l-i,h=u-d,g=u;return t.deleteRange(h,g),!(this.storage.characters({node:t.doc})>i)}})]}});var m3=ie.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Qz(this.options)]}});ie.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Qt({key:new te("focus"),props:{decorations:({doc:n,selection:t})=>{const{isEditable:e,isFocused:i}=this.editor,{anchor:s}=t,l=[];if(!e||!i)return ne.create(n,[]);let c=0;this.options.mode==="deepest"&&n.descendants((d,h)=>{if(d.isText)return;if(!(s>=h&&s<=h+d.nodeSize-1))return!1;c+=1});let u=0;return n.descendants((d,h)=>{if(d.isText||!(s>=h&&s<=h+d.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&c-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";l.push(Ke.node(h,h+d.nodeSize,{class:this.options.className}))}),ne.create(n,l)}}})]}});var g3=ie.create({name:"gapCursor",addProseMirrorPlugins(){return[e3()]},extendNodeSchema(n){var t;const e={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(t=qt(ft(n,"allowGapCursor",e)))!=null?t:null}}}),rx="placeholder";function y3(n){return n.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}var b3=ie.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:rx,placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){const n=this.options.dataAttribute?`data-${y3(this.options.dataAttribute)}`:`data-${rx}`;return[new Qt({key:new te("placeholder"),props:{decorations:({doc:t,selection:e})=>{const i=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=e,l=[];if(!i)return null;const c=this.editor.isEmpty;return t.descendants((u,d)=>{const h=s>=d&&s<=d+u.nodeSize,g=!u.isLeaf&&wf(u);if((h||!this.options.showOnlyCurrent)&&g){const m=[this.options.emptyNodeClass];c&&m.push(this.options.emptyEditorClass);const b=Ke.node(d,d+u.nodeSize,{class:m.join(" "),[n]:typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:u,pos:d,hasAnchor:h}):this.options.placeholder});l.push(b)}return this.options.includeChildren}),ne.create(t,l)}}})]}});ie.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:n,options:t}=this;return[new Qt({key:new te("selection"),props:{decorations(e){return e.selection.empty||n.isFocused||!n.isEditable||mw(e.selection)||n.view.dragging?null:ne.create(e.doc,[Ke.inline(e.selection.from,e.selection.to,{class:t.className})])}}})]}});function sx({types:n,node:t}){return t&&Array.isArray(n)&&n.includes(t.type)||t?.type===n}var v3=ie.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var n;const t=new te(this.name),e=this.options.node||((n=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:n.name)||"paragraph",i=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(e).includes(s.name));return[new Qt({key:t,appendTransaction:(s,l,c)=>{const{doc:u,tr:d,schema:h}=c,g=t.getState(c),m=u.content.size,b=h.nodes[e];if(g)return d.insert(m,b.create())},state:{init:(s,l)=>{const c=l.tr.doc.lastChild;return!sx({node:c,types:i})},apply:(s,l)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return l;const c=s.doc.lastChild;return!sx({node:c,types:i})}}})]}}),x3=ie.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:t})=>VE(n,t),redo:()=>({state:n,dispatch:t})=>qE(n,t)}},addProseMirrorPlugins(){return[p3(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),S3=ie.create({name:"starterKit",addExtensions(){var n,t,e,i;const s=[];return this.options.bold!==!1&&s.push(PR.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(IR.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(AE.configure(this.options.bulletList)),this.options.code!==!1&&s.push(XR.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(QR.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(ZR.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(m3.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(g3.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(WR.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(tz.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(x3.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(ez.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(oz.configure(this.options.italic)),this.options.listItem!==!1&&s.push(OE.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(BE.configure((n=this.options)==null?void 0:n.listKeymap)),this.options.link!==!1&&s.push(Dz.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&s.push(HE.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(Pz.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(Xz.configure(this.options.strike)),this.options.text!==!1&&s.push(Fz.configure(this.options.text)),this.options.underline!==!1&&s.push(Jz.configure((e=this.options)==null?void 0:e.underline)),this.options.trailingNode!==!1&&s.push(v3.configure((i=this.options)==null?void 0:i.trailingNode)),s}}),w3=S3,E3=b3;const T3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C3=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),ox=n=>{const t=C3(n);return t.charAt(0).toUpperCase()+t.slice(1)},$E=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),k3=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var M3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const A3=tt.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:s="",children:l,iconNode:c,...u},d)=>tt.createElement("svg",{ref:d,...M3,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:$E("lucide",s),...!l&&!k3(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,g])=>tt.createElement(h,g)),...Array.isArray(l)?l:[l]]));const Qn=(n,t)=>{const e=tt.forwardRef(({className:i,...s},l)=>tt.createElement(A3,{ref:l,iconNode:t,className:$E(`lucide-${T3(ox(n))}`,`lucide-${n}`,i),...s}));return e.displayName=ox(n),e};const O3=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],N3=Qn("bold",O3);const D3=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],R3=Qn("grip-vertical",D3);const z3=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],L3=Qn("heading-2",z3);const B3=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],_3=Qn("italic",B3);const H3=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],U3=Qn("list",H3);const j3=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],I3=Qn("mouse-pointer-2",j3);const V3=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],q3=Qn("move",V3);const $3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Y3=Qn("plus",$3);const P3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],G3=Qn("x",P3);const K3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],X3=Qn("zoom-in",K3);const F3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],J3=Qn("zoom-out",F3);function lx(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function Q3(...n){return t=>{let e=!1;const i=n.map(s=>{const l=lx(s,t);return!e&&typeof l=="function"&&(e=!0),l});if(e)return()=>{for(let s=0;s<i.length;s++){const l=i[s];typeof l=="function"?l():lx(n[s],null)}}}}var Z3=Symbol.for("react.lazy"),cf=xk[" use ".trim().toString()];function W3(n){return typeof n=="object"&&n!==null&&"then"in n}function YE(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===Z3&&"_payload"in n&&W3(n._payload)}function t4(n){const t=n4(n),e=tt.forwardRef((i,s)=>{let{children:l,...c}=i;YE(l)&&typeof cf=="function"&&(l=cf(l._payload));const u=tt.Children.toArray(l),d=u.find(r4);if(d){const h=d.props.children,g=u.map(m=>m===d?tt.Children.count(h)>1?tt.Children.only(null):tt.isValidElement(h)?h.props.children:null:m);return rt.jsx(t,{...c,ref:s,children:tt.isValidElement(h)?tt.cloneElement(h,void 0,g):null})}return rt.jsx(t,{...c,ref:s,children:l})});return e.displayName=`${n}.Slot`,e}var e4=t4("Slot");function n4(n){const t=tt.forwardRef((e,i)=>{let{children:s,...l}=e;if(YE(s)&&typeof cf=="function"&&(s=cf(s._payload)),tt.isValidElement(s)){const c=o4(s),u=s4(l,s.props);return s.type!==tt.Fragment&&(u.ref=i?Q3(i,c):c),tt.cloneElement(s,u)}return tt.Children.count(s)>1?tt.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var i4=Symbol("radix.slottable");function r4(n){return tt.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===i4}function s4(n,t){const e={...t};for(const i in t){const s=n[i],l=t[i];/^on[A-Z]/.test(i)?s&&l?e[i]=(...u)=>{const d=l(...u);return s(...u),d}:s&&(e[i]=s):i==="style"?e[i]={...s,...l}:i==="className"&&(e[i]=[s,l].filter(Boolean).join(" "))}return{...n,...e}}function o4(n){let t=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=Object.getOwnPropertyDescriptor(n,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}function PE(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(t=0;t<s;t++)n[t]&&(e=PE(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function GE(){for(var n,t,e=0,i="",s=arguments.length;e<s;e++)(n=arguments[e])&&(t=PE(n))&&(i&&(i+=" "),i+=t);return i}const ax=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,cx=GE,l4=(n,t)=>e=>{var i;if(t?.variants==null)return cx(n,e?.class,e?.className);const{variants:s,defaultVariants:l}=t,c=Object.keys(s).map(h=>{const g=e?.[h],m=l?.[h];if(g===null)return null;const b=ax(g)||ax(m);return s[h][b]}),u=e&&Object.entries(e).reduce((h,g)=>{let[m,b]=g;return b===void 0||(h[m]=b),h},{}),d=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((h,g)=>{let{class:m,className:b,...v}=g;return Object.entries(v).every(x=>{let[w,E]=x;return Array.isArray(E)?E.includes({...l,...u}[w]):{...l,...u}[w]===E})?[...h,m,b]:h},[]);return cx(n,c,d,e?.class,e?.className)},a4=(n,t)=>{const e=new Array(n.length+t.length);for(let i=0;i<n.length;i++)e[i]=n[i];for(let i=0;i<t.length;i++)e[n.length+i]=t[i];return e},c4=(n,t)=>({classGroupId:n,validator:t}),KE=(n=new Map,t=null,e)=>({nextPart:n,validators:t,classGroupId:e}),uf="-",ux=[],u4="arbitrary..",f4=n=>{const t=h4(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return d4(c);const u=c.split(uf),d=u[0]===""&&u.length>1?1:0;return XE(u,d,t)},getConflictingClassGroupIds:(c,u)=>{if(u){const d=i[c],h=e[c];return d?h?a4(h,d):d:h||ux}return e[c]||ux}}},XE=(n,t,e)=>{if(n.length-t===0)return e.classGroupId;const s=n[t],l=e.nextPart.get(s);if(l){const h=XE(n,t+1,l);if(h)return h}const c=e.validators;if(c===null)return;const u=t===0?n.join(uf):n.slice(t).join(uf),d=c.length;for(let h=0;h<d;h++){const g=c[h];if(g.validator(u))return g.classGroupId}},d4=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=n.slice(1,-1),e=t.indexOf(":"),i=t.slice(0,e);return i?u4+i:void 0})(),h4=n=>{const{theme:t,classGroups:e}=n;return p4(e,t)},p4=(n,t)=>{const e=KE();for(const i in n){const s=n[i];ug(s,e,i,t)}return e},ug=(n,t,e,i)=>{const s=n.length;for(let l=0;l<s;l++){const c=n[l];m4(c,t,e,i)}},m4=(n,t,e,i)=>{if(typeof n=="string"){g4(n,t,e);return}if(typeof n=="function"){y4(n,t,e,i);return}b4(n,t,e,i)},g4=(n,t,e)=>{const i=n===""?t:FE(t,n);i.classGroupId=e},y4=(n,t,e,i)=>{if(v4(n)){ug(n(i),t,e,i);return}t.validators===null&&(t.validators=[]),t.validators.push(c4(e,n))},b4=(n,t,e,i)=>{const s=Object.entries(n),l=s.length;for(let c=0;c<l;c++){const[u,d]=s[c];ug(d,FE(t,u),e,i)}},FE=(n,t)=>{let e=n;const i=t.split(uf),s=i.length;for(let l=0;l<s;l++){const c=i[l];let u=e.nextPart.get(c);u||(u=KE(),e.nextPart.set(c,u)),e=u}return e},v4=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,x4=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=Object.create(null),i=Object.create(null);const s=(l,c)=>{e[l]=c,t++,t>n&&(t=0,i=e,e=Object.create(null))};return{get(l){let c=e[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return s(l,c),c},set(l,c){l in e?e[l]=c:s(l,c)}}},um="!",fx=":",S4=[],dx=(n,t,e,i,s)=>({modifiers:n,hasImportantModifier:t,baseClassName:e,maybePostfixModifierPosition:i,isExternal:s}),w4=n=>{const{prefix:t,experimentalParseClassName:e}=n;let i=s=>{const l=[];let c=0,u=0,d=0,h;const g=s.length;for(let w=0;w<g;w++){const E=s[w];if(c===0&&u===0){if(E===fx){l.push(s.slice(d,w)),d=w+1;continue}if(E==="/"){h=w;continue}}E==="["?c++:E==="]"?c--:E==="("?u++:E===")"&&u--}const m=l.length===0?s:s.slice(d);let b=m,v=!1;m.endsWith(um)?(b=m.slice(0,-1),v=!0):m.startsWith(um)&&(b=m.slice(1),v=!0);const x=h&&h>d?h-d:void 0;return dx(l,v,b,x)};if(t){const s=t+fx,l=i;i=c=>c.startsWith(s)?l(c.slice(s.length)):dx(S4,!1,c,void 0,!0)}if(e){const s=i;i=l=>e({className:l,parseClassName:s})}return i},E4=n=>{const t=new Map;return n.orderSensitiveModifiers.forEach((e,i)=>{t.set(e,1e6+i)}),e=>{const i=[];let s=[];for(let l=0;l<e.length;l++){const c=e[l],u=c[0]==="[",d=t.has(c);u||d?(s.length>0&&(s.sort(),i.push(...s),s=[]),i.push(c)):s.push(c)}return s.length>0&&(s.sort(),i.push(...s)),i}},T4=n=>({cache:x4(n.cacheSize),parseClassName:w4(n),sortModifiers:E4(n),...f4(n)}),C4=/\s+/,k4=(n,t)=>{const{parseClassName:e,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:l}=t,c=[],u=n.trim().split(C4);let d="";for(let h=u.length-1;h>=0;h-=1){const g=u[h],{isExternal:m,modifiers:b,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:w}=e(g);if(m){d=g+(d.length>0?" "+d:d);continue}let E=!!w,C=i(E?x.substring(0,w):x);if(!C){if(!E){d=g+(d.length>0?" "+d:d);continue}if(C=i(x),!C){d=g+(d.length>0?" "+d:d);continue}E=!1}const A=b.length===0?"":b.length===1?b[0]:l(b).join(":"),_=v?A+um:A,V=_+C;if(c.indexOf(V)>-1)continue;c.push(V);const H=s(C,E);for(let $=0;$<H.length;++$){const N=H[$];c.push(_+N)}d=g+(d.length>0?" "+d:d)}return d},M4=(...n)=>{let t=0,e,i,s="";for(;t<n.length;)(e=n[t++])&&(i=JE(e))&&(s&&(s+=" "),s+=i);return s},JE=n=>{if(typeof n=="string")return n;let t,e="";for(let i=0;i<n.length;i++)n[i]&&(t=JE(n[i]))&&(e&&(e+=" "),e+=t);return e},A4=(n,...t)=>{let e,i,s,l;const c=d=>{const h=t.reduce((g,m)=>m(g),n());return e=T4(h),i=e.cache.get,s=e.cache.set,l=u,u(d)},u=d=>{const h=i(d);if(h)return h;const g=k4(d,e);return s(d,g),g};return l=c,(...d)=>l(M4(...d))},O4=[],be=n=>{const t=e=>e[n]||O4;return t.isThemeGetter=!0,t},QE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ZE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,N4=/^\d+\/\d+$/,D4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,R4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,z4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,L4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,B4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Co=n=>N4.test(n),Nt=n=>!!n&&!Number.isNaN(Number(n)),Tr=n=>!!n&&Number.isInteger(Number(n)),Mp=n=>n.endsWith("%")&&Nt(n.slice(0,-1)),Ui=n=>D4.test(n),_4=()=>!0,H4=n=>R4.test(n)&&!z4.test(n),WE=()=>!1,U4=n=>L4.test(n),j4=n=>B4.test(n),I4=n=>!ot(n)&&!lt(n),V4=n=>Po(n,nT,WE),ot=n=>QE.test(n),gs=n=>Po(n,iT,H4),Ap=n=>Po(n,G4,Nt),hx=n=>Po(n,tT,WE),q4=n=>Po(n,eT,j4),ru=n=>Po(n,rT,U4),lt=n=>ZE.test(n),Kl=n=>Go(n,iT),$4=n=>Go(n,K4),px=n=>Go(n,tT),Y4=n=>Go(n,nT),P4=n=>Go(n,eT),su=n=>Go(n,rT,!0),Po=(n,t,e)=>{const i=QE.exec(n);return i?i[1]?t(i[1]):e(i[2]):!1},Go=(n,t,e=!1)=>{const i=ZE.exec(n);return i?i[1]?t(i[1]):e:!1},tT=n=>n==="position"||n==="percentage",eT=n=>n==="image"||n==="url",nT=n=>n==="length"||n==="size"||n==="bg-size",iT=n=>n==="length",G4=n=>n==="number",K4=n=>n==="family-name",rT=n=>n==="shadow",X4=()=>{const n=be("color"),t=be("font"),e=be("text"),i=be("font-weight"),s=be("tracking"),l=be("leading"),c=be("breakpoint"),u=be("container"),d=be("spacing"),h=be("radius"),g=be("shadow"),m=be("inset-shadow"),b=be("text-shadow"),v=be("drop-shadow"),x=be("blur"),w=be("perspective"),E=be("aspect"),C=be("ease"),A=be("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],H=()=>[...V(),lt,ot],$=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],j=()=>[lt,ot,d],W=()=>[Co,"full","auto",...j()],et=()=>[Tr,"none","subgrid",lt,ot],pt=()=>["auto",{span:["full",Tr,lt,ot]},Tr,lt,ot],ct=()=>[Tr,"auto",lt,ot],wt=()=>["auto","min","max","fr",lt,ot],mt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],yt=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...j()],Y=()=>[Co,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],G=()=>[n,lt,ot],xt=()=>[...V(),px,hx,{position:[lt,ot]}],Tt=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",Y4,V4,{size:[lt,ot]}],P=()=>[Mp,Kl,gs],q=()=>["","none","full",h,lt,ot],J=()=>["",Nt,Kl,gs],it=()=>["solid","dashed","dotted","double"],gt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ut=()=>[Nt,Mp,px,hx],kt=()=>["","none",x,lt,ot],_t=()=>["none",Nt,lt,ot],Ie=()=>["none",Nt,lt,ot],un=()=>[Nt,lt,ot],Ve=()=>[Co,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ui],breakpoint:[Ui],color:[_4],container:[Ui],"drop-shadow":[Ui],ease:["in","out","in-out"],font:[I4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ui],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ui],shadow:[Ui],spacing:["px",Nt],text:[Ui],"text-shadow":[Ui],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Co,ot,lt,E]}],container:["container"],columns:[{columns:[Nt,ot,lt,u]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:H()}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[Tr,"auto",lt,ot]}],basis:[{basis:[Co,"full","auto",u,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Nt,Co,"auto","initial","none",ot]}],grow:[{grow:["",Nt,lt,ot]}],shrink:[{shrink:["",Nt,lt,ot]}],order:[{order:[Tr,"first","last","none",lt,ot]}],"grid-cols":[{"grid-cols":et()}],"col-start-end":[{col:pt()}],"col-start":[{"col-start":ct()}],"col-end":[{"col-end":ct()}],"grid-rows":[{"grid-rows":et()}],"row-start-end":[{row:pt()}],"row-start":[{"row-start":ct()}],"row-end":[{"row-end":ct()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":wt()}],"auto-rows":[{"auto-rows":wt()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...mt(),"normal"]}],"justify-items":[{"justify-items":[...yt(),"normal"]}],"justify-self":[{"justify-self":["auto",...yt()]}],"align-content":[{content:["normal",...mt()]}],"align-items":[{items:[...yt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...yt(),{baseline:["","last"]}]}],"place-content":[{"place-content":mt()}],"place-items":[{"place-items":[...yt(),"baseline"]}],"place-self":[{"place-self":["auto",...yt()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[u,"screen",...Y()]}],"min-w":[{"min-w":[u,"screen","none",...Y()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",e,Kl,gs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,lt,Ap]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Mp,ot]}],"font-family":[{font:[$4,ot,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,lt,ot]}],"line-clamp":[{"line-clamp":[Nt,"none",lt,Ap]}],leading:[{leading:[l,...j()]}],"list-image":[{"list-image":["none",lt,ot]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",lt,ot]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...it(),"wavy"]}],"text-decoration-thickness":[{decoration:[Nt,"from-font","auto",lt,gs]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[Nt,"auto",lt,ot]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lt,ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lt,ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:xt()}],"bg-repeat":[{bg:Tt()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Tr,lt,ot],radial:["",lt,ot],conic:[Tr,lt,ot]},P4,q4]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:P()}],"gradient-via-pos":[{via:P()}],"gradient-to-pos":[{to:P()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...it(),"hidden","none"]}],"divide-style":[{divide:[...it(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...it(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Nt,lt,ot]}],"outline-w":[{outline:["",Nt,Kl,gs]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",g,su,ru]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",m,su,ru]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[Nt,gs]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",b,su,ru]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[Nt,lt,ot]}],"mix-blend":[{"mix-blend":[...gt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":gt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Nt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ut()}],"mask-image-linear-to-pos":[{"mask-linear-to":ut()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":ut()}],"mask-image-t-to-pos":[{"mask-t-to":ut()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":ut()}],"mask-image-r-to-pos":[{"mask-r-to":ut()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":ut()}],"mask-image-b-to-pos":[{"mask-b-to":ut()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":ut()}],"mask-image-l-to-pos":[{"mask-l-to":ut()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":ut()}],"mask-image-x-to-pos":[{"mask-x-to":ut()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":ut()}],"mask-image-y-to-pos":[{"mask-y-to":ut()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[lt,ot]}],"mask-image-radial-from-pos":[{"mask-radial-from":ut()}],"mask-image-radial-to-pos":[{"mask-radial-to":ut()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":V()}],"mask-image-conic-pos":[{"mask-conic":[Nt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ut()}],"mask-image-conic-to-pos":[{"mask-conic-to":ut()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:xt()}],"mask-repeat":[{mask:Tt()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",lt,ot]}],filter:[{filter:["","none",lt,ot]}],blur:[{blur:kt()}],brightness:[{brightness:[Nt,lt,ot]}],contrast:[{contrast:[Nt,lt,ot]}],"drop-shadow":[{"drop-shadow":["","none",v,su,ru]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",Nt,lt,ot]}],"hue-rotate":[{"hue-rotate":[Nt,lt,ot]}],invert:[{invert:["",Nt,lt,ot]}],saturate:[{saturate:[Nt,lt,ot]}],sepia:[{sepia:["",Nt,lt,ot]}],"backdrop-filter":[{"backdrop-filter":["","none",lt,ot]}],"backdrop-blur":[{"backdrop-blur":kt()}],"backdrop-brightness":[{"backdrop-brightness":[Nt,lt,ot]}],"backdrop-contrast":[{"backdrop-contrast":[Nt,lt,ot]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Nt,lt,ot]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Nt,lt,ot]}],"backdrop-invert":[{"backdrop-invert":["",Nt,lt,ot]}],"backdrop-opacity":[{"backdrop-opacity":[Nt,lt,ot]}],"backdrop-saturate":[{"backdrop-saturate":[Nt,lt,ot]}],"backdrop-sepia":[{"backdrop-sepia":["",Nt,lt,ot]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",lt,ot]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Nt,"initial",lt,ot]}],ease:[{ease:["linear","initial",C,lt,ot]}],delay:[{delay:[Nt,lt,ot]}],animate:[{animate:["none",A,lt,ot]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,lt,ot]}],"perspective-origin":[{"perspective-origin":H()}],rotate:[{rotate:_t()}],"rotate-x":[{"rotate-x":_t()}],"rotate-y":[{"rotate-y":_t()}],"rotate-z":[{"rotate-z":_t()}],scale:[{scale:Ie()}],"scale-x":[{"scale-x":Ie()}],"scale-y":[{"scale-y":Ie()}],"scale-z":[{"scale-z":Ie()}],"scale-3d":["scale-3d"],skew:[{skew:un()}],"skew-x":[{"skew-x":un()}],"skew-y":[{"skew-y":un()}],transform:[{transform:[lt,ot,"","none","gpu","cpu"]}],"transform-origin":[{origin:H()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lt,ot]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lt,ot]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[Nt,Kl,gs,Ap]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},F4=A4(X4);function J4(...n){return F4(GE(n))}const Q4=l4("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function ai({className:n,variant:t="default",size:e="default",asChild:i=!1,...s}){const l=i?e4:"button";return rt.jsx(l,{"code-path":"src/components/ui/button.tsx:52:5","data-slot":"button","data-variant":t,"data-size":e,className:J4(Q4({variant:t,size:e,className:n})),...s})}const mx={yellow:{bg:"bg-yellow-100",border:"border-yellow-300",hover:"hover:border-yellow-400"},blue:{bg:"bg-blue-100",border:"border-blue-300",hover:"hover:border-blue-400"},green:{bg:"bg-green-100",border:"border-green-300",hover:"hover:border-green-400"},pink:{bg:"bg-pink-100",border:"border-pink-300",hover:"hover:border-pink-400"},purple:{bg:"bg-purple-100",border:"border-purple-300",hover:"hover:border-purple-400"},orange:{bg:"bg-orange-100",border:"border-orange-300",hover:"hover:border-orange-400"}};function Z4({note:n,isSelected:t,onUpdate:e,onDelete:i,onSelect:s,canvasScale:l}){const[c,u]=tt.useState(!1),d=tt.useRef({x:0,y:0}),h=tt.useRef({x:0,y:0}),g=tt.useRef(null),m=LR({extensions:[w3,E3.configure({placeholder:"Type your note..."})],content:n.content,onUpdate:({editor:A})=>{e(n.id,{content:A.getHTML()})},editorProps:{attributes:{class:"prose prose-sm max-w-none focus:outline-none min-h-[80px]"}}}),b=tt.useCallback(A=>{A.target.closest(".note-toolbar")||A.target.closest(".note-delete")||A.target.closest(".ProseMirror")||(A.stopPropagation(),s(n.id),u(!0),d.current={x:A.clientX,y:A.clientY},h.current={x:n.x,y:n.y})},[n.id,n.x,n.y,s]);tt.useEffect(()=>{const A=V=>{if(!c)return;const H=(V.clientX-d.current.x)/l,$=(V.clientY-d.current.y)/l;e(n.id,{x:h.current.x+H,y:h.current.y+$})},_=()=>{u(!1)};return c&&(window.addEventListener("mousemove",A),window.addEventListener("mouseup",_)),()=>{window.removeEventListener("mousemove",A),window.removeEventListener("mouseup",_)}},[c,n.id,e,l]);const v=mx[n.color]||mx[0],x=()=>{m?.chain().focus().toggleHeading({level:2}).run()},w=()=>{m?.chain().focus().toggleBold().run()},E=()=>{m?.chain().focus().toggleItalic().run()},C=()=>{m?.chain().focus().toggleBulletList().run()};return rt.jsxs("div",{"code-path":"src/components/Note.tsx:113:5",ref:g,className:`absolute rounded-lg shadow-lg transition-shadow ${v.bg} ${v.border} border-2 ${v.hover}
        ${t?"ring-2 ring-blue-500 shadow-xl":""} ${c?"cursor-grabbing":"cursor-grab"}`,style:{left:n.x,top:n.y,width:n.width,minHeight:n.height},onMouseDown:b,onClick:()=>s(n.id),children:[rt.jsxs("div",{"code-path":"src/components/Note.tsx:127:7",className:"flex items-center justify-between p-2 border-b border-black/10 note-header",children:[rt.jsxs("div",{"code-path":"src/components/Note.tsx:128:9",className:"flex items-center gap-1",children:[rt.jsx(R3,{"code-path":"src/components/Note.tsx:129:11",className:"w-4 h-4 text-black/40"}),rt.jsxs("div",{"code-path":"src/components/Note.tsx:132:11",className:"note-toolbar flex items-center gap-0.5",children:[rt.jsx(ai,{"code-path":"src/components/Note.tsx:133:13",variant:"ghost",size:"icon",className:`h-6 w-6 ${m?.isActive("heading")?"bg-black/10":""}`,onClick:A=>{A.stopPropagation(),x()},children:rt.jsx(L3,{"code-path":"src/components/Note.tsx:139:15",className:"w-3 h-3"})}),rt.jsx(ai,{"code-path":"src/components/Note.tsx:141:13",variant:"ghost",size:"icon",className:`h-6 w-6 ${m?.isActive("bold")?"bg-black/10":""}`,onClick:A=>{A.stopPropagation(),w()},children:rt.jsx(N3,{"code-path":"src/components/Note.tsx:147:15",className:"w-3 h-3"})}),rt.jsx(ai,{"code-path":"src/components/Note.tsx:149:13",variant:"ghost",size:"icon",className:`h-6 w-6 ${m?.isActive("italic")?"bg-black/10":""}`,onClick:A=>{A.stopPropagation(),E()},children:rt.jsx(_3,{"code-path":"src/components/Note.tsx:155:15",className:"w-3 h-3"})}),rt.jsx(ai,{"code-path":"src/components/Note.tsx:157:13",variant:"ghost",size:"icon",className:`h-6 w-6 ${m?.isActive("bulletList")?"bg-black/10":""}`,onClick:A=>{A.stopPropagation(),C()},children:rt.jsx(U3,{"code-path":"src/components/Note.tsx:163:15",className:"w-3 h-3"})})]})]}),rt.jsx(ai,{"code-path":"src/components/Note.tsx:168:9",variant:"ghost",size:"icon",className:"note-delete h-6 w-6 text-black/40 hover:text-red-500 hover:bg-red-50",onClick:A=>{A.stopPropagation(),i(n.id)},children:rt.jsx(G3,{"code-path":"src/components/Note.tsx:174:11",className:"w-4 h-4"})})]}),rt.jsx("div",{"code-path":"src/components/Note.tsx:179:7",className:"p-3",children:rt.jsx(fE,{"code-path":"src/components/Note.tsx:180:9",editor:m,className:"prose prose-sm max-w-none",onClick:A=>A.stopPropagation()})}),rt.jsx("div",{"code-path":"src/components/Note.tsx:188:7",className:"absolute bottom-0 right-0 w-4 h-4 cursor-se-resize",onMouseDown:A=>{A.stopPropagation();const _=A.clientX,V=A.clientY,H=n.width,$=n.height,N=W=>{const et=(W.clientX-_)/l,pt=(W.clientY-V)/l;e(n.id,{width:Math.max(200,H+et),height:Math.max(100,$+pt)})},j=()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",j)};window.addEventListener("mousemove",N),window.addEventListener("mouseup",j)},children:rt.jsx("svg",{"code-path":"src/components/Note.tsx:215:9",className:"w-3 h-3 text-black/30",viewBox:"0 0 10 10",children:rt.jsx("path",{"code-path":"src/components/Note.tsx:216:11",d:"M0 10L10 0M5 10L10 5",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})})})]})}const gx=.25,yx=3,ou=.1,lu=["yellow","blue","green","pink","purple","orange"];function W4({notes:n,selectedNoteId:t,onAddNote:e,onUpdateNote:i,onDeleteNote:s,onSelectNote:l}){const[c,u]=tt.useState({scale:1,offsetX:0,offsetY:0}),[d,h]=tt.useState(!1),[g,m]=tt.useState(0),b=tt.useRef(null),v=tt.useRef({x:0,y:0}),x=tt.useRef({x:0,y:0}),w=tt.useCallback(N=>{(N.button===1||N.button===0&&N.target===b.current)&&(h(!0),v.current={x:N.clientX,y:N.clientY},x.current={x:c.offsetX,y:c.offsetY},l(null))},[c.offsetX,c.offsetY,l]);tt.useEffect(()=>{const N=W=>{if(!d)return;const et=W.clientX-v.current.x,pt=W.clientY-v.current.y;u(ct=>({...ct,offsetX:x.current.x+et,offsetY:x.current.y+pt}))},j=()=>{h(!1)};return d&&(window.addEventListener("mousemove",N),window.addEventListener("mouseup",j)),()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",j)}},[d]);const E=tt.useCallback(N=>{if(N.ctrlKey||N.metaKey){N.preventDefault();const j=N.deltaY>0?-ou:ou,W=Math.max(gx,Math.min(yx,c.scale+j)),et=b.current?.getBoundingClientRect();if(et){const pt=N.clientX-et.left,ct=N.clientY-et.top,wt=W/c.scale;u(mt=>({scale:W,offsetX:pt-(pt-mt.offsetX)*wt,offsetY:ct-(ct-mt.offsetY)*wt}))}}},[c.scale]),C=()=>{u(N=>({...N,scale:Math.min(yx,N.scale+ou)}))},A=()=>{u(N=>({...N,scale:Math.max(gx,N.scale-ou)}))},_=()=>{u(N=>({...N,scale:1}))},V=()=>{u({scale:1,offsetX:0,offsetY:0})},H=()=>{const N=b.current?.getBoundingClientRect();if(N){const j=(N.width/2-c.offsetX)/c.scale,W=(N.height/2-c.offsetY)/c.scale,et=lu[g%lu.length];m(pt=>pt+1),e(j-150,W-100,et)}},$=N=>{if(N.target===b.current){const j=b.current.getBoundingClientRect(),W=(N.clientX-j.left-c.offsetX)/c.scale,et=(N.clientY-j.top-c.offsetY)/c.scale,pt=lu[g%lu.length];m(ct=>ct+1),e(W-150,et-50,pt)}};return rt.jsxs("div",{"code-path":"src/components/Canvas.tsx:166:5",className:"relative w-full h-screen overflow-hidden bg-slate-50",children:[rt.jsx("div",{"code-path":"src/components/Canvas.tsx:168:7",className:"absolute inset-0 pointer-events-none",style:{backgroundImage:`
            radial-gradient(circle, #cbd5e1 1px, transparent 1px)
          `,backgroundSize:`${20*c.scale}px ${20*c.scale}px`,backgroundPosition:`${c.offsetX}px ${c.offsetY}px`}}),rt.jsx("div",{"code-path":"src/components/Canvas.tsx:180:7",ref:b,className:`absolute inset-0 ${d?"cursor-grabbing":"cursor-grab"}`,onMouseDown:w,onWheel:E,onDoubleClick:$,children:rt.jsx("div",{"code-path":"src/components/Canvas.tsx:188:9",className:"absolute origin-top-left",style:{transform:`translate(${c.offsetX}px, ${c.offsetY}px) scale(${c.scale})`},children:n.map(N=>rt.jsx(Z4,{"code-path":"src/components/Canvas.tsx:196:13",note:N,isSelected:N.id===t,onUpdate:i,onDelete:s,onSelect:l,canvasScale:c.scale},N.id))})}),rt.jsx("div",{"code-path":"src/components/Canvas.tsx:210:7",className:"absolute top-4 left-4 flex items-center gap-2",children:rt.jsxs("div",{"code-path":"src/components/Canvas.tsx:211:9",className:"bg-white rounded-lg shadow-md border border-slate-200 p-2 flex items-center gap-2",children:[rt.jsx(I3,{"code-path":"src/components/Canvas.tsx:212:11",className:"w-5 h-5 text-slate-600"}),rt.jsx("span",{"code-path":"src/components/Canvas.tsx:213:11",className:"text-sm font-medium text-slate-700",children:"Infinite Notepad"})]})}),rt.jsx("div",{"code-path":"src/components/Canvas.tsx:218:7",className:"absolute top-4 left-1/2 -translate-x-1/2",children:rt.jsxs(ai,{"code-path":"src/components/Canvas.tsx:219:9",onClick:H,className:"shadow-lg hover:shadow-xl transition-shadow bg-blue-600 hover:bg-blue-700",size:"lg",children:[rt.jsx(Y3,{"code-path":"src/components/Canvas.tsx:224:11",className:"w-5 h-5 mr-2"}),"Create Note"]})}),rt.jsx("div",{"code-path":"src/components/Canvas.tsx:230:7",className:"absolute bottom-4 right-4 flex flex-col gap-2",children:rt.jsxs("div",{"code-path":"src/components/Canvas.tsx:231:9",className:"bg-white rounded-lg shadow-md border border-slate-200 p-1 flex flex-col gap-1",children:[rt.jsx(ai,{"code-path":"src/components/Canvas.tsx:232:11",variant:"ghost",size:"icon",onClick:C,className:"h-9 w-9",children:rt.jsx(X3,{"code-path":"src/components/Canvas.tsx:238:13",className:"w-4 h-4"})}),rt.jsxs(ai,{"code-path":"src/components/Canvas.tsx:240:11",variant:"ghost",size:"sm",onClick:_,className:"h-9 text-xs font-mono",children:[Math.round(c.scale*100),"%"]}),rt.jsx(ai,{"code-path":"src/components/Canvas.tsx:248:11",variant:"ghost",size:"icon",onClick:A,className:"h-9 w-9",children:rt.jsx(J3,{"code-path":"src/components/Canvas.tsx:254:13",className:"w-4 h-4"})})]})}),rt.jsxs("div",{"code-path":"src/components/Canvas.tsx:260:7",className:"absolute bottom-4 left-4 flex flex-col gap-2",children:[rt.jsx("div",{"code-path":"src/components/Canvas.tsx:261:9",className:"bg-white rounded-lg shadow-md border border-slate-200 p-2",children:rt.jsxs(ai,{"code-path":"src/components/Canvas.tsx:262:11",variant:"ghost",size:"sm",onClick:V,className:"text-xs",children:[rt.jsx(q3,{"code-path":"src/components/Canvas.tsx:268:13",className:"w-4 h-4 mr-2"}),"Center View"]})}),rt.jsxs("div",{"code-path":"src/components/Canvas.tsx:272:9",className:"text-xs text-slate-500 bg-white/80 rounded px-2 py-1",children:[n.length," note",n.length!==1?"s":""]})]}),rt.jsx("div",{"code-path":"src/components/Canvas.tsx:278:7",className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-xs text-slate-400 bg-white/80 rounded-lg px-4 py-2",children:"Double-click to add note  Drag to pan  Ctrl+Scroll to zoom  Drag notes to move"})]})}function tL(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}const eL=n=>{switch(n){case"success":return rL;case"info":return oL;case"warning":return sL;case"error":return lL;default:return null}},nL=Array(12).fill(0),iL=({visible:n,className:t})=>Z.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":n},Z.createElement("div",{className:"sonner-spinner"},nL.map((e,i)=>Z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),rL=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sL=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),oL=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),lL=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),aL=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),cL=()=>{const[n,t]=Z.useState(document.hidden);return Z.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),n};let fm=1;class uL{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:i,...s}=t,l=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:fm++,c=this.toasts.find(d=>d.id===l),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(d=>d.id===l?(this.publish({...d,...t,id:l,title:i}),{...d,...t,id:l,dismissible:u,title:i}):d):this.addToast({title:i,...s,dismissible:u,id:l}),l},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(i=>i({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let i;e.loading!==void 0&&(i=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let l=i!==void 0,c;const u=s.then(async h=>{if(c=["resolve",h],Z.isValidElement(h))l=!1,this.create({id:i,type:"default",message:h});else if(dL(h)&&!h.ok){l=!1;const m=typeof e.error=="function"?await e.error(`HTTP error! status: ${h.status}`):e.error,b=typeof e.description=="function"?await e.description(`HTTP error! status: ${h.status}`):e.description,x=typeof m=="object"&&!Z.isValidElement(m)?m:{message:m};this.create({id:i,type:"error",description:b,...x})}else if(h instanceof Error){l=!1;const m=typeof e.error=="function"?await e.error(h):e.error,b=typeof e.description=="function"?await e.description(h):e.description,x=typeof m=="object"&&!Z.isValidElement(m)?m:{message:m};this.create({id:i,type:"error",description:b,...x})}else if(e.success!==void 0){l=!1;const m=typeof e.success=="function"?await e.success(h):e.success,b=typeof e.description=="function"?await e.description(h):e.description,x=typeof m=="object"&&!Z.isValidElement(m)?m:{message:m};this.create({id:i,type:"success",description:b,...x})}}).catch(async h=>{if(c=["reject",h],e.error!==void 0){l=!1;const g=typeof e.error=="function"?await e.error(h):e.error,m=typeof e.description=="function"?await e.description(h):e.description,v=typeof g=="object"&&!Z.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:m,...v})}}).finally(()=>{l&&(this.dismiss(i),i=void 0),e.finally==null||e.finally.call(e)}),d=()=>new Promise((h,g)=>u.then(()=>c[0]==="reject"?g(c[1]):h(c[1])).catch(g));return typeof i!="string"&&typeof i!="number"?{unwrap:d}:Object.assign(i,{unwrap:d})},this.custom=(t,e)=>{const i=e?.id||fm++;return this.create({jsx:t(i),id:i,...e}),i},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ln=new uL,fL=(n,t)=>{const e=t?.id||fm++;return ln.addToast({title:n,...t,id:e}),e},dL=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",hL=fL,pL=()=>ln.toasts,mL=()=>ln.getActiveToasts(),bx=Object.assign(hL,{success:ln.success,info:ln.info,warning:ln.warning,error:ln.error,custom:ln.custom,message:ln.message,promise:ln.promise,dismiss:ln.dismiss,loading:ln.loading},{getHistory:pL,getToasts:mL});tL("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function au(n){return n.label!==void 0}const gL=3,yL="24px",bL="16px",vx=4e3,vL=356,xL=14,SL=45,wL=200;function ri(...n){return n.filter(Boolean).join(" ")}function EL(n){const[t,e]=n.split("-"),i=[];return t&&i.push(t),e&&i.push(e),i}const TL=n=>{var t,e,i,s,l,c,u,d,h;const{invert:g,toast:m,unstyled:b,interacting:v,setHeights:x,visibleToasts:w,heights:E,index:C,toasts:A,expanded:_,removeToast:V,defaultRichColors:H,closeButton:$,style:N,cancelButtonStyle:j,actionButtonStyle:W,className:et="",descriptionClassName:pt="",duration:ct,position:wt,gap:mt,expandByDefault:yt,classNames:D,icons:Y,closeButtonAriaLabel:G="Close toast"}=n,[xt,Tt]=Z.useState(null),[M,P]=Z.useState(null),[q,J]=Z.useState(!1),[it,gt]=Z.useState(!1),[ut,kt]=Z.useState(!1),[_t,Ie]=Z.useState(!1),[un,Ve]=Z.useState(!1),[Ma,In]=Z.useState(0),[Ko,Ls]=Z.useState(0),Pr=Z.useRef(m.duration||ct||vx),Xo=Z.useRef(null),fn=Z.useRef(null),Fo=C===0,Jo=C+1<=w,qe=m.type,Ji=m.dismissible!==!1,$e=m.className||"",Df=m.descriptionClassName||"",Gr=Z.useMemo(()=>E.findIndex(Et=>Et.toastId===m.id)||0,[E,m.id]),Aa=Z.useMemo(()=>{var Et;return(Et=m.closeButton)!=null?Et:$},[m.closeButton,$]),Kr=Z.useMemo(()=>m.duration||ct||vx,[m.duration,ct]),Qo=Z.useRef(0),gi=Z.useRef(0),Oa=Z.useRef(0),Qi=Z.useRef(null),[Xr,Ye]=wt.split("-"),Vn=Z.useMemo(()=>E.reduce((Et,Zt,ve)=>ve>=Gr?Et:Et+Zt.height,0),[E,Gr]),Be=cL(),Rf=m.invert||g,Zo=qe==="loading";gi.current=Z.useMemo(()=>Gr*mt+Vn,[Gr,Vn]),Z.useEffect(()=>{Pr.current=Kr},[Kr]),Z.useEffect(()=>{J(!0)},[]),Z.useEffect(()=>{const Et=fn.current;if(Et){const Zt=Et.getBoundingClientRect().height;return Ls(Zt),x(ve=>[{toastId:m.id,height:Zt,position:m.position},...ve]),()=>x(ve=>ve.filter(_e=>_e.toastId!==m.id))}},[x,m.id]),Z.useLayoutEffect(()=>{if(!q)return;const Et=fn.current,Zt=Et.style.height;Et.style.height="auto";const ve=Et.getBoundingClientRect().height;Et.style.height=Zt,Ls(ve),x(_e=>_e.find(ee=>ee.toastId===m.id)?_e.map(ee=>ee.toastId===m.id?{...ee,height:ve}:ee):[{toastId:m.id,height:ve,position:m.position},..._e])},[q,m.title,m.description,x,m.id,m.jsx,m.action,m.cancel]);const Zn=Z.useCallback(()=>{gt(!0),In(gi.current),x(Et=>Et.filter(Zt=>Zt.toastId!==m.id)),setTimeout(()=>{V(m)},wL)},[m,V,x,gi]);Z.useEffect(()=>{if(m.promise&&qe==="loading"||m.duration===1/0||m.type==="loading")return;let Et;return _||v||Be?(()=>{if(Oa.current<Qo.current){const _e=new Date().getTime()-Qo.current;Pr.current=Pr.current-_e}Oa.current=new Date().getTime()})():Pr.current!==1/0&&(Qo.current=new Date().getTime(),Et=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Zn()},Pr.current)),()=>clearTimeout(Et)},[_,v,m,qe,Be,Zn]),Z.useEffect(()=>{m.delete&&(Zn(),m.onDismiss==null||m.onDismiss.call(m,m))},[Zn,m.delete]);function Bs(){var Et;if(Y?.loading){var Zt;return Z.createElement("div",{className:ri(D?.loader,m==null||(Zt=m.classNames)==null?void 0:Zt.loader,"sonner-loader"),"data-visible":qe==="loading"},Y.loading)}return Z.createElement(iL,{className:ri(D?.loader,m==null||(Et=m.classNames)==null?void 0:Et.loader),visible:qe==="loading"})}const _s=m.icon||Y?.[qe]||eL(qe);var Fr,Wn;return Z.createElement("li",{tabIndex:0,ref:fn,className:ri(et,$e,D?.toast,m==null||(t=m.classNames)==null?void 0:t.toast,D?.default,D?.[qe],m==null||(e=m.classNames)==null?void 0:e[qe]),"data-sonner-toast":"","data-rich-colors":(Fr=m.richColors)!=null?Fr:H,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":q,"data-promise":!!m.promise,"data-swiped":un,"data-removed":it,"data-visible":Jo,"data-y-position":Xr,"data-x-position":Ye,"data-index":C,"data-front":Fo,"data-swiping":ut,"data-dismissible":Ji,"data-type":qe,"data-invert":Rf,"data-swipe-out":_t,"data-swipe-direction":M,"data-expanded":!!(_||yt&&q),"data-testid":m.testId,style:{"--index":C,"--toasts-before":C,"--z-index":A.length-C,"--offset":`${it?Ma:gi.current}px`,"--initial-height":yt?"auto":`${Ko}px`,...N,...m.style},onDragEnd:()=>{kt(!1),Tt(null),Qi.current=null},onPointerDown:Et=>{Et.button!==2&&(Zo||!Ji||(Xo.current=new Date,In(gi.current),Et.target.setPointerCapture(Et.pointerId),Et.target.tagName!=="BUTTON"&&(kt(!0),Qi.current={x:Et.clientX,y:Et.clientY})))},onPointerUp:()=>{var Et,Zt,ve;if(_t||!Ji)return;Qi.current=null;const _e=Number(((Et=fn.current)==null?void 0:Et.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Zi=Number(((Zt=fn.current)==null?void 0:Zt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ee=new Date().getTime()-((ve=Xo.current)==null?void 0:ve.getTime()),Je=xt==="x"?_e:Zi,Jr=Math.abs(Je)/ee;if(Math.abs(Je)>=SL||Jr>.11){In(gi.current),m.onDismiss==null||m.onDismiss.call(m,m),P(xt==="x"?_e>0?"right":"left":Zi>0?"down":"up"),Zn(),Ie(!0);return}else{var Qe,Ze;(Qe=fn.current)==null||Qe.style.setProperty("--swipe-amount-x","0px"),(Ze=fn.current)==null||Ze.style.setProperty("--swipe-amount-y","0px")}Ve(!1),kt(!1),Tt(null)},onPointerMove:Et=>{var Zt,ve,_e;if(!Qi.current||!Ji||((Zt=window.getSelection())==null?void 0:Zt.toString().length)>0)return;const ee=Et.clientY-Qi.current.y,Je=Et.clientX-Qi.current.x;var Jr;const Qe=(Jr=n.swipeDirections)!=null?Jr:EL(wt);!xt&&(Math.abs(Je)>1||Math.abs(ee)>1)&&Tt(Math.abs(Je)>Math.abs(ee)?"x":"y");let Ze={x:0,y:0};const Hs=qn=>1/(1.5+Math.abs(qn)/20);if(xt==="y"){if(Qe.includes("top")||Qe.includes("bottom"))if(Qe.includes("top")&&ee<0||Qe.includes("bottom")&&ee>0)Ze.y=ee;else{const qn=ee*Hs(ee);Ze.y=Math.abs(qn)<Math.abs(ee)?qn:ee}}else if(xt==="x"&&(Qe.includes("left")||Qe.includes("right")))if(Qe.includes("left")&&Je<0||Qe.includes("right")&&Je>0)Ze.x=Je;else{const qn=Je*Hs(Je);Ze.x=Math.abs(qn)<Math.abs(Je)?qn:Je}(Math.abs(Ze.x)>0||Math.abs(Ze.y)>0)&&Ve(!0),(ve=fn.current)==null||ve.style.setProperty("--swipe-amount-x",`${Ze.x}px`),(_e=fn.current)==null||_e.style.setProperty("--swipe-amount-y",`${Ze.y}px`)}},Aa&&!m.jsx&&qe!=="loading"?Z.createElement("button",{"aria-label":G,"data-disabled":Zo,"data-close-button":!0,onClick:Zo||!Ji?()=>{}:()=>{Zn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:ri(D?.closeButton,m==null||(i=m.classNames)==null?void 0:i.closeButton)},(Wn=Y?.close)!=null?Wn:aL):null,(qe||m.icon||m.promise)&&m.icon!==null&&(Y?.[qe]!==null||m.icon)?Z.createElement("div",{"data-icon":"",className:ri(D?.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Bs():null,m.type!=="loading"?_s:null):null,Z.createElement("div",{"data-content":"",className:ri(D?.content,m==null||(l=m.classNames)==null?void 0:l.content)},Z.createElement("div",{"data-title":"",className:ri(D?.title,m==null||(c=m.classNames)==null?void 0:c.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Z.createElement("div",{"data-description":"",className:ri(pt,Df,D?.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),Z.isValidElement(m.cancel)?m.cancel:m.cancel&&au(m.cancel)?Z.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||j,onClick:Et=>{au(m.cancel)&&Ji&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Et),Zn())},className:ri(D?.cancelButton,m==null||(d=m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,Z.isValidElement(m.action)?m.action:m.action&&au(m.action)?Z.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||W,onClick:Et=>{au(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Et),!Et.defaultPrevented&&Zn())},className:ri(D?.actionButton,m==null||(h=m.classNames)==null?void 0:h.actionButton)},m.action.label):null)};function xx(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function CL(n,t){const e={};return[n,t].forEach((i,s)=>{const l=s===1,c=l?"--mobile-offset":"--offset",u=l?bL:yL;function d(h){["top","right","bottom","left"].forEach(g=>{e[`${c}-${g}`]=typeof h=="number"?`${h}px`:h})}typeof i=="number"||typeof i=="string"?d(i):typeof i=="object"?["top","right","bottom","left"].forEach(h=>{i[h]===void 0?e[`${c}-${h}`]=u:e[`${c}-${h}`]=typeof i[h]=="number"?`${i[h]}px`:i[h]}):d(u)}),e}const kL=Z.forwardRef(function(t,e){const{id:i,invert:s,position:l="bottom-right",hotkey:c=["altKey","KeyT"],expand:u,closeButton:d,className:h,offset:g,mobileOffset:m,theme:b="light",richColors:v,duration:x,style:w,visibleToasts:E=gL,toastOptions:C,dir:A=xx(),gap:_=xL,icons:V,containerAriaLabel:H="Notifications"}=t,[$,N]=Z.useState([]),j=Z.useMemo(()=>i?$.filter(q=>q.toasterId===i):$.filter(q=>!q.toasterId),[$,i]),W=Z.useMemo(()=>Array.from(new Set([l].concat(j.filter(q=>q.position).map(q=>q.position)))),[j,l]),[et,pt]=Z.useState([]),[ct,wt]=Z.useState(!1),[mt,yt]=Z.useState(!1),[D,Y]=Z.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=Z.useRef(null),xt=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),Tt=Z.useRef(null),M=Z.useRef(!1),P=Z.useCallback(q=>{N(J=>{var it;return(it=J.find(gt=>gt.id===q.id))!=null&&it.delete||ln.dismiss(q.id),J.filter(({id:gt})=>gt!==q.id)})},[]);return Z.useEffect(()=>ln.subscribe(q=>{if(q.dismiss){requestAnimationFrame(()=>{N(J=>J.map(it=>it.id===q.id?{...it,delete:!0}:it))});return}setTimeout(()=>{Tx.flushSync(()=>{N(J=>{const it=J.findIndex(gt=>gt.id===q.id);return it!==-1?[...J.slice(0,it),{...J[it],...q},...J.slice(it+1)]:[q,...J]})})})}),[$]),Z.useEffect(()=>{if(b!=="system"){Y(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;const q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:J})=>{Y(J?"dark":"light")})}catch{q.addListener(({matches:it})=>{try{Y(it?"dark":"light")}catch(gt){console.error(gt)}})}},[b]),Z.useEffect(()=>{$.length<=1&&wt(!1)},[$]),Z.useEffect(()=>{const q=J=>{var it;if(c.every(kt=>J[kt]||J.code===kt)){var ut;wt(!0),(ut=G.current)==null||ut.focus()}J.code==="Escape"&&(document.activeElement===G.current||(it=G.current)!=null&&it.contains(document.activeElement))&&wt(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[c]),Z.useEffect(()=>{if(G.current)return()=>{Tt.current&&(Tt.current.focus({preventScroll:!0}),Tt.current=null,M.current=!1)}},[G.current]),Z.createElement("section",{ref:e,"aria-label":`${H} ${xt}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},W.map((q,J)=>{var it;const[gt,ut]=q.split("-");return j.length?Z.createElement("ol",{key:q,dir:A==="auto"?xx():A,tabIndex:-1,ref:G,className:h,"data-sonner-toaster":!0,"data-sonner-theme":D,"data-y-position":gt,"data-x-position":ut,style:{"--front-toast-height":`${((it=et[0])==null?void 0:it.height)||0}px`,"--width":`${vL}px`,"--gap":`${_}px`,...w,...CL(g,m)},onBlur:kt=>{M.current&&!kt.currentTarget.contains(kt.relatedTarget)&&(M.current=!1,Tt.current&&(Tt.current.focus({preventScroll:!0}),Tt.current=null))},onFocus:kt=>{kt.target instanceof HTMLElement&&kt.target.dataset.dismissible==="false"||M.current||(M.current=!0,Tt.current=kt.relatedTarget)},onMouseEnter:()=>wt(!0),onMouseMove:()=>wt(!0),onMouseLeave:()=>{mt||wt(!1)},onDragEnd:()=>wt(!1),onPointerDown:kt=>{kt.target instanceof HTMLElement&&kt.target.dataset.dismissible==="false"||yt(!0)},onPointerUp:()=>yt(!1)},j.filter(kt=>!kt.position&&J===0||kt.position===q).map((kt,_t)=>{var Ie,un;return Z.createElement(TL,{key:kt.id,icons:V,index:_t,toast:kt,defaultRichColors:v,duration:(Ie=C?.duration)!=null?Ie:x,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:s,visibleToasts:E,closeButton:(un=C?.closeButton)!=null?un:d,interacting:mt,position:q,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,closeButtonAriaLabel:C?.closeButtonAriaLabel,removeToast:P,toasts:j.filter(Ve=>Ve.position==kt.position),heights:et.filter(Ve=>Ve.position==kt.position),setHeights:pt,expandByDefault:u,gap:_,expanded:ct,swipeDirections:t.swipeDirections})})):null}))}),Sx=["yellow","blue","green","pink","purple","orange"];function ML(){const[n,t]=tt.useState([]),[e,i]=tt.useState(null),[s,l]=tt.useState(0),c=()=>`note-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,u=tt.useCallback((b,v,x)=>{const w=x||Sx[s%Sx.length];l(C=>C+1);const E={id:c(),x:b,y:v,content:"",width:300,height:200,color:w,createdAt:Date.now()};t(C=>[...C,E]),i(E.id),bx.success("Note created!")},[s]),d=tt.useCallback((b,v)=>{t(x=>x.map(w=>w.id===b?{...w,...v}:w))},[]),h=tt.useCallback(b=>{t(v=>v.filter(x=>x.id!==b)),e===b&&i(null),bx.info("Note deleted")},[e]),g=tt.useCallback(b=>{i(b)},[]),m=tt.useCallback(b=>{if((b.key==="Delete"||b.key==="Backspace")&&e){if(b.target instanceof HTMLInputElement||b.target instanceof HTMLTextAreaElement||b.target.isContentEditable)return;h(e)}b.key==="Escape"&&i(null)},[e,h]);return rt.jsxs("div",{"code-path":"src/App.tsx:84:5",className:"w-full h-screen overflow-hidden",onKeyDown:m,tabIndex:0,children:[rt.jsx(W4,{"code-path":"src/App.tsx:89:7",notes:n,selectedNoteId:e,onAddNote:u,onUpdateNote:d,onDeleteNote:h,onSelectNote:g}),rt.jsx(kL,{"code-path":"src/App.tsx:97:7",position:"bottom-center"})]})}kk.createRoot(document.getElementById("root")).render(rt.jsx(tt.StrictMode,{"code-path":"src/main.tsx:7:3",children:rt.jsx(ML,{"code-path":"src/main.tsx:8:5"})}));
